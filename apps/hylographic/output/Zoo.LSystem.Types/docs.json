{"comments":"L-System Types\n\nLindenmayer systems as a showcase for hylomorphisms and apomorphisms.\nAn L-system is a textbook hylomorphism:\n  - Anamorphism: expand axiom by applying production rules\n  - Catamorphism: interpret expanded string as turtle graphics\n\nThe apomorphism variant enables lazy/infinite generation:\n  - Stop expanding when viewport is filled\n  - Resume from where we left off when user scrolls\n","declarations":[{"children":[],"comments":"An L-system is defined by:\n  - An axiom (starting string)\n  - Production rules (character → replacement string)\n  - Interpretation parameters (angle for turns)\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["name",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"contents":["axiom",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"contents":["rules",{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Map","Internal"],"Map"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Char"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":["angle",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["description",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[33,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[27,1]},"title":"LSystem"},{"children":[],"comments":"A single production rule: character → replacement\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["from",{"annotation":[],"contents":[["Prim"],"Char"],"tag":"TypeConstructor"},{"annotation":[],"contents":["to",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[36,43],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[36,1]},"title":"Rule"},{"children":[],"comments":"The turtle's state during interpretation.\nClassic Logo-style turtle graphics.\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["x",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["y",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["angle",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["penDown",{"annotation":[],"contents":[["Prim"],"Boolean"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[49,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[44,1]},"title":"TurtleState"},{"children":[],"comments":"Initial turtle state (at origin, facing up)\n","info":{"declType":"value","type":{"annotation":[],"contents":[["Zoo","LSystem","Types"],"TurtleState"],"tag":"TypeConstructor"}},"kind":null,"sourceSpan":{"end":[52,29],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[52,1]},"title":"initialTurtle"},{"children":[],"comments":"Stack for bracket operations ([ and ])\nPushing saves state, popping restores it.\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"TurtleState"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[62,37],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[62,1]},"title":"TurtleStack"},{"children":[],"comments":"A line segment drawn by the turtle.\nThese are the atoms of our visualization.\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["x1",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["y1",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["x2",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["y2",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["depth",{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[76,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[70,1]},"title":"Segment"},{"children":[],"comments":"Bounds of all segments (for viewport calculations)\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["minX",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["maxX",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["minY",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["maxY",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[84,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[79,1]},"title":"Bounds"},{"children":[],"comments":null,"info":{"declType":"value","type":{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Bounds"],"tag":"TypeConstructor"}},"kind":null,"sourceSpan":{"end":[86,22],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[86,1]},"title":"emptyBounds"},{"children":[],"comments":"Expand bounds to include a segment\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Bounds"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Segment"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Bounds"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[95,44],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[95,1]},"title":"expandBounds"},{"children":[],"comments":"Viewport for determining when to stop lazy generation.\nThe apomorphism uses this to know when \"enough\" has been generated.\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["width",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["height",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["scrollY",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[113,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[109,1]},"title":"Viewport"},{"children":[],"comments":"Check if bounds fill the viewport (with some margin)\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Viewport"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Bounds"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Boolean"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[116,48],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[116,1]},"title":"viewportFilled"},{"children":[],"comments":"State for the lazy expansion apomorphism.\nTracks progress through expansion for resumability.\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["currentString",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"contents":["iteration",{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"},{"annotation":[],"contents":["segments",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Segment"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":["bounds",{"annotation":[],"contents":[["Zoo","LSystem","Types"],"Bounds"],"tag":"TypeConstructor"},{"annotation":[],"contents":["continuation",{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Zoo","LSystem","Types"],"ContinuationState"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[137,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[131,1]},"title":"ExpansionState"},{"children":[],"comments":"Continuation for resumable generation.\nStores enough info to pick up where we left off.\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["remainingString",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"contents":["turtleState",{"annotation":[],"contents":[["Zoo","LSystem","Types"],"TurtleState"],"tag":"TypeConstructor"},{"annotation":[],"contents":["stack",{"annotation":[],"contents":[["Zoo","LSystem","Types"],"TurtleStack"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[145,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[141,1]},"title":"ContinuationState"},{"children":[],"comments":"Configuration for how to render the L-system.\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["stepLength",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["lengthScale",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["strokeWidth",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["widthScale",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["colorByDepth",{"annotation":[],"contents":[["Prim"],"Boolean"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[158,4],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[152,1]},"title":"RenderConfig"},{"children":[],"comments":null,"info":{"declType":"value","type":{"annotation":[],"contents":[["Zoo","LSystem","Types"],"RenderConfig"],"tag":"TypeConstructor"}},"kind":null,"sourceSpan":{"end":[160,36],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[160,1]},"title":"defaultRenderConfig"},{"children":[],"comments":"Convert degrees to radians\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[174,30],"name":"../../showcases/psd3-prim-zoo-mosh/src/Zoo/LSystem/Types.purs","start":[174,1]},"title":"toRadians"}],"name":"Zoo.LSystem.Types","reExports":[]}