// Generated by purs version 0.15.15
import * as Control_Category from "../Control.Category/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Map from "../Data.Map/index.js";
import * as Data_Map_Internal from "../Data.Map.Internal/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Data_Set from "../Data.Set/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Tuple from "../Data.Tuple/index.js";
import * as Data_Unfoldable from "../Data.Unfoldable/index.js";
import * as Hylograph_Internal_Behavior_Types from "../Hylograph.Internal.Behavior.Types/index.js";
import * as Hylograph_Internal_Selection_Types from "../Hylograph.Internal.Selection.Types/index.js";
var $runtime_lazy = function (name, moduleName, init) {
    var state = 0;
    var val;
    return function (lineNumber) {
        if (state === 2) return val;
        if (state === 1) throw new ReferenceError(name + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
        state = 1;
        val = init();
        state = 2;
        return val;
    };
};
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showNumber);
var eq = /* #__PURE__ */ Data_Eq.eq(Hylograph_Internal_Selection_Types.eqElementType);
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var toUnfoldable = /* #__PURE__ */ Data_Map_Internal.toUnfoldable(Data_Unfoldable.unfoldableArray);
var fromFoldable = /* #__PURE__ */ Data_Array.fromFoldable(Data_Set.foldableSet);
var map1 = /* #__PURE__ */ Data_Functor.map(Data_Maybe.functorMaybe);
var append = /* #__PURE__ */ Data_Semigroup.append(Data_Semigroup.semigroupArray);
var DepthFirst = /* #__PURE__ */ (function () {
    function DepthFirst() {

    };
    DepthFirst.value = new DepthFirst();
    return DepthFirst;
})();
var BreadthFirst = /* #__PURE__ */ (function () {
    function BreadthFirst() {

    };
    BreadthFirst.value = new BreadthFirst();
    return BreadthFirst;
})();
var ThunkedMouseEnter = /* #__PURE__ */ (function () {
    function ThunkedMouseEnter(value0) {
        this.value0 = value0;
    };
    ThunkedMouseEnter.create = function (value0) {
        return new ThunkedMouseEnter(value0);
    };
    return ThunkedMouseEnter;
})();
var ThunkedMouseLeave = /* #__PURE__ */ (function () {
    function ThunkedMouseLeave(value0) {
        this.value0 = value0;
    };
    ThunkedMouseLeave.create = function (value0) {
        return new ThunkedMouseLeave(value0);
    };
    return ThunkedMouseLeave;
})();
var ThunkedClick = /* #__PURE__ */ (function () {
    function ThunkedClick(value0) {
        this.value0 = value0;
    };
    ThunkedClick.create = function (value0) {
        return new ThunkedClick(value0);
    };
    return ThunkedClick;
})();
var ThunkedDrag = /* #__PURE__ */ (function () {
    function ThunkedDrag(value0) {
        this.value0 = value0;
    };
    ThunkedDrag.create = function (value0) {
        return new ThunkedDrag(value0);
    };
    return ThunkedDrag;
})();
var ThunkedZoom = /* #__PURE__ */ (function () {
    function ThunkedZoom(value0) {
        this.value0 = value0;
    };
    ThunkedZoom.create = function (value0) {
        return new ThunkedZoom(value0);
    };
    return ThunkedZoom;
})();
var ThunkedCoordinatedHighlight = /* #__PURE__ */ (function () {
    function ThunkedCoordinatedHighlight(value0) {
        this.value0 = value0;
    };
    ThunkedCoordinatedHighlight.create = function (value0) {
        return new ThunkedCoordinatedHighlight(value0);
    };
    return ThunkedCoordinatedHighlight;
})();
var ThunkedCoordinatedInteraction = /* #__PURE__ */ (function () {
    function ThunkedCoordinatedInteraction(value0) {
        this.value0 = value0;
    };
    ThunkedCoordinatedInteraction.create = function (value0) {
        return new ThunkedCoordinatedInteraction(value0);
    };
    return ThunkedCoordinatedInteraction;
})();
var ThunkedBrush = /* #__PURE__ */ (function () {
    function ThunkedBrush(value0) {
        this.value0 = value0;
    };
    ThunkedBrush.create = function (value0) {
        return new ThunkedBrush(value0);
    };
    return ThunkedBrush;
})();
var MapValues = function (x) {
    return x;
};
var MapKeys = function (x) {
    return x;
};
var MapEntries = function (x) {
    return x;
};
var FromArray = /* #__PURE__ */ (function () {
    function FromArray(value0) {
        this.value0 = value0;
    };
    FromArray.create = function (value0) {
        return new FromArray(value0);
    };
    return FromArray;
})();
var FromTree = /* #__PURE__ */ (function () {
    function FromTree(value0) {
        this.value0 = value0;
    };
    FromTree.create = function (value0) {
        return new FromTree(value0);
    };
    return FromTree;
})();
var WithContext = /* #__PURE__ */ (function () {
    function WithContext(value0) {
        this.value0 = value0;
    };
    WithContext.create = function (value0) {
        return new WithContext(value0);
    };
    return WithContext;
})();
var StaticAttr = /* #__PURE__ */ (function () {
    function StaticAttr(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    StaticAttr.create = function (value0) {
        return function (value1) {
            return new StaticAttr(value0, value1);
        };
    };
    return StaticAttr;
})();
var ThunkedAttr = /* #__PURE__ */ (function () {
    function ThunkedAttr(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    ThunkedAttr.create = function (value0) {
        return function (value1) {
            return new ThunkedAttr(value0, value1);
        };
    };
    return ThunkedAttr;
})();
var Siblings = /* #__PURE__ */ (function () {
    function Siblings() {

    };
    Siblings.value = new Siblings();
    return Siblings;
})();
var Nested = /* #__PURE__ */ (function () {
    function Nested() {

    };
    Nested.value = new Nested();
    return Nested;
})();
var Elem = /* #__PURE__ */ (function () {
    function Elem(value0) {
        this.value0 = value0;
    };
    Elem.create = function (value0) {
        return new Elem(value0);
    };
    return Elem;
})();
var MkFold = /* #__PURE__ */ (function () {
    function MkFold(value0) {
        this.value0 = value0;
    };
    MkFold.create = function (value0) {
        return new MkFold(value0);
    };
    return MkFold;
})();
var Empty = /* #__PURE__ */ (function () {
    function Empty() {

    };
    Empty.value = new Empty();
    return Empty;
})();
var SomeFold = function (x) {
    return x;
};
var thunkedStr = function (name) {
    return function (value) {
        return new ThunkedAttr(name, function (v) {
            return value;
        });
    };
};
var thunkedNum = function (name) {
    return function (value) {
        return new ThunkedAttr(name, function (v) {
            return show(value);
        });
    };
};
var staticStr = function (name) {
    return function (value) {
        return new StaticAttr(name, value);
    };
};
var staticNum = function (name) {
    return function (value) {
        return new StaticAttr(name, show(value));
    };
};
var siblings = function (trees) {
    var $lazy_flatten = $runtime_lazy("flatten", "Hylograph.HATS", function () {
        return Data_Array.concatMap(function (t) {
            if (t instanceof Empty) {
                return [  ];
            };
            var v = function (v1) {
                return [ t ];
            };
            if (t instanceof Elem) {
                var $41 = eq(t.value0.elemType)(Hylograph_Internal_Selection_Types.Group.value);
                if ($41) {
                    var $42 = Data_Array["null"](t.value0.attrs);
                    if ($42) {
                        var $43 = Data_Array["null"](t.value0.behaviors);
                        if ($43) {
                            return $lazy_flatten(299)(t.value0.children);
                        };
                        return v(true);
                    };
                    return v(true);
                };
                return v(true);
            };
            return v(true);
        });
    });
    var flatten = $lazy_flatten(292);
    var v = flatten(trees);
    if (v.length === 0) {
        return Empty.value;
    };
    if (v.length === 1) {
        return v[0];
    };
    return new Elem({
        elemType: Hylograph_Internal_Selection_Types.Group.value,
        attrs: [  ],
        children: v,
        behaviors: [  ]
    });
};
var semigroupTree = {
    append: function (v) {
        return function (v1) {
            if (v instanceof Empty) {
                return v1;
            };
            if (v1 instanceof Empty) {
                return v;
            };
            return siblings([ v, v1 ]);
        };
    }
};
var monoidTree = /* #__PURE__ */ (function () {
    return {
        mempty: Empty.value,
        Semigroup0: function () {
            return semigroupTree;
        }
    };
})();
var runSomeFold = function (v) {
    return function (k) {
        return v(k);
    };
};
var projectMapValues = function (dictOrd) {
    return function (dictOrd1) {
        var nub = Data_Array.nub(dictOrd1);
        return {
            project: function (v) {
                return nub(map(Data_Tuple.snd)(toUnfoldable(v)));
            }
        };
    };
};
var projectMapKeys = function (dictOrd) {
    return {
        project: function (v) {
            return fromFoldable(Data_Map.keys(v));
        }
    };
};
var projectMapEntries = function (dictOrd) {
    return {
        project: function (v) {
            return toUnfoldable(v);
        }
    };
};
var projectArray = {
    project: /* #__PURE__ */ Control_Category.identity(Control_Category.categoryFn)
};
var project = function (dict) {
    return dict.project;
};
var onZoom = /* #__PURE__ */ (function () {
    return ThunkedZoom.create;
})();
var onMouseLeave = function (handler) {
    return new ThunkedMouseLeave(function (v) {
        return handler;
    });
};
var onMouseEnter = function (handler) {
    return new ThunkedMouseEnter(function (v) {
        return handler;
    });
};
var onDrag = /* #__PURE__ */ (function () {
    return ThunkedDrag.create;
})();
var onCoordinatedInteraction = function (config) {
    return new ThunkedCoordinatedInteraction({
        identify: function (v) {
            return config.identify;
        },
        respond: config.respond,
        position: map1(function (pos) {
            return function (v) {
                return pos;
            };
        })(config.position),
        group: config.group
    });
};
var onCoordinatedHighlightWithTooltip = function (config) {
    return new ThunkedCoordinatedHighlight({
        identify: function (v) {
            return config.identify;
        },
        classify: config.classify,
        group: config.group,
        tooltipContent: map1(function (t) {
            return function (v) {
                return t.content;
            };
        })(config.tooltip),
        tooltipTrigger: (function () {
            if (config.tooltip instanceof Data_Maybe.Just) {
                return config.tooltip.value0.showWhen;
            };
            if (config.tooltip instanceof Data_Maybe.Nothing) {
                return Hylograph_Internal_Behavior_Types.OnHover.value;
            };
            throw new Error("Failed pattern match at Hylograph.HATS (line 622, column 21 - line 624, column 25): " + [ config.tooltip.constructor.name ]);
        })()
    });
};
var onCoordinatedHighlight = function (config) {
    return new ThunkedCoordinatedHighlight({
        identify: function (v) {
            return config.identify;
        },
        classify: config.classify,
        group: config.group,
        tooltipContent: Data_Maybe.Nothing.value,
        tooltipTrigger: Hylograph_Internal_Behavior_Types.OnHover.value
    });
};
var onClick = function (handler) {
    return new ThunkedClick(function (v) {
        return handler;
    });
};
var onBrush = function (config) {
    return new ThunkedBrush({
        extent: config.extent,
        group: config.group
    });
};
var mkSomeFold = function (spec) {
    return function (k) {
        return k(spec);
    };
};
var preserveTree = function (name) {
    return function (elementType) {
        return function (root) {
            return function (children) {
                return function (keyFn) {
                    return function (template) {
                        return new MkFold(mkSomeFold({
                            name: name,
                            elementType: elementType,
                            enumerate: new FromTree({
                                root: root,
                                children: children,
                                order: DepthFirst.value,
                                includeInternal: true
                            }),
                            assemble: Nested.value,
                            keyFn: keyFn,
                            template: template,
                            gup: Data_Maybe.Nothing.value
                        }));
                    };
                };
            };
        };
    };
};
var withBehaviors = function (bs) {
    return function (v) {
        if (v instanceof Elem) {
            return new Elem({
                elemType: v.value0.elemType,
                attrs: v.value0.attrs,
                children: v.value0.children,
                behaviors: append(v.value0.behaviors)(bs)
            });
        };
        if (v instanceof MkFold) {
            return runSomeFold(v.value0)(function (spec) {
                return new MkFold(mkSomeFold({
                    name: spec.name,
                    elementType: spec.elementType,
                    enumerate: spec.enumerate,
                    assemble: spec.assemble,
                    keyFn: spec.keyFn,
                    gup: spec.gup,
                    template: function (datum) {
                        return withBehaviors(bs)(spec.template(datum));
                    }
                }));
            });
        };
        if (v instanceof Empty) {
            return Empty.value;
        };
        throw new Error("Failed pattern match at Hylograph.HATS (line 489, column 20 - line 494, column 17): " + [ v.constructor.name ]);
    };
};
var fromTree = function (name) {
    return function (elementType) {
        return function (root) {
            return function (children) {
                return function (keyFn) {
                    return function (order) {
                        return function (includeInternal) {
                            return function (template) {
                                return new MkFold(mkSomeFold({
                                    name: name,
                                    elementType: elementType,
                                    enumerate: new FromTree({
                                        root: root,
                                        children: children,
                                        order: order,
                                        includeInternal: includeInternal
                                    }),
                                    assemble: Siblings.value,
                                    keyFn: keyFn,
                                    template: template,
                                    gup: Data_Maybe.Nothing.value
                                }));
                            };
                        };
                    };
                };
            };
        };
    };
};
var forEachWithGUP = function (name) {
    return function (elementType) {
        return function (items) {
            return function (keyFn) {
                return function (template) {
                    return function (gupSpec) {
                        return new MkFold(mkSomeFold({
                            name: name,
                            elementType: elementType,
                            enumerate: new FromArray(items),
                            assemble: Siblings.value,
                            keyFn: keyFn,
                            template: template,
                            gup: new Data_Maybe.Just(gupSpec)
                        }));
                    };
                };
            };
        };
    };
};
var forEach = function (name) {
    return function (elementType) {
        return function (items) {
            return function (keyFn) {
                return function (template) {
                    return new MkFold(mkSomeFold({
                        name: name,
                        elementType: elementType,
                        enumerate: new FromArray(items),
                        assemble: Siblings.value,
                        keyFn: keyFn,
                        template: template,
                        gup: Data_Maybe.Nothing.value
                    }));
                };
            };
        };
    };
};
var forEachP = function (dictProject) {
    var project1 = project(dictProject);
    return function (name) {
        return function (elementType) {
            return function (source) {
                return function (keyFn) {
                    return function (template) {
                        return forEach(name)(elementType)(project1(source))(keyFn)(template);
                    };
                };
            };
        };
    };
};
var fold = function (spec) {
    return new MkFold(mkSomeFold(spec));
};
var empty = /* #__PURE__ */ (function () {
    return Empty.value;
})();
var elem = function (elemType) {
    return function (attrs) {
        return function (children) {
            return new Elem({
                elemType: elemType,
                attrs: attrs,
                children: children,
                behaviors: [  ]
            });
        };
    };
};
export {
    Elem,
    MkFold,
    Empty,
    FromArray,
    FromTree,
    WithContext,
    Siblings,
    Nested,
    DepthFirst,
    BreadthFirst,
    mkSomeFold,
    runSomeFold,
    StaticAttr,
    ThunkedAttr,
    ThunkedMouseEnter,
    ThunkedMouseLeave,
    ThunkedClick,
    ThunkedDrag,
    ThunkedZoom,
    ThunkedCoordinatedHighlight,
    ThunkedCoordinatedInteraction,
    ThunkedBrush,
    elem,
    fold,
    empty,
    siblings,
    forEach,
    forEachP,
    forEachWithGUP,
    fromTree,
    preserveTree,
    project,
    MapKeys,
    MapValues,
    MapEntries,
    withBehaviors,
    staticStr,
    staticNum,
    thunkedStr,
    thunkedNum,
    onMouseEnter,
    onMouseLeave,
    onClick,
    onDrag,
    onZoom,
    onCoordinatedHighlight,
    onCoordinatedHighlightWithTooltip,
    onCoordinatedInteraction,
    onBrush,
    semigroupTree,
    monoidTree,
    projectArray,
    projectMapKeys,
    projectMapValues,
    projectMapEntries
};
export {
    Dimmed,
    Downstream,
    Neutral,
    Primary,
    Related,
    Upstream,
    OnHover,
    WhenPrimary,
    WhenRelated
} from "../Hylograph.Internal.Behavior.Types/index.js";
//# sourceMappingURL=index.js.map
