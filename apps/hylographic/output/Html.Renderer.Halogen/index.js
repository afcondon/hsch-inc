// Generated by purs version 0.15.15
import * as Control_Alt from "../Control.Alt/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Html_Parser from "../Html.Parser/index.js";
var mapFlipped = /* #__PURE__ */ Data_Functor.mapFlipped(Data_Maybe.functorMaybe);
var alt = /* #__PURE__ */ Control_Alt.alt(Data_Maybe.altMaybe);
var mapFlipped1 = /* #__PURE__ */ Data_Functor.mapFlipped(Data_Functor.functorArray);
var fromFoldable = /* #__PURE__ */ Data_Array.fromFoldable(Data_Foldable.foldableArray);
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var htmlAttributeToProp = function (v) {
    return Halogen_HTML_Properties.attr(v.value0)(v.value1);
};
var nodeToHtml = function (v) {
    return function (v1) {
        if (v1 instanceof Html_Parser.HtmlElement) {
            return elementToHtml(v)(v1.value0);
        };
        if (v1 instanceof Html_Parser.HtmlText) {
            return Halogen_HTML_Core.text(v1.value0);
        };
        if (v1 instanceof Html_Parser.HtmlComment) {
            return Halogen_HTML_Core.text("");
        };
        throw new Error("Failed pattern match at Html.Renderer.Halogen (line 38, column 1 - line 38, column 72): " + [ v.constructor.name, v1.constructor.name ]);
    };
};
var elementToHtml = function (mParentNs) {
    return function (ele) {
        var mCurNs = mapFlipped(Data_Array.find(function (v) {
            return v.value0 === "xmlns";
        })(ele.attributes))(function (v) {
            return v.value1;
        });
        var mNs = alt(mCurNs)(mParentNs);
        var ctor = (function () {
            if (mNs instanceof Data_Maybe.Just) {
                return Halogen_HTML_Elements.elementNS(mNs.value0);
            };
            if (mNs instanceof Data_Maybe.Nothing) {
                return Halogen_HTML_Elements.element;
            };
            throw new Error("Failed pattern match at Html.Renderer.Halogen (line 34, column 12 - line 36, column 28): " + [ mNs.constructor.name ]);
        })();
        var children = mapFlipped1(ele.children)(nodeToHtml(mNs));
        return ctor(ele.name)(fromFoldable(map(htmlAttributeToProp)(ele.attributes)))(children);
    };
};
var renderToArray = function (raw) {
    return map(nodeToHtml(Data_Maybe.Nothing.value))(Html_Parser.parse(raw));
};
var render = function (props) {
    var $28 = Halogen_HTML_Elements.div(props);
    return function ($29) {
        return $28(renderToArray($29));
    };
};
var render_ = /* #__PURE__ */ render([  ]);
export {
    htmlAttributeToProp,
    elementToHtml,
    nodeToHtml,
    render_,
    render,
    renderToArray
};
//# sourceMappingURL=index.js.map
