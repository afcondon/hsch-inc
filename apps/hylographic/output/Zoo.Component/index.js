// Generated by purs version 0.15.15
import * as Control_Bind from "../Control.Bind/index.js";
import * as Control_Monad_State_Class from "../Control.Monad.State.Class/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Map_Internal from "../Data.Map.Internal/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as Data_Semigroup from "../Data.Semigroup/index.js";
import * as Data_Set from "../Data.Set/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Tuple from "../Data.Tuple/index.js";
import * as Data_Unfoldable from "../Data.Unfoldable/index.js";
import * as Effect_Class from "../Effect.Class/index.js";
import * as Halogen_Component from "../Halogen.Component/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Events from "../Halogen.HTML.Events/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_Query_HalogenM from "../Halogen.Query.HalogenM/index.js";
import * as Zoo_Chapters from "../Zoo.Chapters/index.js";
import * as Zoo_MorphismDAG from "../Zoo.MorphismDAG/index.js";
import * as Zoo_PanelRenderer from "../Zoo.PanelRenderer/index.js";
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var bind = /* #__PURE__ */ Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM);
var get = /* #__PURE__ */ Control_Monad_State_Class.get(Halogen_Query_HalogenM.monadStateHalogenM);
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit)(Halogen_Query_HalogenM.bindHalogenM);
var modify_ = /* #__PURE__ */ Control_Monad_State_Class.modify_(Halogen_Query_HalogenM.monadStateHalogenM);
var show1 = /* #__PURE__ */ Data_Show.show(Data_Show.showNumber);
var mapFlipped = /* #__PURE__ */ Data_Functor.mapFlipped(Data_Functor.functorArray);
var fromFoldable = /* #__PURE__ */ Data_Map_Internal.fromFoldable(Zoo_MorphismDAG.ordMorphism)(Data_Foldable.foldableArray);
var sort = /* #__PURE__ */ Data_Array.sort(Data_Ord.ordNumber);
var lookup = /* #__PURE__ */ Data_Map_Internal.lookup(Zoo_MorphismDAG.ordMorphism);
var mapFlipped1 = /* #__PURE__ */ Data_Functor.mapFlipped(Data_Maybe.functorMaybe);
var toUnfoldable = /* #__PURE__ */ Data_Set.toUnfoldable(Data_Unfoldable.unfoldableArray);
var append1 = /* #__PURE__ */ Data_Semigroup.append(Data_Semigroup.semigroupArray);
var show2 = /* #__PURE__ */ Data_Show.show(Zoo_MorphismDAG.showMorphism);
var Cata = /* #__PURE__ */ (function () {
    function Cata() {

    };
    Cata.value = new Cata();
    return Cata;
})();
var Ana = /* #__PURE__ */ (function () {
    function Ana() {

    };
    Ana.value = new Ana();
    return Ana;
})();
var Hylo = /* #__PURE__ */ (function () {
    function Hylo() {

    };
    Hylo.value = new Hylo();
    return Hylo;
})();
var Para = /* #__PURE__ */ (function () {
    function Para() {

    };
    Para.value = new Para();
    return Para;
})();
var Apo = /* #__PURE__ */ (function () {
    function Apo() {

    };
    Apo.value = new Apo();
    return Apo;
})();
var Histo = /* #__PURE__ */ (function () {
    function Histo() {

    };
    Histo.value = new Histo();
    return Histo;
})();
var Futu = /* #__PURE__ */ (function () {
    function Futu() {

    };
    Futu.value = new Futu();
    return Futu;
})();
var Zygo = /* #__PURE__ */ (function () {
    function Zygo() {

    };
    Zygo.value = new Zygo();
    return Zygo;
})();
var Initialize = /* #__PURE__ */ (function () {
    function Initialize() {

    };
    Initialize.value = new Initialize();
    return Initialize;
})();
var SelectMorphism = /* #__PURE__ */ (function () {
    function SelectMorphism(value0) {
        this.value0 = value0;
    };
    SelectMorphism.create = function (value0) {
        return new SelectMorphism(value0);
    };
    return SelectMorphism;
})();
var RevealSignature = /* #__PURE__ */ (function () {
    function RevealSignature() {

    };
    RevealSignature.value = new RevealSignature();
    return RevealSignature;
})();
var usageCode = function (v) {
    if (v instanceof Cata) {
        return "-- Evaluate an expression tree\x0aeval :: Expr -> Int\x0aeval = cata $ case _ of\x0a  LitF n     -> n\x0a  AddF x y   -> x + y\x0a  MulF x y   -> x * y\x0a  SubF x y   -> x - y";
    };
    if (v instanceof Ana) {
        return "-- Build a countdown list from n to 1\x0acountdown :: Int -> List Int\x0acountdown = ana $ \\\\n ->\x0a  if n <= 0\x0a    then NilF\x0a    else ConsF n (n - 1)";
    };
    if (v instanceof Hylo) {
        return "-- Factorial: unfold to list, fold with multiply\x0a-- But the list is never actually built!\x0afactorial :: Int -> Int\x0afactorial = hylo multiply countdown\x0a  where\x0a  multiply NilF = 1\x0a  multiply (ConsF n acc) = n * acc";
    };
    if (v instanceof Para) {
        return "-- Get all suffixes: [1,2,3] -> [[1,2,3],[2,3],[3],[]]\x0atails :: List a -> List (List a)\x0atails = para $ case _ of\x0a  NilF -> [[]]\x0a  ConsF x (Tuple originalTail results) ->\x0a    (x : originalTail) : results";
    };
    if (v instanceof Apo) {
        return "-- Insert into sorted list, reusing the tail\x0ainsert :: Int -> List Int -> List Int\x0ainsert n = apo $ \\\\xs -> case xs of\x0a  x:rest | n > x -> ConsF x (Right rest)  -- keep going\x0a  _              -> ConsF n (Left xs)     -- done! reuse xs";
    };
    if (v instanceof Histo) {
        return "-- Fibonacci with full history\x0afib :: Nat -> Int\x0afib = histo $ case _ of\x0a  ZeroF -> 0\x0a  SuccF (Cofree _ ZeroF) -> 1\x0a  SuccF (Cofree a (SuccF (Cofree b _))) -> a + b";
    };
    if (v instanceof Futu) {
        return "-- Generate pairs: 1,1,2,2,3,3...\x0apairs :: Int -> List Int\x0apairs = futu $ \\\\n ->\x0a  if n <= 0 then NilF\x0a  else ConsF n           -- first n\x0a         (Free (ConsF n  -- second n\x0a           (Pure (n+1))))  -- then recurse with n+1";
    };
    if (v instanceof Zygo) {
        return "-- Check palindrome using length as helper\x0aisPalindrome :: Eq a => List a -> Bool\x0aisPalindrome = zygo len check\x0a  where\x0a  len NilF = 0\x0a  len (ConsF _ n) = n + 1\x0a  check NilF = True\x0a  check (ConsF x (Tuple len (rest, ok))) =\x0a    ok && (len <= 1 || x == last rest)";
    };
    throw new Error("Failed pattern match at Zoo.Component (line 283, column 13 - line 343, column 42): " + [ v.constructor.name ]);
};
var svgNS = "http://www.w3.org/2000/svg";
var svg_ = /* #__PURE__ */ Halogen_HTML_Elements.elementNS(svgNS)("svg");
var text_ = /* #__PURE__ */ Halogen_HTML_Elements.elementNS(svgNS)("text");
var svgAttr = function (name) {
    return function (val) {
        return Halogen_HTML_Properties.attr(name)(val);
    };
};
var signatureExplanation = function (v) {
    if (v instanceof Cata) {
        return "An algebra (f a -> a) collapses one layer. Cata applies it bottom-up until the whole tree becomes a single value.";
    };
    if (v instanceof Ana) {
        return "A coalgebra (a -> f a) expands one layer. Ana applies it repeatedly, growing structure from a seed.";
    };
    if (v instanceof Hylo) {
        return "A coalgebra unfolds, an algebra folds. Hylo does both \u2014 but the compiler fuses them, skipping the intermediate structure!";
    };
    if (v instanceof Para) {
        return "Like cata, but the algebra receives a Tuple: the recursive result AND the original subtree, giving you memory.";
    };
    if (v instanceof Apo) {
        return "Like ana, but the coalgebra can return Either: Left to stop early and reuse existing structure, Right to keep going.";
    };
    if (v instanceof Histo) {
        return "Like cata, but the algebra receives a Cofree: the result decorated with ALL previous results in a chain.";
    };
    if (v instanceof Futu) {
        return "Like ana, but the coalgebra can return Free: multiple layers of structure before needing to recurse again.";
    };
    if (v instanceof Zygo) {
        return "Two algebras: a helper (f b -> b) and a main (f (Tuple b a) -> a). The helper's result informs each step of the main fold.";
    };
    throw new Error("Failed pattern match at Zoo.Component (line 357, column 24 - line 365, column 135): " + [ v.constructor.name ]);
};
var signatureCode = function (v) {
    if (v instanceof Cata) {
        return "cata :: Functor f => (f a -> a) -> Fix f -> a";
    };
    if (v instanceof Ana) {
        return "ana :: Functor f => (a -> f a) -> a -> Fix f";
    };
    if (v instanceof Hylo) {
        return "hylo :: Functor f => (f b -> b) -> (a -> f a) -> a -> b";
    };
    if (v instanceof Para) {
        return "para :: Functor f => (f (Tuple (Fix f) a) -> a) -> Fix f -> a";
    };
    if (v instanceof Apo) {
        return "apo :: Functor f => (a -> f (Either (Fix f) a)) -> a -> Fix f";
    };
    if (v instanceof Histo) {
        return "histo :: Functor f => (f (Cofree f a) -> a) -> Fix f -> a";
    };
    if (v instanceof Futu) {
        return "futu :: Functor f => (a -> f (Free f a)) -> a -> Fix f";
    };
    if (v instanceof Zygo) {
        return "zygo :: Functor f => (f b -> b) -> (f (Tuple b a) -> a) -> Fix f -> a";
    };
    throw new Error("Failed pattern match at Zoo.Component (line 346, column 17 - line 354, column 82): " + [ v.constructor.name ]);
};
var renderPanelContainers = function (chapter) {
    var renderPanelContainer = function (i) {
        return function (panel) {
            return Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("comic-panel") ])([ Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("speech-bubble") ])([ Halogen_HTML_Core.text(panel.caption) ]), Halogen_HTML_Elements.div([ Halogen_HTML_Properties.id("panel-" + show(i)), Halogen_HTML_Properties.class_("panel-diagram") ])([  ]) ]);
        };
    };
    return Data_Array.mapWithIndex(renderPanelContainer)(chapter.panels);
};
var renderHeader = /* #__PURE__ */ Halogen_HTML_Elements.header([ /* #__PURE__ */ Halogen_HTML_Properties.class_("book-header") ])([ /* #__PURE__ */ Halogen_HTML_Elements.h1_([ /* #__PURE__ */ Halogen_HTML_Core.text("The Morphism Zoo") ]), /* #__PURE__ */ Halogen_HTML_Elements.p([ /* #__PURE__ */ Halogen_HTML_Properties.class_("subtitle") ])([ /* #__PURE__ */ Halogen_HTML_Core.text("A friendly guide to recursion schemes") ]) ]);
var renderCodeSection = function (morph) {
    return function (revealed) {
        return Halogen_HTML_Elements.section([ Halogen_HTML_Properties.class_("code-section") ])([ Halogen_HTML_Elements.h3_([ Halogen_HTML_Core.text("The Code") ]), Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("code-example") ])([ Halogen_HTML_Elements.h4_([ Halogen_HTML_Core.text("Using it:") ]), Halogen_HTML_Elements.pre([ Halogen_HTML_Properties.class_("code-block usage") ])([ Halogen_HTML_Elements.code_([ Halogen_HTML_Core.text(usageCode(morph)) ]) ]) ]), Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("signature-container" + (function () {
            if (revealed) {
                return " revealed";
            };
            return "";
        })()) ])([ (function () {
            if (revealed) {
                return Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("signature-revealed") ])([ Halogen_HTML_Elements.h4_([ Halogen_HTML_Core.text("The type signature:") ]), Halogen_HTML_Elements.pre([ Halogen_HTML_Properties.class_("code-block signature") ])([ Halogen_HTML_Elements.code_([ Halogen_HTML_Core.text(signatureCode(morph)) ]) ]), Halogen_HTML_Elements.p([ Halogen_HTML_Properties.class_("signature-explained") ])([ Halogen_HTML_Core.text(signatureExplanation(morph)) ]) ]);
            };
            return Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("signature-egg") ])([ Halogen_HTML_Elements.button([ Halogen_HTML_Properties.class_("egg-button"), Halogen_HTML_Events.onClick(function (v) {
                return RevealSignature.value;
            }) ])([ Halogen_HTML_Elements.span([ Halogen_HTML_Properties.class_("egg-icon") ])([ Halogen_HTML_Core.text("\ud83e\udd5a") ]), Halogen_HTML_Elements.span([ Halogen_HTML_Properties.class_("egg-text") ])([ Halogen_HTML_Core.text("Reveal the type signature") ]) ]) ]);
        })() ]) ]);
    };
};
var renderChapter = function (chapter) {
    return function (revealed) {
        return function (morph) {
            return Halogen_HTML_Elements.main([ Halogen_HTML_Properties.class_("chapter") ])([ Halogen_HTML_Elements.h2([ Halogen_HTML_Properties.class_("chapter-title") ])([ Halogen_HTML_Core.text("The " + chapter.morphism) ]), Halogen_HTML_Elements.p([ Halogen_HTML_Properties.class_("chapter-tagline") ])([ Halogen_HTML_Core.text(chapter.tagline) ]), Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("comic-strip") ])(renderPanelContainers(chapter)), renderCodeSection(morph)(revealed) ]);
        };
    };
};
var path_ = function (props) {
    return Halogen_HTML_Elements.elementNS(svgNS)("path")(props)([  ]);
};
var morphismName = function (v) {
    if (v instanceof Cata) {
        return "Catamorphism";
    };
    if (v instanceof Ana) {
        return "Anamorphism";
    };
    if (v instanceof Hylo) {
        return "Hylomorphism";
    };
    if (v instanceof Para) {
        return "Paramorphism";
    };
    if (v instanceof Apo) {
        return "Apomorphism";
    };
    if (v instanceof Histo) {
        return "Histomorphism";
    };
    if (v instanceof Futu) {
        return "Futumorphism";
    };
    if (v instanceof Zygo) {
        return "Zygomorphism";
    };
    throw new Error("Failed pattern match at Zoo.Component (line 74, column 16 - line 82, column 25): " + [ v.constructor.name ]);
};
var marker_ = /* #__PURE__ */ Halogen_HTML_Elements.elementNS(svgNS)("marker");
var line_ = function (props) {
    return Halogen_HTML_Elements.elementNS(svgNS)("line")(props)([  ]);
};
var handleAction = function (dictMonadEffect) {
    var liftEffect = Effect_Class.liftEffect(Halogen_Query_HalogenM.monadEffectHalogenM(dictMonadEffect));
    return function (v) {
        if (v instanceof Initialize) {
            return bind(get)(function (state) {
                return liftEffect(Zoo_PanelRenderer.renderChapterPanels(morphismName(state.currentMorphism)));
            });
        };
        if (v instanceof SelectMorphism) {
            return discard(modify_(function (v1) {
                var $51 = {};
                for (var $52 in v1) {
                    if ({}.hasOwnProperty.call(v1, $52)) {
                        $51[$52] = v1[$52];
                    };
                };
                $51.currentMorphism = v.value0;
                $51.signatureRevealed = false;
                return $51;
            }))(function () {
                return liftEffect(Zoo_PanelRenderer.renderChapterPanels(morphismName(v.value0)));
            });
        };
        if (v instanceof RevealSignature) {
            return modify_(function (v1) {
                var $55 = {};
                for (var $56 in v1) {
                    if ({}.hasOwnProperty.call(v1, $56)) {
                        $55[$56] = v1[$56];
                    };
                };
                $55.signatureRevealed = true;
                return $55;
            });
        };
        throw new Error("Failed pattern match at Zoo.Component (line 60, column 16 - line 70, column 45): " + [ v.constructor.name ]);
    };
};
var g_ = /* #__PURE__ */ Halogen_HTML_Elements.elementNS(svgNS)("g");
var eqMorphism = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Cata && y instanceof Cata) {
                return true;
            };
            if (x instanceof Ana && y instanceof Ana) {
                return true;
            };
            if (x instanceof Hylo && y instanceof Hylo) {
                return true;
            };
            if (x instanceof Para && y instanceof Para) {
                return true;
            };
            if (x instanceof Apo && y instanceof Apo) {
                return true;
            };
            if (x instanceof Histo && y instanceof Histo) {
                return true;
            };
            if (x instanceof Futu && y instanceof Futu) {
                return true;
            };
            if (x instanceof Zygo && y instanceof Zygo) {
                return true;
            };
            return false;
        };
    }
};
var eq1 = /* #__PURE__ */ Data_Eq.eq(eqMorphism);
var defs_ = /* #__PURE__ */ Halogen_HTML_Elements.elementNS(svgNS)("defs");
var dagEdge = function (x1) {
    return function (y1) {
        return function (x2) {
            return function (y2) {
                return line_([ svgAttr("x1")(show1(x1)), svgAttr("y1")(show1(y1)), svgAttr("x2")(show1(x2)), svgAttr("y2")(show1(y2)), svgAttr("stroke")("#2D3436"), svgAttr("stroke-width")("2"), svgAttr("marker-end")("url(#arrowhead)") ]);
            };
        };
    };
};
var currentChapter = function (m) {
    var v = Data_Array.find(function (c) {
        return c.morphism === morphismName(m);
    })(Zoo_Chapters.allChapters);
    if (v instanceof Data_Maybe.Nothing) {
        return {
            morphism: "Unknown",
            tagline: "",
            panels: [  ]
        };
    };
    if (v instanceof Data_Maybe.Just) {
        return v.value0;
    };
    throw new Error("Failed pattern match at Zoo.Component (line 86, column 20 - line 88, column 14): " + [ v.constructor.name ]);
};
var circle_ = function (props) {
    return Halogen_HTML_Elements.elementNS(svgNS)("circle")(props)([  ]);
};
var dagNode = function (morph) {
    return function (current) {
        return function (x) {
            return function (y) {
                return function (color) {
                    return function (label) {
                        return g_([ svgAttr("class")("dag-node" + (function () {
                            var $62 = eq1(morph)(current);
                            if ($62) {
                                return " active";
                            };
                            return "";
                        })()), svgAttr("cursor")("pointer"), Halogen_HTML_Events.onClick(function (v) {
                            return new SelectMorphism(morph);
                        }) ])([ circle_([ svgAttr("cx")(show1(x)), svgAttr("cy")(show1(y)), svgAttr("r")((function () {
                            var $63 = eq1(morph)(current);
                            if ($63) {
                                return "28";
                            };
                            return "24";
                        })()), svgAttr("fill")(color), svgAttr("stroke")("#2D3436"), svgAttr("stroke-width")((function () {
                            var $64 = eq1(morph)(current);
                            if ($64) {
                                return "4";
                            };
                            return "2";
                        })()) ]), text_([ svgAttr("x")(show1(x)), svgAttr("y")(show1(y + 4.0)), svgAttr("text-anchor")("middle"), svgAttr("font-family")("'Comic Sans MS', cursive"), svgAttr("font-size")("12"), svgAttr("font-weight")("bold"), svgAttr("fill")((function () {
                            var $65 = color === "#FFD93D";
                            if ($65) {
                                return "#2D3436";
                            };
                            return "white";
                        })()), svgAttr("stroke")("#2D3436"), svgAttr("stroke-width")("0.5"), svgAttr("paint-order")("stroke fill") ])([ Halogen_HTML_Core.text(label) ]) ]);
                    };
                };
            };
        };
    };
};
var renderMorphismDAG = function (current) {
    var toComponentMorphism = function (v) {
        if (v instanceof Zoo_MorphismDAG.Cata) {
            return Cata.value;
        };
        if (v instanceof Zoo_MorphismDAG.Ana) {
            return Ana.value;
        };
        if (v instanceof Zoo_MorphismDAG.Hylo) {
            return Hylo.value;
        };
        if (v instanceof Zoo_MorphismDAG.Para) {
            return Para.value;
        };
        if (v instanceof Zoo_MorphismDAG.Apo) {
            return Apo.value;
        };
        if (v instanceof Zoo_MorphismDAG.Histo) {
            return Histo.value;
        };
        if (v instanceof Zoo_MorphismDAG.Futu) {
            return Futu.value;
        };
        if (v instanceof Zoo_MorphismDAG.Zygo) {
            return Zygo.value;
        };
        throw new Error("Failed pattern match at Zoo.Component (line 175, column 27 - line 183, column 23): " + [ v.constructor.name ]);
    };
    var xs = mapFlipped(Zoo_MorphismDAG.layoutMorphisms)(function (v) {
        return v.x;
    });
    var ys = mapFlipped(Zoo_MorphismDAG.layoutMorphisms)(function (v) {
        return v.y;
    });
    var posMap = fromFoldable(mapFlipped(Zoo_MorphismDAG.layoutMorphisms)(function (p) {
        return new Data_Tuple.Tuple(p.morphism, p);
    }));
    var minY = Data_Maybe.fromMaybe(0.0)(Data_Array.head(sort(ys))) - 50.0;
    var minX = Data_Maybe.fromMaybe(0.0)(Data_Array.head(sort(xs))) - 50.0;
    var maxY = Data_Maybe.fromMaybe(0.0)(Data_Array.last(sort(ys))) + 50.0;
    var maxX = Data_Maybe.fromMaybe(0.0)(Data_Array.last(sort(xs))) + 50.0;
    var width = maxX - minX;
    var height = maxY - minY;
    var viewBox = show1(minX) + (" " + (show1(minY) + (" " + (show1(width) + (" " + show1(height))))));
    var edges = Data_Array.concatMap(function (p) {
        var targets = Data_Maybe.fromMaybe(Data_Set.empty)(lookup(p.morphism)(Zoo_MorphismDAG.morphismEdges));
        return Data_Array.mapMaybe(function (target) {
            return mapFlipped1(lookup(target)(posMap))(function (targetPos) {
                return {
                    from: p,
                    to: targetPos
                };
            });
        })(toUnfoldable(targets));
    })(Zoo_MorphismDAG.layoutMorphisms);
    return Halogen_HTML_Elements.nav([ Halogen_HTML_Properties.class_("morphism-dag") ])([ svg_([ svgAttr("viewBox")(viewBox), svgAttr("class")("dag-svg") ])(append1([ defs_([  ])([ marker_([ svgAttr("id")("arrowhead"), svgAttr("markerWidth")("10"), svgAttr("markerHeight")("7"), svgAttr("refX")("9"), svgAttr("refY")("3.5"), svgAttr("orient")("auto") ])([ path_([ svgAttr("d")("M0,0 L0,7 L10,3.5 z"), svgAttr("fill")("#2D3436") ]) ]) ]) ])(append1(mapFlipped(edges)(function (e) {
        return dagEdge(e.from.x)(e.from.y)(e.to.x)(e.to.y);
    }))(mapFlipped(Zoo_MorphismDAG.layoutMorphisms)(function (p) {
        return dagNode(toComponentMorphism(p.morphism))(current)(p.x)(p.y)(Zoo_MorphismDAG.morphismColor(p.morphism))(show2(p.morphism));
    })))), Halogen_HTML_Elements.p([ Halogen_HTML_Properties.class_("dag-hint") ])([ Halogen_HTML_Core.text("Click a morphism to explore. Arrows show \"extends\" relationships.") ]) ]);
};
var render = function (state) {
    var chapter = currentChapter(state.currentMorphism);
    return Halogen_HTML_Elements.div([ Halogen_HTML_Properties.class_("zoo-book") ])([ renderHeader, renderMorphismDAG(state.currentMorphism), renderChapter(chapter)(state.signatureRevealed)(state.currentMorphism) ]);
};
var component = function (dictMonadAff) {
    return Halogen_Component.mkComponent({
        initialState: function (v) {
            return {
                currentMorphism: Cata.value,
                signatureRevealed: false
            };
        },
        render: render,
        "eval": Halogen_Component.mkEval({
            handleQuery: Halogen_Component.defaultEval.handleQuery,
            receive: Halogen_Component.defaultEval.receive,
            finalize: Halogen_Component.defaultEval.finalize,
            handleAction: handleAction(dictMonadAff.MonadEffect0()),
            initialize: new Data_Maybe.Just(Initialize.value)
        })
    });
};
export {
    Cata,
    Ana,
    Hylo,
    Para,
    Apo,
    Histo,
    Futu,
    Zygo,
    Initialize,
    SelectMorphism,
    RevealSignature,
    component,
    handleAction,
    morphismName,
    currentChapter,
    render,
    renderHeader,
    svgNS,
    svg_,
    g_,
    circle_,
    text_,
    line_,
    path_,
    defs_,
    marker_,
    svgAttr,
    renderMorphismDAG,
    dagEdge,
    dagNode,
    renderChapter,
    renderPanelContainers,
    renderCodeSection,
    usageCode,
    signatureCode,
    signatureExplanation,
    eqMorphism
};
//# sourceMappingURL=index.js.map
