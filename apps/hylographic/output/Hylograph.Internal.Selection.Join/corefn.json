{"builtWith":"0.15.15","comments":[{"LineComment":" | Internal: Data join algorithm implementation."},{"LineComment":" |"},{"LineComment":" | Computes the enter/update/exit sets when binding new data to existing elements."},{"LineComment":" | This is the core of D3's data join pattern, implemented in pure PureScript."},{"LineComment":" |"},{"LineComment":" | - `computeJoin`: Index-based matching (by position)"},{"LineComment":" | - `computeJoinWithKey`: Key-based matching (by identity function)"},{"LineComment":" |"},{"LineComment":" | Returns `JoinSets` containing:"},{"LineComment":" | - `enter`: New data without existing elements"},{"LineComment":" | - `update`: Data matched to existing elements"},{"LineComment":" | - `exit`: Existing elements without matching data"},{"LineComment":" |"},{"LineComment":" | **Internal module** - use `joinData` / `joinDataWithKey` from `Hylograph.Selection`."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,58],"start":[190,41]}},"type":"Var","value":{"identifier":"unsafeIndex","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[190,77],"start":[190,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,77],"start":[190,41]}},"type":"Var","value":{"identifier":"undefined","moduleName":["Prim"]}},"type":"App"},"identifier":"unsafeIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,33],"start":[160,19]}},"type":"Var","value":{"identifier":"foldlWithIndex","moduleName":["Data","FoldableWithIndex"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[160,49],"start":[160,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableWithIndexArray","moduleName":["Data","FoldableWithIndex"]}},"type":"App"},"identifier":"foldlWithIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[156,20],"start":[150,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,20],"start":[150,1]}},"argument":"dictEq","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,58],"start":[181,56]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[181,65],"start":[181,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"dictEq","sourcePos":[0,0]}},"type":"App"},"identifier":"eq"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,20],"start":[150,1]}},"argument":"newData","body":{"annotation":{"meta":null,"sourceSpan":{"end":[156,20],"start":[150,1]}},"argument":"oldBindings","body":{"annotation":{"meta":null,"sourceSpan":{"end":[156,20],"start":[150,1]}},"argument":"keyFn","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[175,6],"start":[158,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[177,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[177,5]}},"argument":"newIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[177,5]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[177,5]}},"argument":"datum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[178,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[178,31],"start":[178,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[178,25],"start":[178,20]}},"type":"Var","value":{"identifier":"keyFn","sourcePos":[157,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,31],"start":[178,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,31],"start":[178,26]}},"type":"Var","value":{"identifier":"datum","sourcePos":[177,5]}},"type":"App"},"identifier":"newKey"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[181,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,20],"start":[150,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,29],"start":[181,14]}},"type":"Var","value":{"identifier":"findIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,66],"start":[181,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,65],"start":[181,31]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,65],"start":[181,31]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[181,44],"start":[181,32]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["datum",{"annotation":{"meta":null,"sourceSpan":{"end":[181,42],"start":[181,41]}},"binderType":"VarBinder","identifier":"d"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","sourcePos":[0,0]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,65],"start":[181,48]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[181,53],"start":[181,48]}},"type":"Var","value":{"identifier":"keyFn","sourcePos":[157,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,55],"start":[181,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,55],"start":[181,54]}},"type":"Var","value":{"identifier":"d","sourcePos":[181,41]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,65],"start":[181,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,65],"start":[181,59]}},"type":"Var","value":{"identifier":"newKey","sourcePos":[178,11]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,85],"start":[181,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,85],"start":[181,67]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,72],"start":[181,67]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[181,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[183,18],"start":[183,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,69],"start":[184,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[184,51],"start":[184,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,51],"start":[184,32]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["datum",{"annotation":{"meta":null,"sourceSpan":{"end":[184,39],"start":[184,34]}},"type":"Var","value":{"identifier":"datum","sourcePos":[177,5]}}],["newIndex",{"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,41]}},"type":"Var","value":{"identifier":"newIndex","sourcePos":[177,5]}}]]}},"identifier":"enterBinding"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,69],"start":[185,16]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[157,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,21],"start":[185,16]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,69],"start":[185,16]}},"copy":["remainingOld","matchedIndices","update"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[157,1]}},"type":"ObjectUpdate","updates":[["enter",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[185,42],"start":[185,32]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[185,55],"start":[185,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,55],"start":[185,43]}},"type":"Var","value":{"identifier":"enterBinding","sourcePos":[184,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[185,67],"start":[185,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,67],"start":[185,56]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,61],"start":[185,56]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"fieldName":"enter","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[188,24],"start":[188,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,24],"start":[188,16]}},"binderType":"VarBinder","identifier":"oldIndex"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[189,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,103],"start":[191,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,39],"start":[191,30]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,58],"start":[191,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,58],"start":[191,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,45],"start":[191,40]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,103],"start":[191,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,75],"start":[191,61]}},"type":"Var","value":{"identifier":"deleteAt","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,84],"start":[191,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,84],"start":[191,76]}},"type":"Var","value":{"identifier":"oldIndex","sourcePos":[188,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,103],"start":[191,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,103],"start":[191,85]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,90],"start":[191,85]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"newRemaining"},{"annotation":{"meta":null,"sourceSpan":{"end":[190,86],"start":[190,15]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,38],"start":[190,25]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,86],"start":[190,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,86],"start":[190,25]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unsafeIndex","moduleName":["Hylograph","Internal","Selection","Join"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,77],"start":[190,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,77],"start":[190,59]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,64],"start":[190,59]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,86],"start":[190,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,86],"start":[190,78]}},"type":"Var","value":{"identifier":"oldIndex","sourcePos":[188,16]}},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"matched"},{"annotation":{"meta":null,"sourceSpan":{"end":[197,18],"start":[192,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[197,18],"start":[193,17]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["element",{"annotation":{"meta":null,"sourceSpan":{"end":[193,43],"start":[193,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,35],"start":[193,28]}},"type":"Var","value":{"identifier":"matched","sourcePos":[190,15]}},"fieldName":"element","type":"Accessor"}],["oldDatum",{"annotation":{"meta":null,"sourceSpan":{"end":[194,34],"start":[194,29]}},"type":"Var","value":{"identifier":"datum","sourcePos":[177,5]}}],["newDatum",{"annotation":{"meta":null,"sourceSpan":{"end":[195,34],"start":[195,29]}},"type":"Var","value":{"identifier":"datum","sourcePos":[177,5]}}],["newIndex",{"annotation":{"meta":null,"sourceSpan":{"end":[196,37],"start":[196,29]}},"type":"Var","value":{"identifier":"newIndex","sourcePos":[177,5]}}]]}},"identifier":"updateBinding"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[199,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[157,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,20],"start":[199,15]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[199,15]}},"copy":["enter"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[157,1]}},"type":"ObjectUpdate","updates":[["update",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,38],"start":[200,28]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,52],"start":[200,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,52],"start":[200,39]}},"type":"Var","value":{"identifier":"updateBinding","sourcePos":[192,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,65],"start":[200,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,65],"start":[200,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[200,58],"start":[200,53]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"fieldName":"update","type":"Accessor"},"type":"App"}],["remainingOld",{"annotation":{"meta":null,"sourceSpan":{"end":[201,46],"start":[201,34]}},"type":"Var","value":{"identifier":"newRemaining","sourcePos":[191,15]}}],["matchedIndices",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,46],"start":[202,36]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,55],"start":[202,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,55],"start":[202,47]}},"type":"Var","value":{"identifier":"oldIndex","sourcePos":[188,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,76],"start":[202,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,76],"start":[202,56]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[202,61],"start":[202,56]}},"type":"Var","value":{"identifier":"state","sourcePos":[177,5]}},"fieldName":"matchedIndices","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,20],"start":[150,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"processNewDatum"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,6],"start":[158,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[166,14],"start":[160,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldlWithIndex","moduleName":["Hylograph","Internal","Selection","Join"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,49],"start":[160,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,49],"start":[160,34]}},"type":"Var","value":{"identifier":"processNewDatum","sourcePos":[177,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,8],"start":[160,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,8],"start":[161,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["remainingOld",{"annotation":{"meta":null,"sourceSpan":{"end":[161,34],"start":[161,23]}},"type":"Var","value":{"identifier":"oldBindings","sourcePos":[157,1]}}],["enter",{"annotation":{"meta":null,"sourceSpan":{"end":[162,18],"start":[162,16]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["update",{"annotation":{"meta":null,"sourceSpan":{"end":[163,19],"start":[163,17]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["matchedIndices",{"annotation":{"meta":null,"sourceSpan":{"end":[164,27],"start":[164,25]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,14],"start":[160,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,14],"start":[166,7]}},"type":"Var","value":{"identifier":"newData","sourcePos":[157,1]}},"type":"App"},"identifier":"matchResult"},{"annotation":{"meta":null,"sourceSpan":{"end":[169,44],"start":[169,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,44],"start":[169,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,31],"start":[169,20]}},"type":"Var","value":{"identifier":"matchResult","sourcePos":[160,5]}},"fieldName":"remainingOld","type":"Accessor"},"identifier":"exitBindings"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,6],"start":[172,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["enter",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,27],"start":[172,14]}},"type":"Var","value":{"identifier":"reverse","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,45],"start":[172,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,45],"start":[172,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[172,28]}},"type":"Var","value":{"identifier":"matchResult","sourcePos":[160,5]}},"fieldName":"enter","type":"Accessor"},"type":"App"}],["update",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[173,28],"start":[173,15]}},"type":"Var","value":{"identifier":"reverse","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,47],"start":[173,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,47],"start":[173,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,40],"start":[173,29]}},"type":"Var","value":{"identifier":"matchResult","sourcePos":[160,5]}},"fieldName":"update","type":"Accessor"},"type":"App"}],["exit",{"annotation":{"meta":null,"sourceSpan":{"end":[174,25],"start":[174,13]}},"type":"Var","value":{"identifier":"exitBindings","sourcePos":[169,5]}}]]}},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Let"},"type":"Abs"},"identifier":"computeJoinWithKey"},{"annotation":{"meta":null,"sourceSpan":{"end":[91,20],"start":[86,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,20],"start":[86,1]}},"argument":"dictEq","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[114,50],"start":[114,48]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[114,56],"start":[114,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"dictEq","sourcePos":[0,0]}},"type":"App"},"identifier":"eq"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,20],"start":[86,1]}},"argument":"newData","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,20],"start":[86,1]}},"argument":"oldBindings","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[110,6],"start":[93,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[112,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[112,5]}},"argument":"newIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[112,5]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[112,5]}},"argument":"datum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[114,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,20],"start":[86,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[114,27],"start":[114,12]}},"type":"Var","value":{"identifier":"findIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,57],"start":[114,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,56],"start":[114,29]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,56],"start":[114,29]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,42],"start":[114,30]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["datum",{"annotation":{"meta":null,"sourceSpan":{"end":[114,40],"start":[114,39]}},"binderType":"VarBinder","identifier":"d"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","sourcePos":[0,0]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,56],"start":[114,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,47],"start":[114,46]}},"type":"Var","value":{"identifier":"d","sourcePos":[114,39]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,56],"start":[114,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,56],"start":[114,51]}},"type":"Var","value":{"identifier":"datum","sourcePos":[112,5]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,76],"start":[114,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,76],"start":[114,58]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,63],"start":[114,58]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[114,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[116,16],"start":[116,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,67],"start":[117,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,49],"start":[117,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[117,49],"start":[117,30]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["datum",{"annotation":{"meta":null,"sourceSpan":{"end":[117,37],"start":[117,32]}},"type":"Var","value":{"identifier":"datum","sourcePos":[112,5]}}],["newIndex",{"annotation":{"meta":null,"sourceSpan":{"end":[117,47],"start":[117,39]}},"type":"Var","value":{"identifier":"newIndex","sourcePos":[112,5]}}]]}},"identifier":"enterBinding"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,67],"start":[118,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[92,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,19],"start":[118,14]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,67],"start":[118,14]}},"copy":["remainingOld","matchedIndices","update"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[92,1]}},"type":"ObjectUpdate","updates":[["enter",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[118,40],"start":[118,30]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,53],"start":[118,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,53],"start":[118,41]}},"type":"Var","value":{"identifier":"enterBinding","sourcePos":[117,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,65],"start":[118,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,65],"start":[118,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,59],"start":[118,54]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"fieldName":"enter","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[121,22],"start":[121,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[121,22],"start":[121,14]}},"binderType":"VarBinder","identifier":"oldIndex"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[122,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[124,101],"start":[124,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,37],"start":[124,28]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,56],"start":[124,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,56],"start":[124,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,43],"start":[124,38]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,101],"start":[124,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,73],"start":[124,59]}},"type":"Var","value":{"identifier":"deleteAt","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,82],"start":[124,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,82],"start":[124,74]}},"type":"Var","value":{"identifier":"oldIndex","sourcePos":[121,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,101],"start":[124,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,101],"start":[124,83]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,88],"start":[124,83]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"newRemaining"},{"annotation":{"meta":null,"sourceSpan":{"end":[123,84],"start":[123,13]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,36],"start":[123,23]}},"type":"Var","value":{"identifier":"unsafePartial","moduleName":["Partial","Unsafe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,84],"start":[123,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,84],"start":[123,23]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"unsafeIndex","moduleName":["Hylograph","Internal","Selection","Join"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,75],"start":[123,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,75],"start":[123,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[123,62],"start":[123,57]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"fieldName":"remainingOld","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,84],"start":[123,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,84],"start":[123,76]}},"type":"Var","value":{"identifier":"oldIndex","sourcePos":[121,14]}},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"matched"},{"annotation":{"meta":null,"sourceSpan":{"end":[130,16],"start":[125,13]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,16],"start":[126,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["element",{"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[126,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,33],"start":[126,26]}},"type":"Var","value":{"identifier":"matched","sourcePos":[123,13]}},"fieldName":"element","type":"Accessor"}],["oldDatum",{"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[127,27]}},"type":"Var","value":{"identifier":"datum","sourcePos":[112,5]}}],["newDatum",{"annotation":{"meta":null,"sourceSpan":{"end":[128,32],"start":[128,27]}},"type":"Var","value":{"identifier":"datum","sourcePos":[112,5]}}],["newIndex",{"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,27]}},"type":"Var","value":{"identifier":"newIndex","sourcePos":[112,5]}}]]}},"identifier":"updateBinding"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[132,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[92,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[132,18],"start":[132,13]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[132,13]}},"copy":["enter"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[92,1]}},"type":"ObjectUpdate","updates":[["update",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[133,36],"start":[133,26]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[133,50],"start":[133,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,50],"start":[133,37]}},"type":"Var","value":{"identifier":"updateBinding","sourcePos":[125,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[133,63],"start":[133,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,63],"start":[133,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,56],"start":[133,51]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"fieldName":"update","type":"Accessor"},"type":"App"}],["remainingOld",{"annotation":{"meta":null,"sourceSpan":{"end":[134,44],"start":[134,32]}},"type":"Var","value":{"identifier":"newRemaining","sourcePos":[124,13]}}],["matchedIndices",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,44],"start":[135,34]}},"type":"Var","value":{"identifier":"cons","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,53],"start":[135,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,53],"start":[135,45]}},"type":"Var","value":{"identifier":"oldIndex","sourcePos":[121,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[135,74],"start":[135,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,74],"start":[135,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,59],"start":[135,54]}},"type":"Var","value":{"identifier":"state","sourcePos":[112,5]}},"fieldName":"matchedIndices","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,20],"start":[86,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"processNewDatum"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,6],"start":[93,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,14],"start":[95,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldlWithIndex","moduleName":["Hylograph","Internal","Selection","Join"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,49],"start":[95,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,49],"start":[95,34]}},"type":"Var","value":{"identifier":"processNewDatum","sourcePos":[112,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,8],"start":[95,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,8],"start":[96,7]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["remainingOld",{"annotation":{"meta":null,"sourceSpan":{"end":[96,34],"start":[96,23]}},"type":"Var","value":{"identifier":"oldBindings","sourcePos":[92,1]}}],["enter",{"annotation":{"meta":null,"sourceSpan":{"end":[97,18],"start":[97,16]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["update",{"annotation":{"meta":null,"sourceSpan":{"end":[98,19],"start":[98,17]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["matchedIndices",{"annotation":{"meta":null,"sourceSpan":{"end":[99,27],"start":[99,25]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,14],"start":[95,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,14],"start":[101,7]}},"type":"Var","value":{"identifier":"newData","sourcePos":[92,1]}},"type":"App"},"identifier":"matchResult"},{"annotation":{"meta":null,"sourceSpan":{"end":[104,44],"start":[104,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,44],"start":[104,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,31],"start":[104,20]}},"type":"Var","value":{"identifier":"matchResult","sourcePos":[95,5]}},"fieldName":"remainingOld","type":"Accessor"},"identifier":"exitBindings"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,6],"start":[107,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["enter",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[107,27],"start":[107,14]}},"type":"Var","value":{"identifier":"reverse","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,45],"start":[107,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,45],"start":[107,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,39],"start":[107,28]}},"type":"Var","value":{"identifier":"matchResult","sourcePos":[95,5]}},"fieldName":"enter","type":"Accessor"},"type":"App"}],["update",{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[108,28],"start":[108,15]}},"type":"Var","value":{"identifier":"reverse","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,47],"start":[108,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,47],"start":[108,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,40],"start":[108,29]}},"type":"Var","value":{"identifier":"matchResult","sourcePos":[95,5]}},"fieldName":"update","type":"Accessor"},"type":"App"}],["exit",{"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,13]}},"type":"Var","value":{"identifier":"exitBindings","sourcePos":[104,5]}}]]}},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Let"},"type":"Abs"},"identifier":"computeJoin"}],"exports":["computeJoin","computeJoinWithKey"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[15,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[15,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[15,1]}},"moduleName":["Data","FoldableWithIndex"]},{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[15,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[15,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[15,1]}},"moduleName":["Partial","Unsafe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[24,15],"start":[24,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[203,18],"start":[15,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[30,33],"start":[30,1]}},"moduleName":["Web","DOM","Element"]}],"moduleName":["Hylograph","Internal","Selection","Join"],"modulePath":"../../visualisation libraries/purescript-hylograph-selection/src/Hylograph/Internal/Selection/Join.purs","reExports":{},"sourceSpan":{"end":[203,18],"start":[15,1]}}