{"builtWith":"0.15.15","comments":[{"LineComment":" | DataViz.Layout.Sankey.Compute"},{"LineComment":" |"},{"LineComment":" | Pure PureScript implementation of Sankey diagram layout computation."},{"LineComment":" | Uses State monad to thread graph model through all layout functions."},{"LineComment":" | Starts with Array SankeyLinkInput and generates nodes dynamically."},{"LineComment":" |"},{"LineComment":" | Reference: https://github.com/d3/d3-sankey (ISC License)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[98,18],"start":[98,10]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[98,22],"start":[98,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"lookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[100,35],"start":[100,25]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[100,39],"start":[100,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"insert"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[95,36],"start":[95,28]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[95,40],"start":[95,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"insert1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindStateT","moduleName":["Control","Monad","State","Trans"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[105,15],"start":[105,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"identifier":"bindStateT"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[105,15],"start":[105,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[105,15],"start":[105,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadStateStateT","moduleName":["Control","Monad","State","Trans"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[105,15],"start":[105,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"identifier":"monadStateStateT"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[105,15],"start":[105,12]}},"type":"Var","value":{"identifier":"get","moduleName":["Control","Monad","State","Class"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[105,15],"start":[105,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadStateStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"get"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[110,17],"start":[110,9]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[110,24],"start":[110,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lookup1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,41],"start":[119,40]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[119,43],"start":[119,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,10],"start":[126,3]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Control","Monad","State","Class"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[136,6],"start":[126,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadStateStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"modify_"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,30],"start":[129,22]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[129,37],"start":[129,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"insert2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,37],"start":[131,35]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[131,46],"start":[131,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[425,40],"start":[425,39]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[425,43],"start":[425,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[426,65],"start":[426,64]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[426,76],"start":[426,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[438,46],"start":[438,45]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[438,83],"start":[438,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[438,27],"start":[438,26]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[438,43],"start":[438,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[407,26],"start":[407,25]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[407,30],"start":[407,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[409,19],"start":[409,16]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[409,33],"start":[409,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[413,37],"start":[413,34]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[413,37],"start":[413,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[376,39],"start":[376,36]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[376,43],"start":[376,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[379,41],"start":[379,39]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[379,50],"start":[379,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[835,43],"start":[835,41]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[835,54],"start":[835,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"eq1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[637,57],"start":[637,55]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[637,81],"start":[637,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupOrdering","moduleName":["Data","Ordering"]}},"type":"App"},"identifier":"append1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[637,42],"start":[637,35]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[637,48],"start":[637,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"compare"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[637,65],"start":[637,58]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[637,73],"start":[637,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordLinkID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"compare1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[808,18],"start":[808,16]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[808,20],"start":[808,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[772,18],"start":[772,17]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[772,20],"start":[772,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[795,26],"start":[795,25]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[795,28],"start":[795,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[739,24],"start":[739,23]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[739,26],"start":[739,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[577,39],"start":[577,36]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[577,43],"start":[577,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[459,21],"start":[459,19]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[459,23],"start":[459,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[235,15],"start":[235,14]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[235,25],"start":[235,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[241,30],"start":[241,20]}},"type":"Var","value":{"identifier":"member","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[241,41],"start":[241,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"member"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[249,64],"start":[249,55]}},"type":"Var","value":{"identifier":"union","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[249,68],"start":[249,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"union"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[228,40],"start":[228,24]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Set"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[228,40],"start":[228,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[228,40],"start":[228,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"fromFoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[920,48],"start":[920,46]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[920,59],"start":[920,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqLinkID","moduleName":["DataViz","Layout","Sankey","Types"]}},"type":"App"},"identifier":"eq2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[998,61],"start":[998,58]}},"type":"Var","value":{"identifier":"mod","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[998,76],"start":[998,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"mod"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1019,55],"start":[1019,53]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[1019,71],"start":[1019,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1019,60],"start":[1019,56]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[1019,64],"start":[1019,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[365,13],"start":[365,10]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[365,44],"start":[365,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[66,35],"start":[66,5]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[66,35],"start":[66,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[66,35],"start":[66,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindStateT","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[66,9],"start":[66,5]}},"type":"Var","value":{"identifier":"for_","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[66,20],"start":[66,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeStateT","moduleName":["Control","Monad","State","Trans"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[66,20],"start":[66,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[66,20],"start":[66,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_"},{"annotation":{"meta":null,"sourceSpan":{"end":[94,66],"start":[94,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,66],"start":[94,1]}},"argument":"sid","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,66],"start":[94,1]}},"argument":"tid","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,66],"start":[94,1]}},"argument":"deps","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[95,55],"start":[95,28]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[100,47],"start":[97,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,47],"start":[98,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,66],"start":[94,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,22],"start":[98,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,22],"start":[98,19]}},"type":"Var","value":{"identifier":"sid","sourcePos":[95,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,27],"start":[98,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,27],"start":[98,23]}},"type":"Var","value":{"identifier":"deps","sourcePos":[95,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,47],"start":[98,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[99,14],"start":[99,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[99,31],"start":[99,18]}},"type":"Var","value":{"identifier":"singleton","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[99,35],"start":[99,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,35],"start":[99,32]}},"type":"Var","value":{"identifier":"tid","sourcePos":[95,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[100,20],"start":[100,8]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[100,20],"start":[100,13]}},"binderType":"VarBinder","identifier":"targets"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,39],"start":[100,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,39],"start":[100,36]}},"type":"Var","value":{"identifier":"tid","sourcePos":[95,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,47],"start":[100,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,47],"start":[100,40]}},"type":"Var","value":{"identifier":"targets","sourcePos":[100,13]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,66],"start":[94,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"identifier":"targetSet"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,40],"start":[95,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,40],"start":[95,37]}},"type":"Var","value":{"identifier":"sid","sourcePos":[95,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,50],"start":[95,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,50],"start":[95,41]}},"type":"Var","value":{"identifier":"targetSet","sourcePos":[97,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,55],"start":[95,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,55],"start":[95,51]}},"type":"Var","value":{"identifier":"deps","sourcePos":[95,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"unionInsert"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,60],"start":[103,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,60],"start":[103,1]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,15],"start":[105,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,15],"start":[105,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,15],"start":[105,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[124,177],"start":[107,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[110,43],"start":[110,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,24],"start":[110,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,24],"start":[110,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,22],"start":[110,18]}},"type":"Var","value":{"identifier":"link","sourcePos":[104,1]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,43],"start":[110,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,43],"start":[110,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,30],"start":[110,25]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeNameToID","type":"Accessor"},"type":"App"},"identifier":"t"},{"annotation":{"meta":null,"sourceSpan":{"end":[109,43],"start":[109,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,24],"start":[109,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,24],"start":[109,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,22],"start":[109,18]}},"type":"Var","value":{"identifier":"link","sourcePos":[104,1]}},"fieldName":"s","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,43],"start":[109,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,43],"start":[109,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,30],"start":[109,25]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeNameToID","type":"Accessor"},"type":"App"},"identifier":"s"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,177],"start":[113,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,60],"start":[103,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,177],"start":[114,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[115,18],"start":[115,10]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[115,18],"start":[115,15]}},"binderType":"VarBinder","identifier":"sid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[115,30],"start":[115,22]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[115,30],"start":[115,27]}},"binderType":"VarBinder","identifier":"tid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,65],"start":[116,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"annotation":{"meta":null,"sourceSpan":{"end":[116,39],"start":[116,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,29],"start":[116,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"}],["sid",{"annotation":{"meta":null,"sourceSpan":{"end":[116,44],"start":[116,41]}},"type":"Var","value":{"identifier":"sid","sourcePos":[115,15]}}],["tid",{"annotation":{"meta":null,"sourceSpan":{"end":[116,49],"start":[116,46]}},"type":"Var","value":{"identifier":"tid","sourcePos":[115,27]}}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[116,63],"start":[116,61]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[118,18],"start":[118,10]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[118,18],"start":[118,15]}},"binderType":"VarBinder","identifier":"sid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[118,28],"start":[118,21]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,117],"start":[119,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,43],"start":[119,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,39],"start":[119,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,29],"start":[119,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,43],"start":[119,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,43],"start":[119,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],["sid",{"annotation":{"meta":null,"sourceSpan":{"end":[119,48],"start":[119,45]}},"type":"Var","value":{"identifier":"sid","sourcePos":[118,15]}}],["tid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[119,61],"start":[119,55]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,77],"start":[119,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,77],"start":[119,62]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,67],"start":[119,62]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[119,115],"start":[119,89]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[119,97],"start":[119,91]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,113],"start":[119,91]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,113],"start":[119,98]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,103],"start":[119,98]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[120,16],"start":[120,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[120,27],"start":[120,19]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[120,27],"start":[120,24]}},"binderType":"VarBinder","identifier":"tid"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,122],"start":[121,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,43],"start":[121,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,39],"start":[121,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,29],"start":[121,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[121,43],"start":[121,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,43],"start":[121,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],["sid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[121,56],"start":[121,50]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,72],"start":[121,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,72],"start":[121,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,62],"start":[121,57]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}],["tid",{"annotation":{"meta":null,"sourceSpan":{"end":[121,82],"start":[121,79]}},"type":"Var","value":{"identifier":"tid","sourcePos":[120,24]}}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[121,120],"start":[121,94]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[121,102],"start":[121,96]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,118],"start":[121,96]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,118],"start":[121,103]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,108],"start":[121,103]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[123,16],"start":[123,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[123,25],"start":[123,18]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,177],"start":[124,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodeCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,43],"start":[124,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,39],"start":[124,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,29],"start":[124,24]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,43],"start":[124,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,43],"start":[124,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"}],["sid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[124,56],"start":[124,50]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,72],"start":[124,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,72],"start":[124,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,62],"start":[124,57]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"}],["tid",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[124,85],"start":[124,79]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,107],"start":[124,79]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,106],"start":[124,87]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,102],"start":[124,87]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,92],"start":[124,87]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,106],"start":[124,87]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,106],"start":[124,105]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[124,175],"start":[124,119]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[124,127],"start":[124,121]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,143],"start":[124,121]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,143],"start":[124,128]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,133],"start":[124,128]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[124,151],"start":[124,145]}},"type":"Var","value":{"identifier":"NodeID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,173],"start":[124,145]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,172],"start":[124,153]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,168],"start":[124,153]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,158],"start":[124,153]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,172],"start":[124,153]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,172],"start":[124,171]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"}]}}]]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,13],"start":[114,12]}},"type":"Var","value":{"identifier":"s","sourcePos":[109,5]}},{"annotation":{"meta":null,"sourceSpan":{"end":[114,16],"start":[114,15]}},"type":"Var","value":{"identifier":"t","sourcePos":[110,5]}}],"type":"Case"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,177],"start":[113,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[113,38],"start":[113,5]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["sid",{"annotation":{"meta":null,"sourceSpan":{"end":[113,10],"start":[113,7]}},"binderType":"VarBinder","identifier":"sid"}],["tid",{"annotation":{"meta":null,"sourceSpan":{"end":[113,15],"start":[113,12]}},"binderType":"VarBinder","identifier":"tid"}],["nodeCount",{"annotation":{"meta":null,"sourceSpan":{"end":[113,26],"start":[113,17]}},"binderType":"VarBinder","identifier":"nodeCount"}],["newNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[113,36],"start":[113,28]}},"binderType":"VarBinder","identifier":"newNodes"}]]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[136,6],"start":[126,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,6],"start":[126,11]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[136,6],"start":[126,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["linkCount",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,38],"start":[127,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,34],"start":[127,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,24],"start":[127,19]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"linkCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,38],"start":[127,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,38],"start":[127,37]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],["nodeCount",{"annotation":{"meta":null,"sourceSpan":{"end":[128,28],"start":[128,19]}},"type":"Var","value":{"identifier":"nodeCount","sourcePos":[113,17]}}],["nodeNameToID",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,37],"start":[129,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,37],"start":[129,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[104,1]}},"fieldName":"s","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,41],"start":[129,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,41],"start":[129,38]}},"type":"Var","value":{"identifier":"sid","sourcePos":[113,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,82],"start":[129,22]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,59],"start":[129,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,59],"start":[129,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,57],"start":[129,53]}},"type":"Var","value":{"identifier":"link","sourcePos":[104,1]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,63],"start":[129,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,63],"start":[129,60]}},"type":"Var","value":{"identifier":"tid","sourcePos":[113,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,82],"start":[129,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,82],"start":[129,64]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,69],"start":[129,64]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeNameToID","type":"Accessor"},"type":"App"},"type":"App"}],["nodeIDToName",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,34],"start":[130,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,34],"start":[130,31]}},"type":"Var","value":{"identifier":"sid","sourcePos":[113,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,41],"start":[130,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,41],"start":[130,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,39],"start":[130,35]}},"type":"Var","value":{"identifier":"link","sourcePos":[104,1]}},"fieldName":"s","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,82],"start":[130,22]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,56],"start":[130,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,56],"start":[130,53]}},"type":"Var","value":{"identifier":"tid","sourcePos":[113,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,63],"start":[130,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,63],"start":[130,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,61],"start":[130,57]}},"type":"Var","value":{"identifier":"link","sourcePos":[104,1]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,82],"start":[130,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,82],"start":[130,64]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,69],"start":[130,64]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeIDToName","type":"Accessor"},"type":"App"},"type":"App"}],["nodeOrder",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,46],"start":[131,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,24],"start":[131,19]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"nodeOrder","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,46],"start":[131,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,46],"start":[131,38]}},"type":"Var","value":{"identifier":"newNodes","sourcePos":[113,28]}},"type":"App"}],["deps",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[132,25],"start":[132,14]}},"type":"Var","value":{"identifier":"unionInsert","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,29],"start":[132,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,29],"start":[132,26]}},"type":"Var","value":{"identifier":"sid","sourcePos":[113,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[132,33],"start":[132,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,33],"start":[132,30]}},"type":"Var","value":{"identifier":"tid","sourcePos":[113,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[132,44],"start":[132,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,44],"start":[132,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[132,39],"start":[132,34]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"deps","type":"Accessor"},"type":"App"}],["sped",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[133,25],"start":[133,14]}},"type":"Var","value":{"identifier":"unionInsert","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[133,29],"start":[133,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,29],"start":[133,26]}},"type":"Var","value":{"identifier":"tid","sourcePos":[113,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[133,33],"start":[133,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,33],"start":[133,30]}},"type":"Var","value":{"identifier":"sid","sourcePos":[113,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[133,44],"start":[133,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,44],"start":[133,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,39],"start":[133,34]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"sped","type":"Accessor"},"type":"App"}],["sankeyLinks",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,13],"start":[135,9]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,31],"start":[135,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,31],"start":[135,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,19],"start":[135,14]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[135,126],"start":[135,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,54],"start":[135,34]}},"type":"Var","value":{"identifier":"initialiseSankeyLink","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,126],"start":[135,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,126],"start":[135,55]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["source",{"annotation":{"meta":null,"sourceSpan":{"end":[135,68],"start":[135,65]}},"type":"Var","value":{"identifier":"sid","sourcePos":[113,7]}}],["target",{"annotation":{"meta":null,"sourceSpan":{"end":[135,81],"start":[135,78]}},"type":"Var","value":{"identifier":"tid","sourcePos":[113,12]}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[135,96],"start":[135,90]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,94],"start":[135,90]}},"type":"Var","value":{"identifier":"link","sourcePos":[104,1]}},"fieldName":"v","type":"Accessor"}],["id",{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[135,108],"start":[135,102]}},"type":"Var","value":{"identifier":"LinkID","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,124],"start":[135,102]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,124],"start":[135,109]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,114],"start":[135,109]}},"type":"Var","value":{"identifier":"model","sourcePos":[105,3]}},"fieldName":"linkCount","type":"Accessor"},"type":"App"}]]}},"type":"App"},"type":"App"}]]},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,60],"start":[103,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"identifier":"processCSVLink"},{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"argument":"_links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"argument":"_config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"argument":"y1","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[394,15],"start":[374,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[417,86],"start":[417,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[417,86],"start":[417,3]}},"argument":"ky","body":{"annotation":{"meta":null,"sourceSpan":{"end":[417,86],"start":[417,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[417,86],"start":[417,3]}},"argument":"yStart","body":{"annotation":{"meta":null,"sourceSpan":{"end":[417,86],"start":[417,3]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[449,15],"start":[419,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[433,19],"start":[421,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[421,22],"start":[421,17]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[431,10],"start":[421,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[430,16],"start":[422,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[430,16],"start":[422,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[430,16],"start":[423,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[425,43],"start":[425,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[425,43],"start":[425,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[425,38],"start":[425,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[425,32],"start":[425,28]}},"type":"Var","value":{"identifier":"node","sourcePos":[422,16]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[425,43],"start":[425,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[425,43],"start":[425,41]}},"type":"Var","value":{"identifier":"ky","sourcePos":[418,3]}},"type":"App"},"identifier":"nodeHeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[424,31],"start":[424,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[424,31],"start":[424,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[424,29],"start":[424,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[422,12]}},"fieldName":"y","type":"Accessor"},"identifier":"currentY"},{"annotation":{"meta":null,"sourceSpan":{"end":[426,78],"start":[426,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[426,78],"start":[426,28]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[449,15],"start":[373,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[426,32],"start":[426,28]}},"type":"Var","value":{"identifier":"node","sourcePos":[422,16]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[426,78],"start":[426,28]}},"copy":["value","color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[373,1]}},"type":"ObjectUpdate","updates":[["y0",{"annotation":{"meta":null,"sourceSpan":{"end":[426,48],"start":[426,40]}},"type":"Var","value":{"identifier":"currentY","sourcePos":[424,15]}}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[426,76],"start":[426,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[426,63],"start":[426,55]}},"type":"Var","value":{"identifier":"currentY","sourcePos":[424,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[426,76],"start":[426,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[426,76],"start":[426,66]}},"type":"Var","value":{"identifier":"nodeHeight","sourcePos":[425,15]}},"type":"App"}]]},"type":"Let"},"identifier":"positioned"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[430,16],"start":[428,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[428,34],"start":[428,24]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[428,44],"start":[428,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[428,44],"start":[428,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[428,38],"start":[428,35]}},"type":"Var","value":{"identifier":"acc","sourcePos":[422,12]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[428,55],"start":[428,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[428,55],"start":[428,45]}},"type":"Var","value":{"identifier":"positioned","sourcePos":[426,15]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[429,51],"start":[429,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[429,51],"start":[429,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[429,28],"start":[429,20]}},"type":"Var","value":{"identifier":"currentY","sourcePos":[424,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[429,51],"start":[429,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[429,41],"start":[429,31]}},"type":"Var","value":{"identifier":"nodeHeight","sourcePos":[425,15]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[429,51],"start":[429,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[429,51],"start":[429,44]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[418,3]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[432,33],"start":[421,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[432,33],"start":[432,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"annotation":{"meta":null,"sourceSpan":{"end":[432,20],"start":[432,18]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[432,31],"start":[432,25]}},"type":"Var","value":{"identifier":"yStart","sourcePos":[418,3]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[433,19],"start":[421,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[433,19],"start":[433,9]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[418,3]}},"type":"App"},"identifier":"stacked"},{"annotation":{"meta":null,"sourceSpan":{"end":[437,24],"start":[437,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,24],"start":[437,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[437,22],"start":[437,15]}},"type":"Var","value":{"identifier":"stacked","sourcePos":[421,7]}},"fieldName":"y","type":"Accessor"},"identifier":"lastY"},{"annotation":{"meta":null,"sourceSpan":{"end":[438,83],"start":[438,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,83],"start":[438,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,43],"start":[438,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,43],"start":[438,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,25],"start":[438,23]}},"type":"Var","value":{"identifier":"y1","sourcePos":[373,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[438,43],"start":[438,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,33],"start":[438,28]}},"type":"Var","value":{"identifier":"lastY","sourcePos":[437,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[438,43],"start":[438,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,43],"start":[438,36]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[418,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[438,83],"start":[438,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,82],"start":[438,48]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[438,56],"start":[438,48]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,76],"start":[438,48]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[438,64],"start":[438,58]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[438,75],"start":[438,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,75],"start":[438,65]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[418,3]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[438,82],"start":[438,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[438,82],"start":[438,79]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"identifier":"extraSpacing"},{"annotation":{"meta":null,"sourceSpan":{"end":[447,22],"start":[440,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[440,30],"start":[440,18]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[446,10],"start":[440,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[445,66],"start":[441,11]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[445,66],"start":[441,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[445,66],"start":[442,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[443,56],"start":[443,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[443,56],"start":[443,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[443,35],"start":[443,23]}},"type":"Var","value":{"identifier":"extraSpacing","sourcePos":[438,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[443,56],"start":[443,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[443,47],"start":[443,39]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[443,55],"start":[443,39]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[443,54],"start":[443,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[443,50],"start":[443,49]}},"type":"Var","value":{"identifier":"i","sourcePos":[441,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[443,54],"start":[443,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[443,54],"start":[443,53]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"shift"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[445,66],"start":[445,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[449,15],"start":[373,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[445,19],"start":[445,15]}},"type":"Var","value":{"identifier":"node","sourcePos":[441,14]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[445,66],"start":[445,15]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[373,1]}},"type":"ObjectUpdate","updates":[["y0",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[445,42],"start":[445,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[445,34],"start":[445,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[445,31],"start":[445,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[441,14]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[445,42],"start":[445,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[445,42],"start":[445,37]}},"type":"Var","value":{"identifier":"shift","sourcePos":[443,15]}},"type":"App"}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[445,64],"start":[445,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[445,56],"start":[445,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[445,53],"start":[445,49]}},"type":"Var","value":{"identifier":"node","sourcePos":[441,14]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[445,64],"start":[445,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[445,64],"start":[445,59]}},"type":"Var","value":{"identifier":"shift","sourcePos":[443,15]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[447,22],"start":[440,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[447,22],"start":[447,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[447,16],"start":[447,9]}},"type":"Var","value":{"identifier":"stacked","sourcePos":[421,7]}},"fieldName":"nodes","type":"Accessor"},"type":"App"},"identifier":"adjusted"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[449,15],"start":[449,7]}},"type":"Var","value":{"identifier":"adjusted","sourcePos":[440,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"positionLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[397,72],"start":[397,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[397,72],"start":[397,3]}},"argument":"layers","body":{"annotation":{"meta":null,"sourceSpan":{"end":[397,72],"start":[397,3]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[397,72],"start":[397,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[414,23],"start":[399,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[400,50],"start":[400,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[400,50],"start":[400,7]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[407,73],"start":[402,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[403,76],"start":[403,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[403,29],"start":[403,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[403,61],"start":[403,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,60],"start":[403,31]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[403,60],"start":[403,31]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[403,60],"start":[403,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,47],"start":[403,44]}},"type":"Var","value":{"identifier":"sum","sourcePos":[403,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[403,60],"start":[403,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,60],"start":[403,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[403,54],"start":[403,50]}},"type":"Var","value":{"identifier":"node","sourcePos":[403,36]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[403,65],"start":[403,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,65],"start":[403,62]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[403,76],"start":[403,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[403,76],"start":[403,66]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[401,7]}},"type":"App"},"identifier":"totalValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[404,50],"start":[404,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[404,30],"start":[404,22]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[404,50],"start":[404,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[404,38],"start":[404,32]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[404,49],"start":[404,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[404,49],"start":[404,39]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[401,7]}},"type":"App"},"type":"App"},"identifier":"numNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[405,64],"start":[405,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[405,64],"start":[405,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,35],"start":[405,29]}},"type":"Var","value":{"identifier":"height","sourcePos":[398,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[405,64],"start":[405,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[405,64],"start":[405,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[405,53],"start":[405,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,47],"start":[405,39]}},"type":"Var","value":{"identifier":"numNodes","sourcePos":[404,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[405,53],"start":[405,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,53],"start":[405,50]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[405,64],"start":[405,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[405,64],"start":[405,57]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[398,3]}},"type":"App"},"type":"App"},"identifier":"availableHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[407,73],"start":[407,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[407,73],"start":[407,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[407,64],"start":[407,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,51],"start":[407,36]}},"type":"Var","value":{"identifier":"availableHeight","sourcePos":[405,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[407,64],"start":[407,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,64],"start":[407,54]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[403,11]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[407,73],"start":[407,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[407,73],"start":[407,70]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[407,30],"start":[407,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,24],"start":[407,14]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[403,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[407,30],"start":[407,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[407,30],"start":[407,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"scaleForLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[409,40],"start":[409,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[409,33],"start":[409,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[409,33],"start":[409,20]}},"type":"Var","value":{"identifier":"scaleForLayer","sourcePos":[400,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[409,40],"start":[409,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[409,40],"start":[409,34]}},"type":"Var","value":{"identifier":"layers","sourcePos":[398,3]}},"type":"App"},"identifier":"scales"},{"annotation":{"meta":null,"sourceSpan":{"end":[410,53],"start":[410,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[410,30],"start":[410,24]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[410,46],"start":[410,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[410,45],"start":[410,32]}},"argument":"s","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[410,45],"start":[410,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[410,39],"start":[410,38]}},"type":"Var","value":{"identifier":"s","sourcePos":[410,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[410,45],"start":[410,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[410,45],"start":[410,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[410,53],"start":[410,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[410,53],"start":[410,47]}},"type":"Var","value":{"identifier":"scales","sourcePos":[409,7]}},"type":"App"},"identifier":"nonEmptyScales"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[414,23],"start":[412,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[412,22],"start":[412,12]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,37],"start":[412,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,37],"start":[412,23]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[410,7]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[414,23],"start":[412,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[413,24],"start":[413,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[413,24],"start":[413,14]}},"binderType":"VarBinder","identifier":"firstScale"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[413,33],"start":[413,28]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[413,37],"start":[413,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[413,48],"start":[413,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[413,48],"start":[413,38]}},"type":"Var","value":{"identifier":"firstScale","sourcePos":[413,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[413,63],"start":[413,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[413,63],"start":[413,49]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[410,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[414,16],"start":[414,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[414,23],"start":[414,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[372,129],"start":[372,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateKy"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[394,15],"start":[374,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[384,26],"start":[384,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[384,26],"start":[384,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[384,21],"start":[384,19]}},"type":"Var","value":{"identifier":"y1","sourcePos":[373,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[384,26],"start":[384,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[384,26],"start":[384,24]}},"type":"Var","value":{"identifier":"y0","sourcePos":[373,1]}},"type":"App"},"identifier":"totalHeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[376,63],"start":[376,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[376,21],"start":[376,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[376,55],"start":[376,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[376,54],"start":[376,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[376,54],"start":[376,23]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[376,43],"start":[376,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[376,43],"start":[376,40]}},"type":"Var","value":{"identifier":"acc","sourcePos":[376,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[376,54],"start":[376,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[376,54],"start":[376,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[376,48],"start":[376,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[376,28]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[376,57],"start":[376,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[376,57],"start":[376,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[376,63],"start":[376,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[376,63],"start":[376,58]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[373,1]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[381,31],"start":[377,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[380,8],"start":[377,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[379,57],"start":[378,9]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[379,17],"start":[379,11]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[379,51],"start":[379,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[379,50],"start":[379,19]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[379,50],"start":[379,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[379,38],"start":[379,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[379,32],"start":[379,28]}},"type":"Var","value":{"identifier":"node","sourcePos":[379,20]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[379,50],"start":[379,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[379,50],"start":[379,42]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[378,10]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[379,57],"start":[379,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[379,57],"start":[379,52]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[373,1]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[381,31],"start":[377,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[381,19],"start":[381,8]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[381,21],"start":[381,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[381,21],"start":[381,20]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[381,30],"start":[381,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[381,30],"start":[381,22]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[376,5]}},"type":"App"},"type":"App"},"identifier":"layers"},{"annotation":{"meta":null,"sourceSpan":{"end":[385,48],"start":[385,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[385,21],"start":[385,10]}},"type":"Var","value":{"identifier":"calculateKy","sourcePos":[397,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[385,28],"start":[385,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,28],"start":[385,22]}},"type":"Var","value":{"identifier":"layers","sourcePos":[377,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,40],"start":[385,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,40],"start":[385,29]}},"type":"Var","value":{"identifier":"totalHeight","sourcePos":[384,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[385,48],"start":[385,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[385,48],"start":[385,41]}},"type":"Var","value":{"identifier":"padding","sourcePos":[373,1]}},"type":"App"},"identifier":"ky"},{"annotation":{"meta":null,"sourceSpan":{"end":[389,64],"start":[389,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[389,57],"start":[389,24]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[389,42],"start":[389,29]}},"type":"Var","value":{"identifier":"positionLayer","sourcePos":[417,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[389,45],"start":[389,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[389,45],"start":[389,43]}},"type":"Var","value":{"identifier":"ky","sourcePos":[385,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[389,53],"start":[389,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[389,53],"start":[389,46]}},"type":"Var","value":{"identifier":"padding","sourcePos":[373,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[389,56],"start":[389,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[389,56],"start":[389,54]}},"type":"Var","value":{"identifier":"y0","sourcePos":[373,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[389,64],"start":[389,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[389,64],"start":[389,58]}},"type":"Var","value":{"identifier":"layers","sourcePos":[377,5]}},"type":"App"},"identifier":"positionedLayers"},{"annotation":{"meta":null,"sourceSpan":{"end":[392,47],"start":[392,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[392,30],"start":[392,18]}},"type":"Var","value":{"identifier":"concat","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[392,47],"start":[392,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[392,47],"start":[392,31]}},"type":"Var","value":{"identifier":"positionedLayers","sourcePos":[389,5]}},"type":"App"},"identifier":"positioned"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[394,15],"start":[394,5]}},"type":"Var","value":{"identifier":"positioned","sourcePos":[392,5]}},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"initializeNodeBreadths"},{"annotation":{"meta":null,"sourceSpan":{"end":[140,53],"start":[140,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[142,15],"start":[142,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,15],"start":[142,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,15],"start":[142,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[146,79],"start":[143,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,79],"start":[146,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,28],"start":[146,19]}},"type":"Var","value":{"identifier":"catMaybes","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,79],"start":[146,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,79],"start":[146,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,52],"start":[146,32]}},"type":"Var","value":{"identifier":"initialiseSankeyNode","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,58],"start":[146,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,58],"start":[146,53]}},"type":"Var","value":{"identifier":"model","sourcePos":[142,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,79],"start":[146,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,79],"start":[146,64]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,69],"start":[146,64]}},"type":"Var","value":{"identifier":"model","sourcePos":[142,3]}},"fieldName":"nodeOrder","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"sankeyNodes"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,42],"start":[147,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,42],"start":[147,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[147,42],"start":[147,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[147,40],"start":[147,29]}},"type":"Var","value":{"identifier":"sankeyNodes","sourcePos":[146,5]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"identifier":"initialiseSankeyNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[30,18],"start":[30,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[31,17],"start":[31,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-6}},"identifier":"epsilon"},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"argument":"y1","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[478,41],"start":[455,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[831,105],"start":[831,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[831,105],"start":[831,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[831,105],"start":[831,3]}},"argument":"updated","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[838,8],"start":[833,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[837,28],"start":[834,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[837,28],"start":[835,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[835,20],"start":[835,16]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[835,55],"start":[835,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[835,54],"start":[835,22]}},"argument":"u","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[835,54],"start":[835,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[835,40],"start":[835,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[835,40],"start":[835,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[835,29],"start":[835,28]}},"type":"Var","value":{"identifier":"u","sourcePos":[835,23]}},"fieldName":"node","type":"Accessor"},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[835,54],"start":[835,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[835,54],"start":[835,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[835,48],"start":[835,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[834,10]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[835,63],"start":[835,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[835,63],"start":[835,56]}},"type":"Var","value":{"identifier":"updated","sourcePos":[832,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[837,28],"start":[835,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[836,19],"start":[836,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[836,19],"start":[836,18]}},"binderType":"VarBinder","identifier":"u"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[836,29],"start":[836,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[836,24],"start":[836,23]}},"type":"Var","value":{"identifier":"u","sourcePos":[836,18]}},"fieldName":"node","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[837,20],"start":[837,13]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[837,28],"start":[837,24]}},"type":"Var","value":{"identifier":"node","sourcePos":[834,10]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[833,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[839,7]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[832,3]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"updateNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[630,120],"start":[630,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[630,120],"start":[630,3]}},"argument":"source","body":{"annotation":{"meta":null,"sourceSpan":{"end":[630,120],"start":[630,3]}},"argument":"target","body":{"annotation":{"meta":null,"sourceSpan":{"end":[630,120],"start":[630,3]}},"argument":"_sortedSourceLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[630,120],"start":[630,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[630,120],"start":[630,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[630,120],"start":[630,3]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[676,15],"start":[632,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[640,64],"start":[634,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[634,36],"start":[634,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[639,10],"start":[634,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[638,46],"start":[635,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[638,46],"start":[635,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[638,46],"start":[636,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[636,70],"start":[636,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[636,103],"start":[636,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,102],"start":[636,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[636,102],"start":[636,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,85],"start":[636,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,79],"start":[636,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[636,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[636,102],"start":[636,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,102],"start":[636,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,90],"start":[636,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[635,14]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[636,112],"start":[636,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,112],"start":[636,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[631,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[636,22],"start":[636,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[636,55],"start":[636,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,54],"start":[636,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[636,54],"start":[636,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,37],"start":[636,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,31],"start":[636,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[636,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[636,54],"start":[636,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,54],"start":[636,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[636,42],"start":[636,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[635,12]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[636,64],"start":[636,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[636,64],"start":[636,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[631,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[638,46],"start":[636,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[637,22],"start":[637,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[637,22],"start":[637,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[637,31],"start":[637,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[637,31],"start":[637,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[637,81],"start":[637,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[637,48],"start":[637,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[637,48],"start":[637,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[637,45],"start":[637,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[637,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[637,54],"start":[637,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[637,54],"start":[637,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[637,51],"start":[637,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[637,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[637,81],"start":[637,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[637,73],"start":[637,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[637,73],"start":[637,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[637,67],"start":[637,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[635,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[637,81],"start":[637,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[637,81],"start":[637,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[637,75],"start":[637,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[635,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[638,16],"start":[638,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[638,19],"start":[638,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[638,38],"start":[638,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[638,38],"start":[638,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[638,32],"start":[638,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[635,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[638,46],"start":[638,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[638,46],"start":[638,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[638,40],"start":[638,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[635,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[640,64],"start":[634,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[640,16],"start":[640,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[640,54],"start":[640,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[640,53],"start":[640,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[640,53],"start":[640,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[640,37],"start":[640,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[640,25],"start":[640,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[640,19]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[640,53],"start":[640,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[640,53],"start":[640,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[640,47],"start":[640,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[631,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[640,63],"start":[640,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[640,63],"start":[640,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[631,3]}},"type":"App"},"type":"App"},"identifier":"targetIncoming"},{"annotation":{"meta":null,"sourceSpan":{"end":[649,64],"start":[643,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[643,36],"start":[643,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[648,10],"start":[643,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[647,46],"start":[644,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[647,46],"start":[644,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[647,46],"start":[645,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[645,70],"start":[645,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[645,103],"start":[645,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,102],"start":[645,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[645,102],"start":[645,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,85],"start":[645,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[645,79],"start":[645,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[645,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[645,102],"start":[645,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,102],"start":[645,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[645,90],"start":[645,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[644,14]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[645,112],"start":[645,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,112],"start":[645,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[631,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[645,22],"start":[645,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[645,55],"start":[645,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,54],"start":[645,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[645,54],"start":[645,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,37],"start":[645,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[645,31],"start":[645,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[645,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[645,54],"start":[645,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,54],"start":[645,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[645,42],"start":[645,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[644,12]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[645,64],"start":[645,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[645,64],"start":[645,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[631,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[647,46],"start":[645,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[646,22],"start":[646,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[646,22],"start":[646,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[646,31],"start":[646,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[646,31],"start":[646,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[646,81],"start":[646,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[646,48],"start":[646,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[646,48],"start":[646,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[646,45],"start":[646,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[646,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[646,54],"start":[646,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[646,54],"start":[646,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[646,51],"start":[646,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[646,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[646,81],"start":[646,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[646,73],"start":[646,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[646,73],"start":[646,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[646,67],"start":[646,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[644,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[646,81],"start":[646,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[646,81],"start":[646,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[646,75],"start":[646,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[644,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[647,16],"start":[647,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[647,19],"start":[647,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[647,38],"start":[647,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[647,38],"start":[647,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[647,32],"start":[647,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[644,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[647,46],"start":[647,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[647,46],"start":[647,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[647,40],"start":[647,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[644,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[649,64],"start":[643,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[649,16],"start":[649,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[649,54],"start":[649,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[649,53],"start":[649,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[649,53],"start":[649,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[649,37],"start":[649,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[649,25],"start":[649,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[649,19]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[649,53],"start":[649,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[649,53],"start":[649,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[649,47],"start":[649,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[631,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[649,63],"start":[649,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[649,63],"start":[649,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[631,3]}},"type":"App"},"type":"App"},"identifier":"sourceOutgoing"},{"annotation":{"meta":null,"sourceSpan":{"end":[651,62],"start":[651,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[651,32],"start":[651,24]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[651,62],"start":[651,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[651,46],"start":[651,34]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[651,61],"start":[651,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[651,61],"start":[651,47]}},"type":"Var","value":{"identifier":"targetIncoming","sourcePos":[634,7]}},"type":"App"},"type":"App"},"identifier":"numTargetLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[654,25],"start":[654,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[654,22],"start":[654,16]}},"type":"Var","value":{"identifier":"target","sourcePos":[631,3]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[654,49],"start":[654,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[654,43],"start":[654,29]}},"type":"Var","value":{"identifier":"numTargetLinks","sourcePos":[651,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[654,49],"start":[654,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[654,49],"start":[654,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[654,55],"start":[654,53]}},"type":"Var","value":{"identifier":"py","sourcePos":[631,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[654,61],"start":[654,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"startY"},{"annotation":{"meta":null,"sourceSpan":{"end":[664,23],"start":[657,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[657,24],"start":[657,19]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[662,10],"start":[657,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[658,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[658,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[659,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[659,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[659,34],"start":[659,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[658,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[659,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[660,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[660,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[660,79],"start":[660,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[660,62],"start":[660,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[658,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[660,79],"start":[660,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[454,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[660,77],"start":[660,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[660,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[661,62],"start":[661,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[661,46],"start":[661,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[661,46],"start":[661,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[661,28],"start":[661,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[661,26],"start":[661,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[658,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[661,46],"start":[661,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[661,41],"start":[661,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[661,35],"start":[661,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[658,16]}},"fieldName":"width","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[661,46],"start":[661,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[661,46],"start":[661,44]}},"type":"Var","value":{"identifier":"py","sourcePos":[631,3]}},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[661,60],"start":[661,55]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[660,53],"start":[660,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[660,37],"start":[660,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[660,25],"start":[660,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[658,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[660,53],"start":[660,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[660,53],"start":[660,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[660,47],"start":[660,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[631,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[659,25],"start":[659,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[659,19],"start":[659,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[658,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[663,36],"start":[657,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[663,36],"start":[663,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[663,20],"start":[663,14]}},"type":"Var","value":{"identifier":"startY","sourcePos":[654,7]}}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[663,34],"start":[663,29]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[664,23],"start":[657,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[664,23],"start":[664,9]}},"type":"Var","value":{"identifier":"targetIncoming","sourcePos":[634,7]}},"type":"App"},"identifier":"yAtTarget"},{"annotation":{"meta":null,"sourceSpan":{"end":[674,23],"start":[667,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[667,21],"start":[667,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[672,10],"start":[667,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[668,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[668,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[669,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[669,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[669,34],"start":[669,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[668,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[669,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[670,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[670,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[670,79],"start":[670,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[670,62],"start":[670,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[668,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[670,79],"start":[670,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[454,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[670,77],"start":[670,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[670,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[671,57],"start":[671,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[671,41],"start":[671,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,28],"start":[671,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[671,26],"start":[671,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[668,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[671,41],"start":[671,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[671,41],"start":[671,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[671,35],"start":[671,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[668,16]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[671,55],"start":[671,50]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[670,53],"start":[670,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[670,37],"start":[670,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[670,25],"start":[670,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[668,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[670,53],"start":[670,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[670,53],"start":[670,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[670,47],"start":[670,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[631,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[669,25],"start":[669,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[669,19],"start":[669,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[668,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[673,41],"start":[667,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[673,41],"start":[673,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[673,25],"start":[673,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[673,23],"start":[673,14]}},"type":"Var","value":{"identifier":"yAtTarget","sourcePos":[657,7]}},"fieldName":"y","type":"Accessor"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[673,39],"start":[673,34]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[674,23],"start":[667,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[674,23],"start":[674,9]}},"type":"Var","value":{"identifier":"sourceOutgoing","sourcePos":[643,7]}},"type":"App"},"identifier":"yFinal"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[676,15],"start":[676,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[676,13],"start":[676,7]}},"type":"Var","value":{"identifier":"yFinal","sourcePos":[667,7]}},"fieldName":"y","type":"Accessor"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"targetTop"},{"annotation":{"meta":null,"sourceSpan":{"end":[681,120],"start":[681,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[681,120],"start":[681,3]}},"argument":"source","body":{"annotation":{"meta":null,"sourceSpan":{"end":[681,120],"start":[681,3]}},"argument":"target","body":{"annotation":{"meta":null,"sourceSpan":{"end":[681,120],"start":[681,3]}},"argument":"_sortedTargetLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[681,120],"start":[681,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[681,120],"start":[681,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[681,120],"start":[681,3]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[727,15],"start":[683,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[700,64],"start":[694,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[694,36],"start":[694,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[699,10],"start":[694,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[698,46],"start":[695,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[698,46],"start":[695,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[698,46],"start":[696,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[696,70],"start":[696,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[696,103],"start":[696,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,102],"start":[696,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[696,102],"start":[696,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,85],"start":[696,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[696,79],"start":[696,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[696,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[696,102],"start":[696,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,102],"start":[696,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[696,90],"start":[696,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[695,14]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[696,112],"start":[696,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,112],"start":[696,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[682,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[696,22],"start":[696,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[696,55],"start":[696,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,54],"start":[696,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[696,54],"start":[696,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,37],"start":[696,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[696,31],"start":[696,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[696,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[696,54],"start":[696,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,54],"start":[696,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[696,42],"start":[696,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[695,12]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[696,64],"start":[696,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[696,64],"start":[696,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[682,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[698,46],"start":[696,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[697,22],"start":[697,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[697,22],"start":[697,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[697,31],"start":[697,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[697,31],"start":[697,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[697,81],"start":[697,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[697,48],"start":[697,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[697,48],"start":[697,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[697,45],"start":[697,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[697,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[697,54],"start":[697,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[697,54],"start":[697,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[697,51],"start":[697,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[697,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[697,81],"start":[697,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[697,73],"start":[697,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[697,73],"start":[697,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[697,67],"start":[697,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[695,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[697,81],"start":[697,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[697,81],"start":[697,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[697,75],"start":[697,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[695,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[698,16],"start":[698,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[698,19],"start":[698,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[698,38],"start":[698,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[698,38],"start":[698,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[698,32],"start":[698,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[695,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[698,46],"start":[698,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[698,46],"start":[698,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[698,40],"start":[698,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[695,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[700,64],"start":[694,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[700,16],"start":[700,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[700,54],"start":[700,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,53],"start":[700,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[700,53],"start":[700,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,37],"start":[700,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[700,25],"start":[700,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[700,19]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[700,53],"start":[700,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,53],"start":[700,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[700,47],"start":[700,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[682,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[700,63],"start":[700,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[700,63],"start":[700,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[682,3]}},"type":"App"},"type":"App"},"identifier":"targetIncoming"},{"annotation":{"meta":null,"sourceSpan":{"end":[691,64],"start":[685,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[685,36],"start":[685,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[690,10],"start":[685,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[689,46],"start":[686,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[689,46],"start":[686,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[689,46],"start":[687,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[687,70],"start":[687,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[687,103],"start":[687,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,102],"start":[687,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[687,102],"start":[687,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,85],"start":[687,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[687,79],"start":[687,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[687,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[687,102],"start":[687,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,102],"start":[687,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[687,90],"start":[687,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[686,14]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[687,112],"start":[687,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,112],"start":[687,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[682,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[687,22],"start":[687,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[687,55],"start":[687,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,54],"start":[687,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[687,54],"start":[687,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,37],"start":[687,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[687,31],"start":[687,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[687,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[687,54],"start":[687,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,54],"start":[687,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[687,42],"start":[687,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[686,12]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[687,64],"start":[687,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[687,64],"start":[687,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[682,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[689,46],"start":[687,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[688,22],"start":[688,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[688,22],"start":[688,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[688,31],"start":[688,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[688,31],"start":[688,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[688,81],"start":[688,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[688,48],"start":[688,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[688,48],"start":[688,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[688,45],"start":[688,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[688,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[688,54],"start":[688,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[688,54],"start":[688,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[688,51],"start":[688,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[688,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[688,81],"start":[688,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[688,73],"start":[688,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[688,73],"start":[688,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[688,67],"start":[688,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[686,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[688,81],"start":[688,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[688,81],"start":[688,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[688,75],"start":[688,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[686,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[689,16],"start":[689,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[689,19],"start":[689,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[689,38],"start":[689,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[689,38],"start":[689,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[689,32],"start":[689,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[686,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[689,46],"start":[689,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[689,46],"start":[689,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[689,40],"start":[689,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[686,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[691,64],"start":[685,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[691,16],"start":[691,10]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[691,54],"start":[691,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,53],"start":[691,18]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[691,53],"start":[691,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,37],"start":[691,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[691,25],"start":[691,24]}},"type":"Var","value":{"identifier":"l","sourcePos":[691,19]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[691,53],"start":[691,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,53],"start":[691,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[691,47],"start":[691,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[682,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[691,63],"start":[691,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[691,63],"start":[691,55]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[682,3]}},"type":"App"},"type":"App"},"identifier":"sourceOutgoing"},{"annotation":{"meta":null,"sourceSpan":{"end":[702,62],"start":[702,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[702,32],"start":[702,24]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[702,62],"start":[702,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[702,46],"start":[702,34]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[702,61],"start":[702,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[702,61],"start":[702,47]}},"type":"Var","value":{"identifier":"sourceOutgoing","sourcePos":[685,7]}},"type":"App"},"type":"App"},"identifier":"numSourceLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[705,25],"start":[705,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[705,22],"start":[705,16]}},"type":"Var","value":{"identifier":"source","sourcePos":[682,3]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[705,49],"start":[705,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[705,43],"start":[705,29]}},"type":"Var","value":{"identifier":"numSourceLinks","sourcePos":[702,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[705,49],"start":[705,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[705,49],"start":[705,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[705,55],"start":[705,53]}},"type":"Var","value":{"identifier":"py","sourcePos":[682,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[705,61],"start":[705,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"startY"},{"annotation":{"meta":null,"sourceSpan":{"end":[715,23],"start":[708,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[708,24],"start":[708,19]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[713,10],"start":[708,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[709,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[709,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[710,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[710,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[710,34],"start":[710,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[709,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[710,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[711,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[711,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[711,79],"start":[711,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[711,62],"start":[711,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[709,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[711,79],"start":[711,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[454,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[711,77],"start":[711,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[711,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[712,62],"start":[712,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[712,46],"start":[712,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[712,46],"start":[712,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[712,28],"start":[712,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[712,26],"start":[712,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[709,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[712,46],"start":[712,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[712,41],"start":[712,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[712,35],"start":[712,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[709,16]}},"fieldName":"width","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[712,46],"start":[712,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[712,46],"start":[712,44]}},"type":"Var","value":{"identifier":"py","sourcePos":[682,3]}},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[712,60],"start":[712,55]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[711,53],"start":[711,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[711,37],"start":[711,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[711,25],"start":[711,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[709,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[711,53],"start":[711,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[711,53],"start":[711,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[711,47],"start":[711,41]}},"type":"Var","value":{"identifier":"target","sourcePos":[682,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[710,25],"start":[710,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[710,19],"start":[710,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[709,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[714,36],"start":[708,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[714,36],"start":[714,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[714,20],"start":[714,14]}},"type":"Var","value":{"identifier":"startY","sourcePos":[705,7]}}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[714,34],"start":[714,29]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[715,23],"start":[708,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[715,23],"start":[715,9]}},"type":"Var","value":{"identifier":"sourceOutgoing","sourcePos":[685,7]}},"type":"App"},"identifier":"yAtSource"},{"annotation":{"meta":null,"sourceSpan":{"end":[725,23],"start":[718,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[718,21],"start":[718,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[723,10],"start":[718,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[719,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[719,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[720,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[720,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[720,34],"start":[720,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[719,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[720,13]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[721,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[721,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[721,79],"start":[721,59]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[721,62],"start":[721,59]}},"type":"Var","value":{"identifier":"acc","sourcePos":[719,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[721,79],"start":[721,59]}},"copy":["y"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[454,1]}},"type":"ObjectUpdate","updates":[["found",{"annotation":{"meta":null,"sourceSpan":{"end":[721,77],"start":[721,73]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[721,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[722,57],"start":[722,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[722,41],"start":[722,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[722,28],"start":[722,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[722,26],"start":[722,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[719,12]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[722,41],"start":[722,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[722,41],"start":[722,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[722,35],"start":[722,31]}},"type":"Var","value":{"identifier":"link","sourcePos":[719,16]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[722,55],"start":[722,50]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[721,53],"start":[721,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[721,37],"start":[721,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[721,25],"start":[721,21]}},"type":"Var","value":{"identifier":"link","sourcePos":[719,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[721,53],"start":[721,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[721,53],"start":[721,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[721,47],"start":[721,41]}},"type":"Var","value":{"identifier":"source","sourcePos":[682,3]}},"fieldName":"index","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[720,25],"start":[720,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[720,19],"start":[720,16]}},"type":"Var","value":{"identifier":"acc","sourcePos":[719,12]}},"fieldName":"found","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[724,41],"start":[718,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[724,41],"start":[724,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[724,25],"start":[724,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[724,23],"start":[724,14]}},"type":"Var","value":{"identifier":"yAtSource","sourcePos":[708,7]}},"fieldName":"y","type":"Accessor"}],["found",{"annotation":{"meta":null,"sourceSpan":{"end":[724,39],"start":[724,34]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[725,23],"start":[718,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[725,23],"start":[725,9]}},"type":"Var","value":{"identifier":"targetIncoming","sourcePos":[694,7]}},"type":"App"},"identifier":"yFinal"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[727,15],"start":[727,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[727,13],"start":[727,7]}},"type":"Var","value":{"identifier":"yFinal","sourcePos":[718,7]}},"fieldName":"y","type":"Accessor"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"sourceTop"},{"annotation":{"meta":null,"sourceSpan":{"end":[801,170],"start":[801,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[801,170],"start":[801,3]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[801,170],"start":[801,3]}},"argument":"startIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[801,170],"start":[801,3]}},"argument":"targetY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[801,170],"start":[801,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[801,170],"start":[801,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[828,32],"start":[803,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[804,29],"start":[804,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[804,23],"start":[804,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[804,29],"start":[804,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[804,29],"start":[804,24]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[802,3]}},"type":"App"},"identifier":"n"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[806,128],"start":[806,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[806,128],"start":[806,7]}},"argument":"idx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[806,128],"start":[806,7]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[806,128],"start":[806,7]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[808,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[808,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[808,38],"start":[808,26]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[807,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[808,9]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[809,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[809,34],"start":[809,32]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[809,38],"start":[809,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[809,31],"start":[809,19]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[807,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[809,38],"start":[809,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[809,38],"start":[809,35]}},"type":"Var","value":{"identifier":"idx","sourcePos":[807,7]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[809,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[810,18],"start":[810,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[810,34],"start":[810,22]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[807,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[811,20],"start":[811,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[811,20],"start":[811,16]}},"binderType":"VarBinder","identifier":"item"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[812,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[814,45],"start":[814,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[814,45],"start":[814,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[814,37],"start":[814,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[814,22],"start":[814,21]}},"type":"Var","value":{"identifier":"y","sourcePos":[807,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[814,37],"start":[814,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[814,37],"start":[814,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[814,37],"start":[814,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[814,29],"start":[814,25]}},"type":"Var","value":{"identifier":"item","sourcePos":[811,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[814,45],"start":[814,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[814,45],"start":[814,41]}},"type":"Var","value":{"identifier":"beta","sourcePos":[802,3]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[821,34],"start":[815,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[821,34],"start":[816,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[821,34],"start":[816,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[820,118],"start":[817,19]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[818,91],"start":[818,21]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,91],"start":[818,31]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,40],"start":[818,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,35],"start":[818,31]}},"type":"Var","value":{"identifier":"item","sourcePos":[811,16]}},"fieldName":"node","type":"Accessor"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,91],"start":[818,31]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[454,1]}},"type":"ObjectUpdate","updates":[["y0",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[818,65],"start":[818,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[818,60],"start":[818,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,60],"start":[818,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,52],"start":[818,48]}},"type":"Var","value":{"identifier":"item","sourcePos":[811,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[818,65],"start":[818,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[818,65],"start":[818,63]}},"type":"Var","value":{"identifier":"dy","sourcePos":[814,15]}},"type":"App"}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[818,89],"start":[818,72]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[818,84],"start":[818,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,84],"start":[818,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[818,76],"start":[818,72]}},"type":"Var","value":{"identifier":"item","sourcePos":[811,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[818,89],"start":[818,72]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[818,89],"start":[818,87]}},"type":"Var","value":{"identifier":"dy","sourcePos":[814,15]}},"type":"App"}]]},"type":"Let"},"identifier":"newNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[820,30],"start":[820,21]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[820,43],"start":[820,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[820,43],"start":[820,31]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[807,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[820,118],"start":[820,21]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[820,59],"start":[820,45]}},"type":"Var","value":{"identifier":"updateAt","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[820,63],"start":[820,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[820,63],"start":[820,60]}},"type":"Var","value":{"identifier":"idx","sourcePos":[807,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[820,104],"start":[820,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[820,104],"start":[820,64]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["node",{"annotation":{"meta":null,"sourceSpan":{"end":[820,79],"start":[820,72]}},"type":"Var","value":{"identifier":"newNode","sourcePos":[818,21]}}],["targetY",{"annotation":{"meta":null,"sourceSpan":{"end":[820,102],"start":[820,90]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[820,94],"start":[820,90]}},"type":"Var","value":{"identifier":"item","sourcePos":[811,16]}},"fieldName":"targetY","type":"Accessor"}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[820,117],"start":[820,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[820,117],"start":[820,105]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[807,7]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[821,34],"start":[816,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[821,34],"start":[821,22]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[807,7]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[816,32],"start":[816,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,22],"start":[816,20]}},"type":"Var","value":{"identifier":"dy","sourcePos":[814,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[816,32],"start":[816,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[816,32],"start":[816,25]}},"type":"Var","value":{"identifier":"epsilon","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"}],"type":"Case"},"identifier":"updated"},{"annotation":{"meta":null,"sourceSpan":{"end":[824,29],"start":[822,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[824,29],"start":[822,22]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[822,37],"start":[822,35]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[822,41],"start":[822,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[822,34],"start":[822,27]}},"type":"Var","value":{"identifier":"updated","sourcePos":[815,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[822,41],"start":[822,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[822,41],"start":[822,38]}},"type":"Var","value":{"identifier":"idx","sourcePos":[807,7]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[824,29],"start":[822,22]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[823,24],"start":[823,17]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[823,24],"start":[823,22]}},"binderType":"VarBinder","identifier":"n'"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[823,48],"start":[823,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[823,38],"start":[823,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[823,38],"start":[823,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[823,30],"start":[823,28]}},"type":"Var","value":{"identifier":"n'","sourcePos":[823,22]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[823,48],"start":[823,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[823,48],"start":[823,41]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[802,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[824,24],"start":[824,17]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[824,29],"start":[824,28]}},"type":"Var","value":{"identifier":"y","sourcePos":[807,7]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"identifier":"newY"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[826,17],"start":[826,15]}},"type":"Var","value":{"identifier":"go","sourcePos":[806,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[826,27],"start":[826,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[826,26],"start":[826,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[826,22],"start":[826,19]}},"type":"Var","value":{"identifier":"idx","sourcePos":[807,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[826,26],"start":[826,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[826,26],"start":[826,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[826,32],"start":[826,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[826,32],"start":[826,28]}},"type":"Var","value":{"identifier":"newY","sourcePos":[822,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[826,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[826,40],"start":[826,33]}},"type":"Var","value":{"identifier":"updated","sourcePos":[815,15]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[808,20],"start":[808,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[808,15],"start":[808,12]}},"type":"Var","value":{"identifier":"idx","sourcePos":[807,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[808,20],"start":[808,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[808,20],"start":[808,19]}},"type":"Var","value":{"identifier":"n","sourcePos":[804,7]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"go"}]}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[828,9],"start":[828,7]}},"type":"Var","value":{"identifier":"go","sourcePos":[806,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[828,18],"start":[828,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[828,18],"start":[828,10]}},"type":"Var","value":{"identifier":"startIdx","sourcePos":[802,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[828,26],"start":[828,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[828,26],"start":[828,19]}},"type":"Var","value":{"identifier":"targetY","sourcePos":[802,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[828,32],"start":[828,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[828,32],"start":[828,27]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[802,3]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"resolveCollisionsTopToBottom"},{"annotation":{"meta":null,"sourceSpan":{"end":[770,170],"start":[770,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[770,170],"start":[770,3]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[770,170],"start":[770,3]}},"argument":"startIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[770,170],"start":[770,3]}},"argument":"targetY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[770,170],"start":[770,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[770,170],"start":[770,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[797,34],"start":[772,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[797,34],"start":[772,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[772,31],"start":[772,26]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[771,3]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[797,34],"start":[772,5]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[797,34],"start":[774,7]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[775,130],"start":[775,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[775,130],"start":[775,9]}},"argument":"idx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[775,130],"start":[775,9]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[775,130],"start":[775,9]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[777,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[777,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[777,39],"start":[777,27]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[776,9]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[777,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[778,16]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[778,36],"start":[778,34]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[778,40],"start":[778,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[778,33],"start":[778,21]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[776,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[778,40],"start":[778,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[778,40],"start":[778,37]}},"type":"Var","value":{"identifier":"idx","sourcePos":[776,9]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[778,16]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[779,20],"start":[779,13]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[779,36],"start":[779,24]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[776,9]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[780,22],"start":[780,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[780,22],"start":[780,18]}},"binderType":"VarBinder","identifier":"item"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[781,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[783,47],"start":[783,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[783,47],"start":[783,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[783,39],"start":[783,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[783,35],"start":[783,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[783,35],"start":[783,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[783,27],"start":[783,23]}},"type":"Var","value":{"identifier":"item","sourcePos":[780,18]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[783,39],"start":[783,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[783,39],"start":[783,38]}},"type":"Var","value":{"identifier":"y","sourcePos":[776,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[783,47],"start":[783,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[783,47],"start":[783,43]}},"type":"Var","value":{"identifier":"beta","sourcePos":[771,3]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[790,36],"start":[784,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[790,36],"start":[785,19]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[790,36],"start":[785,19]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[789,120],"start":[786,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[787,93],"start":[787,23]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,93],"start":[787,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,42],"start":[787,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,37],"start":[787,33]}},"type":"Var","value":{"identifier":"item","sourcePos":[780,18]}},"fieldName":"node","type":"Accessor"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,93],"start":[787,33]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[454,1]}},"type":"ObjectUpdate","updates":[["y0",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[787,67],"start":[787,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[787,62],"start":[787,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,62],"start":[787,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,54],"start":[787,50]}},"type":"Var","value":{"identifier":"item","sourcePos":[780,18]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[787,67],"start":[787,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[787,67],"start":[787,65]}},"type":"Var","value":{"identifier":"dy","sourcePos":[783,17]}},"type":"App"}],["y1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[787,91],"start":[787,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[787,86],"start":[787,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,86],"start":[787,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[787,78],"start":[787,74]}},"type":"Var","value":{"identifier":"item","sourcePos":[780,18]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[787,91],"start":[787,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[787,91],"start":[787,89]}},"type":"Var","value":{"identifier":"dy","sourcePos":[783,17]}},"type":"App"}]]},"type":"Let"},"identifier":"newNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[789,32],"start":[789,23]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[789,45],"start":[789,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[789,45],"start":[789,33]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[776,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[789,120],"start":[789,23]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[789,61],"start":[789,47]}},"type":"Var","value":{"identifier":"updateAt","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[789,65],"start":[789,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[789,65],"start":[789,62]}},"type":"Var","value":{"identifier":"idx","sourcePos":[776,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[789,106],"start":[789,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[789,106],"start":[789,66]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["node",{"annotation":{"meta":null,"sourceSpan":{"end":[789,81],"start":[789,74]}},"type":"Var","value":{"identifier":"newNode","sourcePos":[787,23]}}],["targetY",{"annotation":{"meta":null,"sourceSpan":{"end":[789,104],"start":[789,92]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[789,96],"start":[789,92]}},"type":"Var","value":{"identifier":"item","sourcePos":[780,18]}},"fieldName":"targetY","type":"Accessor"}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[789,119],"start":[789,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[789,119],"start":[789,107]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[776,9]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[790,36],"start":[785,19]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[790,36],"start":[790,24]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[776,9]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[785,34],"start":[785,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[785,24],"start":[785,22]}},"type":"Var","value":{"identifier":"dy","sourcePos":[783,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[785,34],"start":[785,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[785,34],"start":[785,27]}},"type":"Var","value":{"identifier":"epsilon","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"}],"type":"Case"},"identifier":"updated"},{"annotation":{"meta":null,"sourceSpan":{"end":[793,31],"start":[791,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[793,31],"start":[791,24]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[791,39],"start":[791,37]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[791,43],"start":[791,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[791,36],"start":[791,29]}},"type":"Var","value":{"identifier":"updated","sourcePos":[784,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[791,43],"start":[791,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[791,43],"start":[791,40]}},"type":"Var","value":{"identifier":"idx","sourcePos":[776,9]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[793,31],"start":[791,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[792,25],"start":[792,19]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[792,25],"start":[792,24]}},"binderType":"VarBinder","identifier":"n"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[792,48],"start":[792,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[792,38],"start":[792,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[792,38],"start":[792,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[792,30],"start":[792,29]}},"type":"Var","value":{"identifier":"n","sourcePos":[792,24]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[792,48],"start":[792,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[792,48],"start":[792,41]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[771,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[793,26],"start":[793,19]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[793,31],"start":[793,30]}},"type":"Var","value":{"identifier":"y","sourcePos":[776,9]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"identifier":"newY"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[795,19],"start":[795,17]}},"type":"Var","value":{"identifier":"go","sourcePos":[775,9]}},"annotation":{"meta":null,"sourceSpan":{"end":[795,29],"start":[795,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[795,28],"start":[795,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[795,24],"start":[795,21]}},"type":"Var","value":{"identifier":"idx","sourcePos":[776,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[795,28],"start":[795,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[795,28],"start":[795,27]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[795,34],"start":[795,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[795,34],"start":[795,30]}},"type":"Var","value":{"identifier":"newY","sourcePos":[791,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[795,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[795,42],"start":[795,35]}},"type":"Var","value":{"identifier":"updated","sourcePos":[784,17]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[777,21],"start":[777,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[777,17],"start":[777,14]}},"type":"Var","value":{"identifier":"idx","sourcePos":[776,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[777,21],"start":[777,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[777,21],"start":[777,20]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"go"}]}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[797,11],"start":[797,9]}},"type":"Var","value":{"identifier":"go","sourcePos":[775,9]}},"annotation":{"meta":null,"sourceSpan":{"end":[797,20],"start":[797,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[797,20],"start":[797,12]}},"type":"Var","value":{"identifier":"startIdx","sourcePos":[771,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[797,28],"start":[797,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[797,28],"start":[797,21]}},"type":"Var","value":{"identifier":"targetY","sourcePos":[771,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[797,34],"start":[797,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[797,34],"start":[797,29]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[771,3]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[772,20],"start":[772,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[772,16],"start":[772,8]}},"type":"Var","value":{"identifier":"startIdx","sourcePos":[771,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[772,20],"start":[772,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[772,20],"start":[772,19]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"resolveCollisionsBottomToTop"},{"annotation":{"meta":null,"sourceSpan":{"end":[733,162],"start":[733,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[733,162],"start":[733,3]}},"argument":"sorted","body":{"annotation":{"meta":null,"sourceSpan":{"end":[733,162],"start":[733,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[733,162],"start":[733,3]}},"argument":"yMin","body":{"annotation":{"meta":null,"sourceSpan":{"end":[733,162],"start":[733,3]}},"argument":"yMax","body":{"annotation":{"meta":null,"sourceSpan":{"end":[733,162],"start":[733,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[766,19],"start":[735,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[766,19],"start":[735,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[735,37],"start":[735,31]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[734,3]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[766,19],"start":[735,5]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[766,19],"start":[737,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[738,32],"start":[738,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[738,25],"start":[738,13]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[738,32],"start":[738,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[738,32],"start":[738,26]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[734,3]}},"type":"App"},"identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[739,26],"start":[739,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[739,26],"start":[739,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[739,22],"start":[739,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[738,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[739,26],"start":[739,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[739,26],"start":[739,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"identifier":"middleIdx"},{"annotation":{"meta":null,"sourceSpan":{"end":[742,41],"start":[742,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[742,31],"start":[742,29]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[742,41],"start":[742,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,28],"start":[742,22]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[742,41],"start":[742,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[742,41],"start":[742,32]}},"type":"Var","value":{"identifier":"middleIdx","sourcePos":[739,9]}},"type":"App"},"identifier":"middleNode"},{"annotation":{"meta":null,"sourceSpan":{"end":[756,26],"start":[754,9]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[756,26],"start":[754,22]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[755,17],"start":[755,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[755,17],"start":[755,16]}},"binderType":"VarBinder","identifier":"m"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[755,40],"start":[755,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[755,30],"start":[755,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[755,30],"start":[755,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[755,22],"start":[755,21]}},"type":"Var","value":{"identifier":"m","sourcePos":[755,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[755,40],"start":[755,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[755,40],"start":[755,33]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[734,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[756,18],"start":[756,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[756,26],"start":[756,22]}},"type":"Var","value":{"identifier":"yMin","sourcePos":[734,3]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[754,37],"start":[754,27]}},"type":"Var","value":{"identifier":"middleNode","sourcePos":[742,9]}}],"type":"Case"},"identifier":"startYDown"},{"annotation":{"meta":null,"sourceSpan":{"end":[748,26],"start":[746,9]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[748,26],"start":[746,20]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[747,17],"start":[747,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[747,17],"start":[747,16]}},"binderType":"VarBinder","identifier":"m"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[747,40],"start":[747,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[747,30],"start":[747,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[747,30],"start":[747,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[747,22],"start":[747,21]}},"type":"Var","value":{"identifier":"m","sourcePos":[747,16]}},"fieldName":"node","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[747,40],"start":[747,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[747,40],"start":[747,33]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[734,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[748,18],"start":[748,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[748,26],"start":[748,22]}},"type":"Var","value":{"identifier":"yMax","sourcePos":[734,3]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[746,35],"start":[746,25]}},"type":"Var","value":{"identifier":"middleNode","sourcePos":[742,9]}}],"type":"Case"},"identifier":"startYUp"},{"annotation":{"meta":null,"sourceSpan":{"end":[750,93],"start":[750,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[750,48],"start":[750,20]}},"type":"Var","value":{"identifier":"resolveCollisionsBottomToTop","sourcePos":[770,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[750,55],"start":[750,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[750,55],"start":[750,49]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[750,71],"start":[750,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[750,70],"start":[750,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[750,66],"start":[750,57]}},"type":"Var","value":{"identifier":"middleIdx","sourcePos":[739,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[750,70],"start":[750,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[750,70],"start":[750,69]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[750,80],"start":[750,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[750,80],"start":[750,72]}},"type":"Var","value":{"identifier":"startYUp","sourcePos":[746,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[750,88],"start":[750,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[750,88],"start":[750,81]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[750,93],"start":[750,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[750,93],"start":[750,89]}},"type":"Var","value":{"identifier":"beta","sourcePos":[734,3]}},"type":"App"},"identifier":"pushedUp"},{"annotation":{"meta":null,"sourceSpan":{"end":[758,104],"start":[758,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[758,55],"start":[758,27]}},"type":"Var","value":{"identifier":"resolveCollisionsTopToBottom","sourcePos":[801,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[758,64],"start":[758,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[758,64],"start":[758,56]}},"type":"Var","value":{"identifier":"pushedUp","sourcePos":[750,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[758,80],"start":[758,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[758,79],"start":[758,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[758,75],"start":[758,66]}},"type":"Var","value":{"identifier":"middleIdx","sourcePos":[739,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[758,79],"start":[758,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[758,79],"start":[758,78]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[758,91],"start":[758,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[758,91],"start":[758,81]}},"type":"Var","value":{"identifier":"startYDown","sourcePos":[754,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[758,99],"start":[758,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[758,99],"start":[758,92]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[758,104],"start":[758,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[758,104],"start":[758,100]}},"type":"Var","value":{"identifier":"beta","sourcePos":[734,3]}},"type":"App"},"identifier":"pushedUpAndDown"},{"annotation":{"meta":null,"sourceSpan":{"end":[761,95],"start":[761,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[761,53],"start":[761,25]}},"type":"Var","value":{"identifier":"resolveCollisionsBottomToTop","sourcePos":[770,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[761,69],"start":[761,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[761,69],"start":[761,54]}},"type":"Var","value":{"identifier":"pushedUpAndDown","sourcePos":[758,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[761,77],"start":[761,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[761,76],"start":[761,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[761,72],"start":[761,71]}},"type":"Var","value":{"identifier":"n","sourcePos":[738,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[761,76],"start":[761,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[761,76],"start":[761,75]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[761,82],"start":[761,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[761,82],"start":[761,78]}},"type":"Var","value":{"identifier":"yMax","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[761,90],"start":[761,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[761,90],"start":[761,83]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[761,95],"start":[761,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[761,95],"start":[761,91]}},"type":"Var","value":{"identifier":"beta","sourcePos":[734,3]}},"type":"App"},"identifier":"clampedBottom"},{"annotation":{"meta":null,"sourceSpan":{"end":[764,84],"start":[764,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[764,50],"start":[764,22]}},"type":"Var","value":{"identifier":"resolveCollisionsTopToBottom","sourcePos":[801,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[764,64],"start":[764,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[764,64],"start":[764,51]}},"type":"Var","value":{"identifier":"clampedBottom","sourcePos":[761,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[764,66],"start":[764,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[764,66],"start":[764,65]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[764,71],"start":[764,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[764,71],"start":[764,67]}},"type":"Var","value":{"identifier":"yMin","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[764,79],"start":[764,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[764,79],"start":[764,72]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[734,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[764,84],"start":[764,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[764,84],"start":[764,80]}},"type":"Var","value":{"identifier":"beta","sourcePos":[734,3]}},"type":"App"},"identifier":"clampedTop"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[766,19],"start":[766,9]}},"type":"Var","value":{"identifier":"clampedTop","sourcePos":[764,9]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[735,18],"start":[735,8]}},"type":"Var","value":{"identifier":"null","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[735,25],"start":[735,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[735,25],"start":[735,19]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[734,3]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"resolveCollisions"},{"annotation":{"meta":null,"sourceSpan":{"end":[555,105],"start":[555,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[555,105],"start":[555,3]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[555,105],"start":[555,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[555,105],"start":[555,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[555,105],"start":[555,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[588,19],"start":[557,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[559,74],"start":[559,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[559,29],"start":[559,23]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[559,65],"start":[559,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[559,64],"start":[559,31]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[559,64],"start":[559,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[559,50],"start":[559,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[559,38],"start":[559,37]}},"type":"Var","value":{"identifier":"l","sourcePos":[559,32]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[559,64],"start":[559,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[559,64],"start":[559,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[559,58],"start":[559,54]}},"type":"Var","value":{"identifier":"node","sourcePos":[556,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[559,74],"start":[559,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[559,74],"start":[559,66]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[556,3]}},"type":"App"},"identifier":"outgoingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[566,22],"start":[560,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[560,33],"start":[560,21]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[565,10],"start":[560,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,46],"start":[561,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[564,46],"start":[561,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[564,46],"start":[562,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[562,70],"start":[562,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[562,103],"start":[562,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,102],"start":[562,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[562,102],"start":[562,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,85],"start":[562,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[562,79],"start":[562,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[562,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[562,102],"start":[562,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,102],"start":[562,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[562,90],"start":[562,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[561,14]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[562,112],"start":[562,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,112],"start":[562,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[556,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[562,22],"start":[562,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[562,55],"start":[562,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,54],"start":[562,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[562,54],"start":[562,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,37],"start":[562,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[562,31],"start":[562,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[562,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[562,54],"start":[562,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,54],"start":[562,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[562,42],"start":[562,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[561,12]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[562,64],"start":[562,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[562,64],"start":[562,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[556,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[564,46],"start":[562,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[563,22],"start":[563,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[563,22],"start":[563,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[563,31],"start":[563,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[563,31],"start":[563,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[563,81],"start":[563,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[563,48],"start":[563,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,48],"start":[563,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[563,45],"start":[563,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[563,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[563,54],"start":[563,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,54],"start":[563,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[563,51],"start":[563,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[563,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[563,81],"start":[563,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[563,73],"start":[563,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,73],"start":[563,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[563,67],"start":[563,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[561,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[563,81],"start":[563,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[563,81],"start":[563,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[563,75],"start":[563,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[561,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[564,16],"start":[564,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[564,19],"start":[564,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[564,38],"start":[564,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,38],"start":[564,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[564,32],"start":[564,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[561,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[564,46],"start":[564,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[564,46],"start":[564,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[564,40],"start":[564,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[561,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[566,22],"start":[560,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[566,22],"start":[566,9]}},"type":"Var","value":{"identifier":"outgoingLinks","sourcePos":[559,7]}},"type":"App"},"identifier":"sortedLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[585,20],"start":[570,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[570,21],"start":[570,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[583,10],"start":[570,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[582,29],"start":[571,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[582,29],"start":[571,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[582,29],"start":[572,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[572,22],"start":[572,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[572,58],"start":[572,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[572,57],"start":[572,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[572,57],"start":[572,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[572,37],"start":[572,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[572,31],"start":[572,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[572,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[572,57],"start":[572,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[572,57],"start":[572,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[572,45],"start":[572,41]}},"type":"Var","value":{"identifier":"link","sourcePos":[571,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[572,67],"start":[572,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[572,67],"start":[572,59]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[556,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[582,29],"start":[572,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[573,30],"start":[573,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[573,30],"start":[573,20]}},"binderType":"VarBinder","identifier":"targetNode"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[581,82],"start":[574,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[576,71],"start":[576,19]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[576,39],"start":[576,31]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[576,71],"start":[576,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[576,70],"start":[576,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[576,57],"start":[576,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[576,51],"start":[576,41]}},"type":"Var","value":{"identifier":"targetNode","sourcePos":[573,20]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[576,70],"start":[576,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[576,70],"start":[576,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[576,64],"start":[576,60]}},"type":"Var","value":{"identifier":"node","sourcePos":[556,3]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"layerDist"},{"annotation":{"meta":null,"sourceSpan":{"end":[577,53],"start":[577,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[577,53],"start":[577,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[577,33],"start":[577,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[577,27],"start":[577,23]}},"type":"Var","value":{"identifier":"link","sourcePos":[571,16]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[577,53],"start":[577,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[577,43],"start":[577,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[577,43],"start":[577,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[577,53],"start":[577,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[577,53],"start":[577,44]}},"type":"Var","value":{"identifier":"layerDist","sourcePos":[576,19]}},"type":"App"},"type":"App"},"identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[579,91],"start":[579,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[579,37],"start":[579,28]}},"type":"Var","value":{"identifier":"targetTop","sourcePos":[630,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[579,42],"start":[579,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,42],"start":[579,38]}},"type":"Var","value":{"identifier":"node","sourcePos":[556,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,53],"start":[579,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,53],"start":[579,43]}},"type":"Var","value":{"identifier":"targetNode","sourcePos":[573,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,65],"start":[579,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,65],"start":[579,54]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[560,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,74],"start":[579,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,74],"start":[579,66]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[556,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,83],"start":[579,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,83],"start":[579,75]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[556,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[579,91],"start":[579,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[579,91],"start":[579,84]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[556,3]}},"type":"App"},"identifier":"idealY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[581,82],"start":[581,19]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[581,46],"start":[581,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,33],"start":[581,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[581,29],"start":[581,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[571,12]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[581,46],"start":[581,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[581,46],"start":[581,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,42],"start":[581,36]}},"type":"Var","value":{"identifier":"idealY","sourcePos":[579,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[581,46],"start":[581,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,46],"start":[581,45]}},"type":"Var","value":{"identifier":"v1","sourcePos":[577,19]}},"type":"App"},"type":"App"}],["totalWeight",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[581,80],"start":[581,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,76],"start":[581,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[581,64],"start":[581,61]}},"type":"Var","value":{"identifier":"acc","sourcePos":[571,12]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[581,80],"start":[581,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[581,80],"start":[581,79]}},"type":"Var","value":{"identifier":"v1","sourcePos":[577,19]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[582,22],"start":[582,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[582,29],"start":[582,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[571,12]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[584,39],"start":[570,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[584,39],"start":[584,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"annotation":{"meta":null,"sourceSpan":{"end":[584,19],"start":[584,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["totalWeight",{"annotation":{"meta":null,"sourceSpan":{"end":[584,37],"start":[584,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[585,20],"start":[570,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[585,20],"start":[585,9]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[560,7]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[588,19],"start":[587,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[588,19],"start":[587,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[587,71],"start":[587,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,50],"start":[587,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,46],"start":[587,40]}},"type":"Var","value":{"identifier":"result","sourcePos":[570,7]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[587,71],"start":[587,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,71],"start":[587,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,59],"start":[587,53]}},"type":"Var","value":{"identifier":"result","sourcePos":[570,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[588,19],"start":[587,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[588,19],"start":[588,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[588,16],"start":[588,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[556,3]}},"fieldName":"y0","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[587,34],"start":[587,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,28],"start":[587,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[587,16],"start":[587,10]}},"type":"Var","value":{"identifier":"result","sourcePos":[570,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[587,34],"start":[587,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[587,34],"start":[587,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateWeightedFromTargets"},{"annotation":{"meta":null,"sourceSpan":{"end":[593,105],"start":[593,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[593,105],"start":[593,3]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[593,105],"start":[593,3]}},"argument":"allNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[593,105],"start":[593,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[593,105],"start":[593,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[625,19],"start":[595,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[597,74],"start":[597,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[597,29],"start":[597,23]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[597,65],"start":[597,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,64],"start":[597,31]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[597,64],"start":[597,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,50],"start":[597,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[597,38],"start":[597,37]}},"type":"Var","value":{"identifier":"l","sourcePos":[597,32]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[597,64],"start":[597,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,64],"start":[597,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[597,58],"start":[597,54]}},"type":"Var","value":{"identifier":"node","sourcePos":[594,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[597,74],"start":[597,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[597,74],"start":[597,66]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[594,3]}},"type":"App"},"identifier":"incomingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[604,22],"start":[598,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[598,33],"start":[598,21]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[603,10],"start":[598,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,46],"start":[599,11]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[602,46],"start":[599,11]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[602,46],"start":[600,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[600,70],"start":[600,66]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[600,103],"start":[600,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,102],"start":[600,72]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[600,102],"start":[600,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,85],"start":[600,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[600,79],"start":[600,78]}},"type":"Var","value":{"identifier":"n","sourcePos":[600,73]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[600,102],"start":[600,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,102],"start":[600,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[600,90],"start":[600,89]}},"type":"Var","value":{"identifier":"b","sourcePos":[599,14]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[600,112],"start":[600,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,112],"start":[600,104]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[594,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[600,22],"start":[600,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[600,55],"start":[600,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,54],"start":[600,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[600,54],"start":[600,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,37],"start":[600,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[600,31],"start":[600,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[600,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[600,54],"start":[600,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,54],"start":[600,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[600,42],"start":[600,41]}},"type":"Var","value":{"identifier":"a","sourcePos":[599,12]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[600,64],"start":[600,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[600,64],"start":[600,56]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[594,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[602,46],"start":[600,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[601,22],"start":[601,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[601,22],"start":[601,20]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[601,31],"start":[601,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[601,31],"start":[601,29]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[601,81],"start":[601,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[601,48],"start":[601,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[601,48],"start":[601,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[601,45],"start":[601,43]}},"type":"Var","value":{"identifier":"na","sourcePos":[601,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[601,54],"start":[601,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[601,54],"start":[601,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[601,51],"start":[601,49]}},"type":"Var","value":{"identifier":"nb","sourcePos":[601,29]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[601,81],"start":[601,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[601,73],"start":[601,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[601,73],"start":[601,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[601,67],"start":[601,66]}},"type":"Var","value":{"identifier":"a","sourcePos":[599,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[601,81],"start":[601,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[601,81],"start":[601,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[601,75],"start":[601,74]}},"type":"Var","value":{"identifier":"b","sourcePos":[599,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[602,16],"start":[602,15]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[602,19],"start":[602,18]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[602,38],"start":[602,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,38],"start":[602,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[602,32],"start":[602,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[599,12]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[602,46],"start":[602,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[602,46],"start":[602,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[602,40],"start":[602,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[599,14]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[604,22],"start":[598,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[604,22],"start":[604,9]}},"type":"Var","value":{"identifier":"incomingLinks","sourcePos":[597,7]}},"type":"App"},"identifier":"sortedLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[622,20],"start":[608,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[608,21],"start":[608,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[620,10],"start":[608,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[619,29],"start":[609,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[619,29],"start":[609,11]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[619,29],"start":[610,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[610,22],"start":[610,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[610,58],"start":[610,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[610,57],"start":[610,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[610,57],"start":[610,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[610,37],"start":[610,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[610,31],"start":[610,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[610,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[610,57],"start":[610,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[610,57],"start":[610,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[610,45],"start":[610,41]}},"type":"Var","value":{"identifier":"link","sourcePos":[609,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[610,67],"start":[610,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[610,67],"start":[610,59]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[594,3]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[619,29],"start":[610,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[611,30],"start":[611,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[611,30],"start":[611,20]}},"binderType":"VarBinder","identifier":"sourceNode"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,82],"start":[612,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[613,71],"start":[613,19]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[613,39],"start":[613,31]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[613,71],"start":[613,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[613,70],"start":[613,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[613,51],"start":[613,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[613,45],"start":[613,41]}},"type":"Var","value":{"identifier":"node","sourcePos":[594,3]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[613,70],"start":[613,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[613,70],"start":[613,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[613,64],"start":[613,54]}},"type":"Var","value":{"identifier":"sourceNode","sourcePos":[611,20]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"layerDist"},{"annotation":{"meta":null,"sourceSpan":{"end":[614,53],"start":[614,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[614,53],"start":[614,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,33],"start":[614,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[614,27],"start":[614,23]}},"type":"Var","value":{"identifier":"link","sourcePos":[609,16]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[614,53],"start":[614,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[614,43],"start":[614,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,43],"start":[614,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[614,53],"start":[614,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[614,53],"start":[614,44]}},"type":"Var","value":{"identifier":"layerDist","sourcePos":[613,19]}},"type":"App"},"type":"App"},"identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[616,91],"start":[616,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[616,37],"start":[616,28]}},"type":"Var","value":{"identifier":"sourceTop","sourcePos":[681,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[616,48],"start":[616,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,48],"start":[616,38]}},"type":"Var","value":{"identifier":"sourceNode","sourcePos":[611,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[616,53],"start":[616,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,53],"start":[616,49]}},"type":"Var","value":{"identifier":"node","sourcePos":[594,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[616,65],"start":[616,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,65],"start":[616,54]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[598,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[616,74],"start":[616,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,74],"start":[616,66]}},"type":"Var","value":{"identifier":"allNodes","sourcePos":[594,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[616,83],"start":[616,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,83],"start":[616,75]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[594,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[616,91],"start":[616,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[616,91],"start":[616,84]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[594,3]}},"type":"App"},"identifier":"idealY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,82],"start":[618,19]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,46],"start":[618,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,33],"start":[618,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,29],"start":[618,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[609,12]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,46],"start":[618,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,46],"start":[618,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,42],"start":[618,36]}},"type":"Var","value":{"identifier":"idealY","sourcePos":[616,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,46],"start":[618,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,46],"start":[618,45]}},"type":"Var","value":{"identifier":"v1","sourcePos":[614,19]}},"type":"App"},"type":"App"}],["totalWeight",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[618,80],"start":[618,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,76],"start":[618,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[618,64],"start":[618,61]}},"type":"Var","value":{"identifier":"acc","sourcePos":[609,12]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[618,80],"start":[618,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[618,80],"start":[618,79]}},"type":"Var","value":{"identifier":"v1","sourcePos":[614,19]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[619,22],"start":[619,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[619,29],"start":[619,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[609,12]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[621,39],"start":[608,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[621,39],"start":[621,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sum",{"annotation":{"meta":null,"sourceSpan":{"end":[621,19],"start":[621,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["totalWeight",{"annotation":{"meta":null,"sourceSpan":{"end":[621,37],"start":[621,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[622,20],"start":[608,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[622,20],"start":[622,9]}},"type":"Var","value":{"identifier":"sortedLinks","sourcePos":[598,7]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[625,19],"start":[624,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[625,19],"start":[624,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[624,71],"start":[624,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[624,50],"start":[624,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[624,46],"start":[624,40]}},"type":"Var","value":{"identifier":"result","sourcePos":[608,7]}},"fieldName":"sum","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[624,71],"start":[624,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[624,71],"start":[624,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[624,59],"start":[624,53]}},"type":"Var","value":{"identifier":"result","sourcePos":[608,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[625,19],"start":[624,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[625,19],"start":[625,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[625,16],"start":[625,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[594,3]}},"fieldName":"y0","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[624,34],"start":[624,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[624,28],"start":[624,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[624,16],"start":[624,10]}},"type":"Var","value":{"identifier":"result","sourcePos":[608,7]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[624,34],"start":[624,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[624,34],"start":[624,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateWeightedFromSources"},{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"argument":"layerIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"argument":"ascending","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"argument":"alpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[504,121],"start":[504,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[550,43],"start":[506,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[508,67],"start":[508,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[508,26],"start":[508,20]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[508,54],"start":[508,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[508,53],"start":[508,28]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[508,53],"start":[508,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[508,41],"start":[508,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[508,35],"start":[508,34]}},"type":"Var","value":{"identifier":"n","sourcePos":[508,29]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[508,53],"start":[508,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[508,53],"start":[508,45]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[505,3]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[508,67],"start":[508,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[508,67],"start":[508,55]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[505,3]}},"type":"App"},"identifier":"layerNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[509,77],"start":[509,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[509,38],"start":[509,26]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[509,66],"start":[509,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[509,65],"start":[509,40]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[509,65],"start":[509,40]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[509,60],"start":[509,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[509,60],"start":[509,56]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[509,57],"start":[509,56]}},"type":"Var","value":{"identifier":"a","sourcePos":[509,41]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[509,65],"start":[509,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[509,65],"start":[509,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[509,62],"start":[509,61]}},"type":"Var","value":{"identifier":"b","sourcePos":[509,43]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[509,77],"start":[509,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[509,77],"start":[509,67]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[508,7]}},"type":"App"},"identifier":"sortedLayerNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[510,54],"start":[510,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[510,37],"start":[510,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[510,37],"start":[510,30]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[510,37],"start":[510,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"fieldName":"index","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[510,54],"start":[510,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[510,54],"start":[510,38]}},"type":"Var","value":{"identifier":"sortedLayerNodes","sourcePos":[509,7]}},"type":"App"},"identifier":"layerNodeIndices"},{"annotation":{"meta":null,"sourceSpan":{"end":[535,25],"start":[513,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[513,30],"start":[513,25]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[533,10],"start":[513,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,82],"start":[514,11]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[532,82],"start":[514,11]}},"argument":"nodeIdx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[532,82],"start":[515,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[515,22],"start":[515,18]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[515,49],"start":[515,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[515,48],"start":[515,24]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[515,48],"start":[515,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[515,37],"start":[515,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[515,31],"start":[515,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[515,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[515,48],"start":[515,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[515,48],"start":[515,41]}},"type":"Var","value":{"identifier":"nodeIdx","sourcePos":[514,18]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[515,55],"start":[515,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[515,55],"start":[515,50]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[514,12]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[532,82],"start":[515,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[516,22],"start":[516,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[516,31],"start":[516,26]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[514,12]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[517,24],"start":[517,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[517,24],"start":[517,20]}},"binderType":"VarBinder","identifier":"node"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[532,82],"start":[518,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[524,82],"start":[522,19]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[524,82],"start":[523,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[524,82],"start":[523,21]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[523,67],"start":[523,39]}},"type":"Var","value":{"identifier":"calculateWeightedFromSources","sourcePos":[593,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[523,72],"start":[523,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[523,72],"start":[523,68]}},"type":"Var","value":{"identifier":"node","sourcePos":[517,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[523,78],"start":[523,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[523,78],"start":[523,73]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[514,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[523,87],"start":[523,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[523,87],"start":[523,79]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[505,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[523,95],"start":[523,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[523,95],"start":[523,88]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[505,3]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[524,82],"start":[523,21]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[524,54],"start":[524,26]}},"type":"Var","value":{"identifier":"calculateWeightedFromTargets","sourcePos":[555,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[524,59],"start":[524,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,59],"start":[524,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[517,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,65],"start":[524,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,65],"start":[524,60]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[514,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,74],"start":[524,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,74],"start":[524,66]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[505,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[524,82],"start":[524,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[524,82],"start":[524,75]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[505,3]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[523,33],"start":[523,24]}},"type":"Var","value":{"identifier":"ascending","sourcePos":[505,3]}}],"type":"Case"},"identifier":"weightedY"},{"annotation":{"meta":null,"sourceSpan":{"end":[526,53],"start":[526,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[526,53],"start":[526,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[526,44],"start":[526,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,34],"start":[526,25]}},"type":"Var","value":{"identifier":"weightedY","sourcePos":[522,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[526,44],"start":[526,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,44],"start":[526,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[526,41],"start":[526,37]}},"type":"Var","value":{"identifier":"node","sourcePos":[517,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[526,53],"start":[526,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[526,53],"start":[526,48]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[505,3]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[527,39],"start":[527,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[527,39],"start":[527,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[527,34],"start":[527,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[527,31],"start":[527,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[517,20]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[527,39],"start":[527,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[527,39],"start":[527,37]}},"type":"Var","value":{"identifier":"dy","sourcePos":[526,19]}},"type":"App"},"identifier":"newY0"},{"annotation":{"meta":null,"sourceSpan":{"end":[528,39],"start":[528,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[528,39],"start":[528,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,34],"start":[528,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[528,31],"start":[528,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[517,20]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[528,39],"start":[528,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[528,39],"start":[528,37]}},"type":"Var","value":{"identifier":"dy","sourcePos":[526,19]}},"type":"App"},"identifier":"newY1"},{"annotation":{"meta":null,"sourceSpan":{"end":[529,64],"start":[529,19]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[529,64],"start":[529,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[839,15],"start":[454,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[529,37],"start":[529,33]}},"type":"Var","value":{"identifier":"node","sourcePos":[517,20]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[529,64],"start":[529,33]}},"copy":["color","depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[454,1]}},"type":"ObjectUpdate","updates":[["y0",{"annotation":{"meta":null,"sourceSpan":{"end":[529,50],"start":[529,45]}},"type":"Var","value":{"identifier":"newY0","sourcePos":[527,19]}}],["y1",{"annotation":{"meta":null,"sourceSpan":{"end":[529,62],"start":[529,57]}},"type":"Var","value":{"identifier":"newY1","sourcePos":[528,19]}}]]},"type":"Let"},"identifier":"updatedNode"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[532,76],"start":[532,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,75],"start":[532,24]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[532,75],"start":[532,30]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[532,75],"start":[532,30]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[532,68],"start":[532,57]}},"type":"Var","value":{"identifier":"updatedNode","sourcePos":[529,19]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[532,75],"start":[532,30]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[532,75],"start":[532,74]}},"type":"Var","value":{"identifier":"n","sourcePos":[532,25]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[532,51],"start":[532,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,40],"start":[532,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[532,34],"start":[532,33]}},"type":"Var","value":{"identifier":"n","sourcePos":[532,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[532,51],"start":[532,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,51],"start":[532,44]}},"type":"Var","value":{"identifier":"nodeIdx","sourcePos":[514,18]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[532,82],"start":[532,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[532,82],"start":[532,77]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[514,12]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[453,117],"start":[453,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[534,21],"start":[513,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[534,21],"start":[534,9]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[505,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[535,25],"start":[513,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[535,25],"start":[535,9]}},"type":"Var","value":{"identifier":"layerNodeIndices","sourcePos":[510,7]}},"type":"App"},"identifier":"nodesAfterRelax"},{"annotation":{"meta":null,"sourceSpan":{"end":[538,77],"start":[538,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[538,33],"start":[538,27]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[538,61],"start":[538,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[538,60],"start":[538,35]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[538,60],"start":[538,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[538,48],"start":[538,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[538,42],"start":[538,41]}},"type":"Var","value":{"identifier":"n","sourcePos":[538,36]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[538,60],"start":[538,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[538,60],"start":[538,52]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[505,3]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[538,77],"start":[538,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[538,77],"start":[538,62]}},"type":"Var","value":{"identifier":"nodesAfterRelax","sourcePos":[513,7]}},"type":"App"},"identifier":"layerNodesUpdated"},{"annotation":{"meta":null,"sourceSpan":{"end":[541,74],"start":[541,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[541,28],"start":[541,16]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[541,56],"start":[541,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,55],"start":[541,30]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[541,55],"start":[541,30]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[541,50],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,50],"start":[541,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[541,47],"start":[541,46]}},"type":"Var","value":{"identifier":"a","sourcePos":[541,31]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[541,55],"start":[541,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,55],"start":[541,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[541,52],"start":[541,51]}},"type":"Var","value":{"identifier":"b","sourcePos":[541,33]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[541,74],"start":[541,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[541,74],"start":[541,57]}},"type":"Var","value":{"identifier":"layerNodesUpdated","sourcePos":[538,7]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[544,74],"start":[544,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[544,67],"start":[544,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[544,66],"start":[544,31]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[544,66],"start":[544,40]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["node",{"annotation":{"meta":null,"sourceSpan":{"end":[544,46],"start":[544,42]}},"type":"Var","value":{"identifier":"node","sourcePos":[544,32]}}],["targetY",{"annotation":{"meta":null,"sourceSpan":{"end":[544,64],"start":[544,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[544,61],"start":[544,57]}},"type":"Var","value":{"identifier":"node","sourcePos":[544,32]}},"fieldName":"y0","type":"Accessor"}]]}},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[544,74],"start":[544,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[544,74],"start":[544,68]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[541,7]}},"type":"App"},"identifier":"sortedWithTarget"},{"annotation":{"meta":null,"sourceSpan":{"end":[547,71],"start":[547,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[547,35],"start":[547,18]}},"type":"Var","value":{"identifier":"resolveCollisions","sourcePos":[733,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[547,52],"start":[547,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[547,52],"start":[547,36]}},"type":"Var","value":{"identifier":"sortedWithTarget","sourcePos":[544,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[547,60],"start":[547,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[547,60],"start":[547,53]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[505,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[547,63],"start":[547,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[547,63],"start":[547,61]}},"type":"Var","value":{"identifier":"y0","sourcePos":[454,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[547,66],"start":[547,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[547,66],"start":[547,64]}},"type":"Var","value":{"identifier":"y1","sourcePos":[454,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[547,71],"start":[547,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[547,71],"start":[547,67]}},"type":"Var","value":{"identifier":"beta","sourcePos":[505,3]}},"type":"App"},"identifier":"resolved"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[550,18],"start":[550,7]}},"type":"Var","value":{"identifier":"updateNodes","sourcePos":[831,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[550,34],"start":[550,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[550,34],"start":[550,19]}},"type":"Var","value":{"identifier":"nodesAfterRelax","sourcePos":[513,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[550,43],"start":[550,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[550,43],"start":[550,35]}},"type":"Var","value":{"identifier":"resolved","sourcePos":[547,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"relaxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[482,116],"start":[482,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[482,116],"start":[482,3]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[482,116],"start":[482,3]}},"argument":"allLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[482,116],"start":[482,3]}},"argument":"padding1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[482,116],"start":[482,3]}},"argument":"ascending","body":{"annotation":{"meta":null,"sourceSpan":{"end":[482,116],"start":[482,3]}},"argument":"alpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[482,116],"start":[482,3]}},"argument":"beta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[499,14],"start":[484,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[485,72],"start":[485,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[485,23],"start":[485,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[485,57],"start":[485,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[485,56],"start":[485,25]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[485,56],"start":[485,25]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[485,45],"start":[485,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[485,45],"start":[485,42]}},"type":"Var","value":{"identifier":"acc","sourcePos":[485,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[485,56],"start":[485,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[485,56],"start":[485,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[485,50],"start":[485,46]}},"type":"Var","value":{"identifier":"node","sourcePos":[485,30]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[485,59],"start":[485,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[485,59],"start":[485,58]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[485,72],"start":[485,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[485,72],"start":[485,60]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[483,3]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[489,58],"start":[487,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[489,58],"start":[488,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[489,58],"start":[488,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[488,38],"start":[488,27]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[488,40],"start":[488,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[488,40],"start":[488,39]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[488,49],"start":[488,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[488,49],"start":[488,41]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[485,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[489,58],"start":[488,9]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[489,27],"start":[489,14]}},"type":"Var","value":{"identifier":"reverse","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[489,58],"start":[489,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[489,40],"start":[489,29]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[489,42],"start":[489,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[489,42],"start":[489,41]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[489,57],"start":[489,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[489,56],"start":[489,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[489,52],"start":[489,44]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[485,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[489,56],"start":[489,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[489,56],"start":[489,55]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[488,21],"start":[488,12]}},"type":"Var","value":{"identifier":"ascending","sourcePos":[483,3]}}],"type":"Case"},"identifier":"layerIndices"},{"annotation":{"meta":null,"sourceSpan":{"end":[497,21],"start":[492,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[492,22],"start":[492,17]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[495,10],"start":[492,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,76],"start":[493,11]}},"argument":"nodes1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[494,76],"start":[493,11]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[494,23],"start":[494,13]}},"type":"Var","value":{"identifier":"relaxLayer","sourcePos":[504,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[494,29],"start":[494,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,29],"start":[494,24]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[493,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[494,38],"start":[494,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,38],"start":[494,30]}},"type":"Var","value":{"identifier":"allLinks","sourcePos":[483,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[494,47],"start":[494,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,47],"start":[494,39]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[493,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[494,55],"start":[494,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,55],"start":[494,48]}},"type":"Var","value":{"identifier":"padding1","sourcePos":[483,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[494,65],"start":[494,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,65],"start":[494,56]}},"type":"Var","value":{"identifier":"ascending","sourcePos":[483,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[494,71],"start":[494,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,71],"start":[494,66]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[483,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[494,76],"start":[494,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[494,76],"start":[494,72]}},"type":"Var","value":{"identifier":"beta","sourcePos":[483,3]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[496,21],"start":[492,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[496,21],"start":[496,9]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[483,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[497,21],"start":[492,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[497,21],"start":[497,9]}},"type":"Var","value":{"identifier":"layerIndices","sourcePos":[487,7]}},"type":"App"},"identifier":"relaxed"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[499,14],"start":[499,7]}},"type":"Var","value":{"identifier":"relaxed","sourcePos":[492,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"relaxByLayer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[478,41],"start":[455,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[456,35],"start":[456,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[456,35],"start":[456,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[456,24],"start":[456,18]}},"type":"Var","value":{"identifier":"config","sourcePos":[454,1]}},"fieldName":"iterations","type":"Accessor"},"identifier":"iterations"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[478,41],"start":[459,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[478,41],"start":[459,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[459,34],"start":[459,29]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[454,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[478,41],"start":[459,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[463,12],"start":[463,7]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[476,10],"start":[463,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[475,18],"start":[464,11]}},"argument":"currentNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[475,18],"start":[464,11]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[475,18],"start":[465,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[467,44],"start":[467,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[467,26],"start":[467,23]}},"type":"Var","value":{"identifier":"pow","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[467,31],"start":[467,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[467,31],"start":[467,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.99}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[467,44],"start":[467,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[467,41],"start":[467,33]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[467,43],"start":[467,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[467,43],"start":[467,42]}},"type":"Var","value":{"identifier":"i","sourcePos":[464,25]}},"type":"App"},"type":"App"},"identifier":"alpha"},{"annotation":{"meta":null,"sourceSpan":{"end":[469,80],"start":[469,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,39],"start":[469,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,38],"start":[469,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[469,30],"start":[469,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[469,38],"start":[469,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[469,38],"start":[469,33]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[467,15]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[469,80],"start":[469,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,79],"start":[469,41]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[469,49],"start":[469,41]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,57],"start":[469,41]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,56],"start":[469,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[469,52],"start":[469,51]}},"type":"Var","value":{"identifier":"i","sourcePos":[464,25]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[469,56],"start":[469,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[469,56],"start":[469,55]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[469,79],"start":[469,41]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[469,68],"start":[469,60]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[469,79],"start":[469,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[469,79],"start":[469,69]}},"type":"Var","value":{"identifier":"iterations","sourcePos":[456,5]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"beta"},{"annotation":{"meta":null,"sourceSpan":{"end":[471,77],"start":[471,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[471,33],"start":[471,21]}},"type":"Var","value":{"identifier":"relaxByLayer","sourcePos":[482,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[471,46],"start":[471,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,46],"start":[471,34]}},"type":"Var","value":{"identifier":"currentNodes","sourcePos":[464,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[471,52],"start":[471,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,52],"start":[471,47]}},"type":"Var","value":{"identifier":"links","sourcePos":[454,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[471,60],"start":[471,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,60],"start":[471,53]}},"type":"Var","value":{"identifier":"padding","sourcePos":[454,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[471,66],"start":[471,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,66],"start":[471,61]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[471,72],"start":[471,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,72],"start":[471,67]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[467,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[471,77],"start":[471,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[471,77],"start":[471,73]}},"type":"Var","value":{"identifier":"beta","sourcePos":[469,15]}},"type":"App"},"identifier":"rtl"},{"annotation":{"meta":null,"sourceSpan":{"end":[473,67],"start":[473,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[473,33],"start":[473,21]}},"type":"Var","value":{"identifier":"relaxByLayer","sourcePos":[482,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[473,37],"start":[473,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,37],"start":[473,34]}},"type":"Var","value":{"identifier":"rtl","sourcePos":[471,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[473,43],"start":[473,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,43],"start":[473,38]}},"type":"Var","value":{"identifier":"links","sourcePos":[454,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[473,51],"start":[473,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,51],"start":[473,44]}},"type":"Var","value":{"identifier":"padding","sourcePos":[454,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[473,56],"start":[473,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,56],"start":[473,52]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[473,62],"start":[473,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,62],"start":[473,57]}},"type":"Var","value":{"identifier":"alpha","sourcePos":[467,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[473,67],"start":[473,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[473,67],"start":[473,63]}},"type":"Var","value":{"identifier":"beta","sourcePos":[469,15]}},"type":"App"},"identifier":"ltr"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[475,18],"start":[475,15]}},"type":"Var","value":{"identifier":"ltr","sourcePos":[473,15]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[477,14],"start":[463,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[477,14],"start":[477,9]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[454,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[478,41],"start":[463,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[478,21],"start":[478,10]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[478,23],"start":[478,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[478,23],"start":[478,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[478,40],"start":[478,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[478,39],"start":[478,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[478,35],"start":[478,25]}},"type":"Var","value":{"identifier":"iterations","sourcePos":[456,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[478,39],"start":[478,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[478,39],"start":[478,38]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[459,23],"start":[459,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[459,18],"start":[459,8]}},"type":"Var","value":{"identifier":"iterations","sourcePos":[456,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[459,23],"start":[459,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[459,23],"start":[459,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"relaxation"},{"annotation":{"meta":null,"sourceSpan":{"end":[159,49],"start":[159,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[163,43],"start":[160,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[165,63],"start":[165,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[165,63],"start":[165,3]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[165,63],"start":[165,3]}},"argument":"n","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[166,60],"start":[166,26]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,52],"start":[170,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,21],"start":[170,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,53],"start":[170,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,52],"start":[170,23]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[170,52],"start":[170,23]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,52],"start":[170,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,39],"start":[170,36]}},"type":"Var","value":{"identifier":"sum","sourcePos":[170,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,52],"start":[170,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,52],"start":[170,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[170,46],"start":[170,42]}},"type":"Var","value":{"identifier":"link","sourcePos":[170,28]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,57],"start":[170,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,57],"start":[170,54]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,52],"start":[170,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,13],"start":[171,7]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,46],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,15]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,34],"start":[171,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[171,22],"start":[171,21]}},"type":"Var","value":{"identifier":"l","sourcePos":[171,16]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[171,39],"start":[171,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[166,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,52],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,52],"start":[171,47]}},"type":"Var","value":{"identifier":"links","sourcePos":[166,3]}},"type":"App"},"type":"App"},"identifier":"totalOut"},{"annotation":{"meta":null,"sourceSpan":{"end":[169,52],"start":[168,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[168,20],"start":[168,15]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,52],"start":[168,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,22]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,22]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,38],"start":[168,35]}},"type":"Var","value":{"identifier":"sum","sourcePos":[168,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,45],"start":[168,41]}},"type":"Var","value":{"identifier":"link","sourcePos":[168,27]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,56],"start":[168,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,56],"start":[168,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,52],"start":[168,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,13],"start":[169,7]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,46],"start":[169,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,45],"start":[169,15]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,45],"start":[169,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,34],"start":[169,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,22],"start":[169,21]}},"type":"Var","value":{"identifier":"l","sourcePos":[169,16]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,45],"start":[169,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,45],"start":[169,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,39],"start":[169,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[166,3]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,52],"start":[169,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,52],"start":[169,47]}},"type":"Var","value":{"identifier":"links","sourcePos":[166,3]}},"type":"App"},"type":"App"},"identifier":"totalIn"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,60],"start":[166,26]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,52],"start":[160,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,27],"start":[166,26]}},"type":"Var","value":{"identifier":"n","sourcePos":[166,3]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,60],"start":[166,26]}},"copy":["name","x0","y0","x1","y1","depth","nodeHeight","layer","index","color","sourceLinks","targetLinks"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[160,1]}},"type":"ObjectUpdate","updates":[["value",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[166,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[166,42]}},"type":"Var","value":{"identifier":"totalIn","sourcePos":[168,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,58],"start":[166,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,58],"start":[166,50]}},"type":"Var","value":{"identifier":"totalOut","sourcePos":[170,5]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"setNodeValue"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,15],"start":[161,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,15],"start":[161,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,15],"start":[161,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,76],"start":[162,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,76],"start":[162,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,76],"start":[162,22]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[162,35],"start":[162,23]}},"type":"Var","value":{"identifier":"setNodeValue","sourcePos":[165,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[162,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[162,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,41],"start":[162,36]}},"type":"Var","value":{"identifier":"model","sourcePos":[161,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,76],"start":[162,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,76],"start":[162,59]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,64],"start":[162,59]}},"type":"Var","value":{"identifier":"model","sourcePos":[161,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"updatedNodes"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,43],"start":[163,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,43],"start":[163,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,43],"start":[163,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,29]}},"type":"Var","value":{"identifier":"updatedNodes","sourcePos":[162,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeNodeValues"},{"annotation":{"meta":null,"sourceSpan":{"end":[222,50],"start":[222,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[230,37],"start":[223,22]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[232,84],"start":[232,3]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[232,84],"start":[232,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[232,84],"start":[232,3]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[232,84],"start":[232,3]}},"argument":"current","body":{"annotation":{"meta":null,"sourceSpan":{"end":[232,84],"start":[232,3]}},"argument":"maxHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[232,84],"start":[232,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[233,18],"start":[233,13]}},"binderType":"VarBinder","identifier":"nodes1"},{"annotation":{"meta":null,"sourceSpan":{"end":[233,25],"start":[233,19]}},"binderType":"VarBinder","identifier":"height1"},{"annotation":{"meta":null,"sourceSpan":{"end":[233,33],"start":[233,26]}},"binderType":"VarBinder","identifier":"current1"},{"annotation":{"meta":null,"sourceSpan":{"end":[233,43],"start":[233,34]}},"binderType":"VarBinder","identifier":"maxHeight1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[234,34],"start":[234,29]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[233,13]}},"guard":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[234,18],"start":[234,7]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,26],"start":[234,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,26],"start":[234,19]}},"type":"Var","value":{"identifier":"current1","sourcePos":[233,26]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[235,33],"start":[235,28]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[233,13]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[235,25],"start":[235,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[235,13],"start":[235,7]}},"type":"Var","value":{"identifier":"height1","sourcePos":[233,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[235,25],"start":[235,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[235,25],"start":[235,16]}},"type":"Var","value":{"identifier":"maxHeight1","sourcePos":[233,34]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[237,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[239,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,14],"start":[239,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[242,26],"start":[240,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[242,26],"start":[241,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[242,26],"start":[241,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,83],"start":[241,55]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[223,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,59],"start":[241,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[240,16]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,83],"start":[241,55]}},"copy":["index","color","depth","layer","name","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[223,1]}},"type":"ObjectUpdate","updates":[["nodeHeight",{"annotation":{"meta":null,"sourceSpan":{"end":[241,81],"start":[241,75]}},"type":"Var","value":{"identifier":"height1","sourcePos":[233,19]}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[242,26],"start":[241,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[242,26],"start":[242,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[240,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[241,41],"start":[241,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[241,41],"start":[241,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,35],"start":[241,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[240,16]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[241,49],"start":[241,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[241,49],"start":[241,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[233,26]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[239,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[244,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[233,13]}},"type":"App"},"identifier":"nodesWithHeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[253,18],"start":[247,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[247,23],"start":[247,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,14],"start":[247,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,25],"start":[248,15]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[250,25],"start":[248,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[250,25],"start":[249,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[250,25],"start":[249,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"union","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,68],"start":[249,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,68],"start":[249,65]}},"type":"Var","value":{"identifier":"acc","sourcePos":[248,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,85],"start":[249,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,85],"start":[249,69]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[249,73],"start":[249,69]}},"type":"Var","value":{"identifier":"node","sourcePos":[248,20]}},"fieldName":"targetLinks","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[250,25],"start":[249,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[250,25],"start":[250,22]}},"type":"Var","value":{"identifier":"acc","sourcePos":[248,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,41],"start":[249,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,41],"start":[249,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[249,35],"start":[249,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[248,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,49],"start":[249,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,49],"start":[249,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[233,26]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[252,22],"start":[247,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[252,22],"start":[252,13]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Set"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[253,18],"start":[247,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,18],"start":[253,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[233,13]}},"type":"App"},"identifier":"next"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[255,20],"start":[255,11]}},"type":"Var","value":{"identifier":"bfsHeight","sourcePos":[232,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,36],"start":[255,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,36],"start":[255,21]}},"type":"Var","value":{"identifier":"nodesWithHeight","sourcePos":[239,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,49],"start":[255,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,48],"start":[255,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,44],"start":[255,38]}},"type":"Var","value":{"identifier":"height1","sourcePos":[233,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,48],"start":[255,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,48],"start":[255,47]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,54],"start":[255,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,54],"start":[255,50]}},"type":"Var","value":{"identifier":"next","sourcePos":[247,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[255,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[255,55]}},"type":"Var","value":{"identifier":"maxHeight1","sourcePos":[233,34]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[236,16],"start":[236,7]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[233,3]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[233,13]}},{"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[233,3]}},"type":"Var","value":{"identifier":"height","sourcePos":[233,19]}},{"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[233,3]}},"type":"Var","value":{"identifier":"current","sourcePos":[233,26]}},{"annotation":{"meta":null,"sourceSpan":{"end":[255,64],"start":[233,3]}},"type":"Var","value":{"identifier":"maxHeight","sourcePos":[233,34]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bfsHeight"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,15],"start":[224,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,15],"start":[224,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,15],"start":[224,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[225,35],"start":[225,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[225,35],"start":[225,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[225,17],"start":[225,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,35],"start":[225,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,35],"start":[225,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[225,23],"start":[225,18]}},"type":"Var","value":{"identifier":"model","sourcePos":[224,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[227,83],"start":[227,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[227,83],"start":[227,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[227,25],"start":[227,19]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[227,65],"start":[227,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[227,64],"start":[227,27]}},"argument":"node","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[227,47],"start":[227,36]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[227,64],"start":[227,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[227,64],"start":[227,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[227,52],"start":[227,48]}},"type":"Var","value":{"identifier":"node","sourcePos":[227,28]}},"fieldName":"sourceLinks","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[227,83],"start":[227,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[227,83],"start":[227,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[227,71],"start":[227,66]}},"type":"Var","value":{"identifier":"model","sourcePos":[224,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"sinkNodes"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,66],"start":[228,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[228,66],"start":[228,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[228,66],"start":[228,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[228,56],"start":[228,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[228,55],"start":[228,48]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[228,55],"start":[228,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"fieldName":"index","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[228,66],"start":[228,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[228,66],"start":[228,57]}},"type":"Var","value":{"identifier":"sinkNodes","sourcePos":[227,7]}},"type":"App"},"type":"App"},"identifier":"initialCurrent"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,62],"start":[229,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[229,62],"start":[229,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[229,25],"start":[229,16]}},"type":"Var","value":{"identifier":"bfsHeight","sourcePos":[232,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,43],"start":[229,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,43],"start":[229,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,31],"start":[229,26]}},"type":"Var","value":{"identifier":"model","sourcePos":[224,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,45],"start":[229,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,45],"start":[229,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,60],"start":[229,46]}},"type":"Var","value":{"identifier":"initialCurrent","sourcePos":[228,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,62],"start":[229,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,62],"start":[229,61]}},"type":"Var","value":{"identifier":"n","sourcePos":[225,7]}},"type":"App"},"identifier":"result"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,37],"start":[230,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,37],"start":[230,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,37],"start":[230,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[230,35],"start":[230,29]}},"type":"Var","value":{"identifier":"result","sourcePos":[229,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeNodeHeights"},{"annotation":{"meta":null,"sourceSpan":{"end":[180,49],"start":[180,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[188,37],"start":[181,21]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[190,83],"start":[190,3]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,83],"start":[190,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[190,83],"start":[190,3]}},"argument":"depth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[190,83],"start":[190,3]}},"argument":"current","body":{"annotation":{"meta":null,"sourceSpan":{"end":[190,83],"start":[190,3]}},"argument":"maxDepth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[190,83],"start":[190,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,17],"start":[191,12]}},"binderType":"VarBinder","identifier":"nodes1"},{"annotation":{"meta":null,"sourceSpan":{"end":[191,23],"start":[191,18]}},"binderType":"VarBinder","identifier":"depth1"},{"annotation":{"meta":null,"sourceSpan":{"end":[191,31],"start":[191,24]}},"binderType":"VarBinder","identifier":"current1"},{"annotation":{"meta":null,"sourceSpan":{"end":[191,40],"start":[191,32]}},"binderType":"VarBinder","identifier":"maxDepth1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,34],"start":[192,29]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[191,12]}},"guard":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[192,18],"start":[192,7]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,26],"start":[192,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,26],"start":[192,19]}},"type":"Var","value":{"identifier":"current1","sourcePos":[191,24]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,31],"start":[193,26]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[191,12]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[193,23],"start":[193,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[193,12],"start":[193,7]}},"type":"Var","value":{"identifier":"depth1","sourcePos":[191,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[193,23],"start":[193,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[193,23],"start":[193,15]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[191,32]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[195,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[202,18],"start":[197,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,14],"start":[197,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,26],"start":[198,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[200,26],"start":[199,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[200,26],"start":[199,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,77],"start":[199,55]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[181,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,59],"start":[199,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[198,16]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,77],"start":[199,55]}},"copy":["index","color","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[181,1]}},"type":"ObjectUpdate","updates":[["depth",{"annotation":{"meta":null,"sourceSpan":{"end":[199,75],"start":[199,70]}},"type":"Var","value":{"identifier":"depth1","sourcePos":[191,18]}}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[200,26],"start":[199,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[200,26],"start":[200,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[198,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,41],"start":[199,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,41],"start":[199,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,35],"start":[199,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[198,16]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,49],"start":[199,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,49],"start":[199,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[191,24]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,18],"start":[197,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,18],"start":[202,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[191,12]}},"type":"App"},"identifier":"nodesWithDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[211,18],"start":[205,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[205,23],"start":[205,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,14],"start":[205,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,25],"start":[206,15]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[208,25],"start":[206,15]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[208,25],"start":[207,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[208,25],"start":[207,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"union","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,68],"start":[207,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,68],"start":[207,65]}},"type":"Var","value":{"identifier":"acc","sourcePos":[206,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,85],"start":[207,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,85],"start":[207,69]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,73],"start":[207,69]}},"type":"Var","value":{"identifier":"node","sourcePos":[206,20]}},"fieldName":"sourceLinks","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[208,25],"start":[207,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,25],"start":[208,22]}},"type":"Var","value":{"identifier":"acc","sourcePos":[206,16]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"member","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,41],"start":[207,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,41],"start":[207,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,35],"start":[207,31]}},"type":"Var","value":{"identifier":"node","sourcePos":[206,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,49],"start":[207,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,49],"start":[207,42]}},"type":"Var","value":{"identifier":"current1","sourcePos":[191,24]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[210,22],"start":[205,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[210,22],"start":[210,13]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Set"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,18],"start":[205,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,18],"start":[211,13]}},"type":"Var","value":{"identifier":"nodes1","sourcePos":[191,12]}},"type":"App"},"identifier":"next"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[213,19],"start":[213,11]}},"type":"Var","value":{"identifier":"bfsDepth","sourcePos":[190,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,34],"start":[213,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,34],"start":[213,20]}},"type":"Var","value":{"identifier":"nodesWithDepth","sourcePos":[197,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,46],"start":[213,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,45],"start":[213,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,41],"start":[213,36]}},"type":"Var","value":{"identifier":"depth1","sourcePos":[191,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,45],"start":[213,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,45],"start":[213,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,51],"start":[213,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,51],"start":[213,47]}},"type":"Var","value":{"identifier":"next","sourcePos":[205,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[213,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[213,52]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[191,32]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[194,16],"start":[194,7]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[191,3]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[191,12]}},{"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[191,3]}},"type":"Var","value":{"identifier":"depth","sourcePos":[191,18]}},{"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[191,3]}},"type":"Var","value":{"identifier":"current","sourcePos":[191,24]}},{"annotation":{"meta":null,"sourceSpan":{"end":[213,60],"start":[191,3]}},"type":"Var","value":{"identifier":"maxDepth","sourcePos":[191,32]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bfsDepth"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,15],"start":[182,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,15],"start":[182,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,15],"start":[182,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[183,35],"start":[183,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[183,35],"start":[183,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,17],"start":[183,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,35],"start":[183,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,35],"start":[183,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[183,23],"start":[183,18]}},"type":"Var","value":{"identifier":"model","sourcePos":[182,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,85],"start":[185,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[185,85],"start":[185,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[185,27],"start":[185,21]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[185,67],"start":[185,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,66],"start":[185,29]}},"argument":"node","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[185,49],"start":[185,38]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[185,66],"start":[185,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,66],"start":[185,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,54],"start":[185,50]}},"type":"Var","value":{"identifier":"node","sourcePos":[185,30]}},"fieldName":"targetLinks","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[185,85],"start":[185,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,85],"start":[185,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,73],"start":[185,68]}},"type":"Var","value":{"identifier":"model","sourcePos":[182,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"sourceNodes"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,68],"start":[186,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[186,68],"start":[186,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,68],"start":[186,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,56],"start":[186,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,55],"start":[186,48]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[186,55],"start":[186,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"fieldName":"index","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,68],"start":[186,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,68],"start":[186,57]}},"type":"Var","value":{"identifier":"sourceNodes","sourcePos":[185,7]}},"type":"App"},"type":"App"},"identifier":"initialCurrent"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,61],"start":[187,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[187,61],"start":[187,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[187,24],"start":[187,16]}},"type":"Var","value":{"identifier":"bfsDepth","sourcePos":[190,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,42],"start":[187,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,42],"start":[187,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,30],"start":[187,25]}},"type":"Var","value":{"identifier":"model","sourcePos":[182,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,44],"start":[187,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,44],"start":[187,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,59],"start":[187,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,59],"start":[187,45]}},"type":"Var","value":{"identifier":"initialCurrent","sourcePos":[186,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,61],"start":[187,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,61],"start":[187,60]}},"type":"Var","value":{"identifier":"n","sourcePos":[183,7]}},"type":"App"},"identifier":"result"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,37],"start":[188,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,37],"start":[188,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[188,37],"start":[188,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[188,35],"start":[188,29]}},"type":"Var","value":{"identifier":"result","sourcePos":[187,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeNodeDepths"},{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[859,41],"start":[848,23]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[885,86],"start":[885,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[885,86],"start":[885,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[885,86],"start":[885,3]}},"argument":"links","body":{"annotation":{"meta":null,"sourceSpan":{"end":[970,18],"start":[887,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[927,14],"start":[889,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[889,26],"start":[889,21]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[925,10],"start":[889,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,29],"start":[890,11]}},"argument":"currentLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[924,29],"start":[890,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[924,29],"start":[891,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[893,92],"start":[893,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[893,37],"start":[893,31]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[893,79],"start":[893,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[893,78],"start":[893,39]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[893,78],"start":[893,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[893,64],"start":[893,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[893,52],"start":[893,48]}},"type":"Var","value":{"identifier":"link","sourcePos":[893,40]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[893,78],"start":[893,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[893,78],"start":[893,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[893,72],"start":[893,68]}},"type":"Var","value":{"identifier":"node","sourcePos":[890,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[893,92],"start":[893,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[893,92],"start":[893,80]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[890,12]}},"type":"App"},"identifier":"outgoingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[902,30],"start":[896,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[896,36],"start":[896,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[901,18],"start":[896,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[900,54],"start":[897,19]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[900,54],"start":[897,19]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[900,54],"start":[898,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[898,75],"start":[898,71]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[898,108],"start":[898,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,107],"start":[898,77]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[898,107],"start":[898,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,90],"start":[898,83]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[898,84],"start":[898,83]}},"type":"Var","value":{"identifier":"n","sourcePos":[898,78]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[898,107],"start":[898,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,107],"start":[898,94]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[898,95],"start":[898,94]}},"type":"Var","value":{"identifier":"b","sourcePos":[897,22]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[898,114],"start":[898,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,114],"start":[898,109]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[886,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[898,30],"start":[898,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[898,63],"start":[898,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,62],"start":[898,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[898,62],"start":[898,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,45],"start":[898,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[898,39],"start":[898,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[898,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[898,62],"start":[898,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,62],"start":[898,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[898,50],"start":[898,49]}},"type":"Var","value":{"identifier":"a","sourcePos":[897,20]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[898,69],"start":[898,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[898,69],"start":[898,64]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[886,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[900,54],"start":[898,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[899,30],"start":[899,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[899,30],"start":[899,28]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[899,39],"start":[899,32]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[899,39],"start":[899,37]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[899,89],"start":[899,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[899,56],"start":[899,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[899,56],"start":[899,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[899,53],"start":[899,51]}},"type":"Var","value":{"identifier":"na","sourcePos":[899,28]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[899,62],"start":[899,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[899,62],"start":[899,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[899,59],"start":[899,57]}},"type":"Var","value":{"identifier":"nb","sourcePos":[899,37]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[899,89],"start":[899,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[899,81],"start":[899,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[899,81],"start":[899,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[899,75],"start":[899,74]}},"type":"Var","value":{"identifier":"a","sourcePos":[897,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[899,89],"start":[899,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[899,89],"start":[899,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[899,83],"start":[899,82]}},"type":"Var","value":{"identifier":"b","sourcePos":[897,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[900,24],"start":[900,23]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[900,27],"start":[900,26]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[900,46],"start":[900,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[900,46],"start":[900,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[900,40],"start":[900,39]}},"type":"Var","value":{"identifier":"a","sourcePos":[897,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[900,54],"start":[900,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[900,54],"start":[900,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[900,48],"start":[900,47]}},"type":"Var","value":{"identifier":"b","sourcePos":[897,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[902,30],"start":[896,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[902,30],"start":[902,17]}},"type":"Var","value":{"identifier":"outgoingLinks","sourcePos":[893,15]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[915,23],"start":[904,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[904,29],"start":[904,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[913,18],"start":[904,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[912,24],"start":[905,19]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[912,24],"start":[905,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[912,24],"start":[906,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[907,51],"start":[907,23]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[907,51],"start":[907,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[907,32],"start":[907,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[907,30],"start":[907,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[905,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[907,51],"start":[907,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[907,51],"start":[907,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[907,45],"start":[907,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[907,39],"start":[907,35]}},"type":"Var","value":{"identifier":"link","sourcePos":[905,24]}},"fieldName":"width","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[907,51],"start":[907,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[907,51],"start":[907,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"y"},{"annotation":{"meta":null,"sourceSpan":{"end":[908,48],"start":[908,23]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,48],"start":[908,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[970,18],"start":[848,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,37],"start":[908,33]}},"type":"Var","value":{"identifier":"link","sourcePos":[905,24]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[908,48],"start":[908,33]}},"copy":["width","index","sourceIndex","targetIndex","color","value","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[848,1]}},"type":"ObjectUpdate","updates":[["y0",{"annotation":{"meta":null,"sourceSpan":{"end":[908,46],"start":[908,45]}},"type":"Var","value":{"identifier":"y","sourcePos":[907,23]}}]]},"type":"Let"},"identifier":"updated"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[912,24],"start":[910,23]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[910,46],"start":[910,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[910,33],"start":[910,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[910,31],"start":[910,28]}},"type":"Var","value":{"identifier":"acc","sourcePos":[905,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[910,46],"start":[910,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[910,46],"start":[910,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[910,40],"start":[910,36]}},"type":"Var","value":{"identifier":"link","sourcePos":[905,24]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["links",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[911,42],"start":[911,32]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[911,52],"start":[911,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[911,52],"start":[911,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[911,46],"start":[911,43]}},"type":"Var","value":{"identifier":"acc","sourcePos":[905,20]}},"fieldName":"links","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[911,60],"start":[911,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[911,60],"start":[911,53]}},"type":"Var","value":{"identifier":"updated","sourcePos":[908,23]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[914,42],"start":[904,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[914,42],"start":[914,17]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[914,29],"start":[914,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[914,26],"start":[914,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[890,25]}},"fieldName":"y0","type":"Accessor"}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[914,40],"start":[914,38]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[915,23],"start":[904,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[915,23],"start":[915,17]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[896,15]}},"type":"App"},"identifier":"withY0"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[923,18],"start":[918,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[922,38],"start":[919,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[922,38],"start":[920,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[920,30],"start":[920,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[920,60],"start":[920,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,59],"start":[920,32]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[920,59],"start":[920,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,45],"start":[920,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[920,39],"start":[920,38]}},"type":"Var","value":{"identifier":"l","sourcePos":[920,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[920,59],"start":[920,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,59],"start":[920,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[920,53],"start":[920,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[919,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[920,73],"start":[920,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[920,73],"start":[920,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[920,67],"start":[920,61]}},"type":"Var","value":{"identifier":"withY0","sourcePos":[904,15]}},"fieldName":"links","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[922,38],"start":[920,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[921,39],"start":[921,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[921,39],"start":[921,28]}},"binderType":"VarBinder","identifier":"updatedLink"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[921,54],"start":[921,43]}},"type":"Var","value":{"identifier":"updatedLink","sourcePos":[921,28]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[922,30],"start":[922,23]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[922,38],"start":[922,34]}},"type":"Var","value":{"identifier":"link","sourcePos":[919,20]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[924,29],"start":[918,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[924,29],"start":[924,17]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[890,12]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[926,14],"start":[889,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[926,14],"start":[926,9]}},"type":"Var","value":{"identifier":"links","sourcePos":[886,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[927,14],"start":[889,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[927,14],"start":[927,9]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[886,3]}},"type":"App"},"identifier":"linksWithY0"},{"annotation":{"meta":null,"sourceSpan":{"end":[968,14],"start":[930,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[930,26],"start":[930,21]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[966,10],"start":[930,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[965,29],"start":[931,11]}},"argument":"currentLinks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[965,29],"start":[931,11]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[965,29],"start":[932,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[934,92],"start":[934,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[934,37],"start":[934,31]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[934,79],"start":[934,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,78],"start":[934,39]}},"argument":"link","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[934,78],"start":[934,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,64],"start":[934,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[934,52],"start":[934,48]}},"type":"Var","value":{"identifier":"link","sourcePos":[934,40]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[934,78],"start":[934,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,78],"start":[934,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[934,72],"start":[934,68]}},"type":"Var","value":{"identifier":"node","sourcePos":[931,25]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[934,92],"start":[934,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[934,92],"start":[934,80]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[931,12]}},"type":"App"},"identifier":"incomingLinks"},{"annotation":{"meta":null,"sourceSpan":{"end":[943,30],"start":[937,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[937,36],"start":[937,24]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[942,18],"start":[937,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[941,54],"start":[938,19]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[941,54],"start":[938,19]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[941,54],"start":[939,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[939,75],"start":[939,71]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[939,108],"start":[939,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,107],"start":[939,77]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[939,107],"start":[939,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,90],"start":[939,83]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[939,84],"start":[939,83]}},"type":"Var","value":{"identifier":"n","sourcePos":[939,78]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[939,107],"start":[939,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,107],"start":[939,94]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[939,95],"start":[939,94]}},"type":"Var","value":{"identifier":"b","sourcePos":[938,22]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[939,114],"start":[939,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,114],"start":[939,109]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[886,3]}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[939,30],"start":[939,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[939,63],"start":[939,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,62],"start":[939,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[939,62],"start":[939,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,45],"start":[939,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[939,39],"start":[939,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[939,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[939,62],"start":[939,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,62],"start":[939,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[939,50],"start":[939,49]}},"type":"Var","value":{"identifier":"a","sourcePos":[938,20]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[939,69],"start":[939,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[939,69],"start":[939,64]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[886,3]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[941,54],"start":[939,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[940,30],"start":[940,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[940,30],"start":[940,28]}},"binderType":"VarBinder","identifier":"na"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[940,39],"start":[940,32]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[940,39],"start":[940,37]}},"binderType":"VarBinder","identifier":"nb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[940,89],"start":[940,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[940,56],"start":[940,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,56],"start":[940,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[940,53],"start":[940,51]}},"type":"Var","value":{"identifier":"na","sourcePos":[940,28]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[940,62],"start":[940,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,62],"start":[940,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[940,59],"start":[940,57]}},"type":"Var","value":{"identifier":"nb","sourcePos":[940,37]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[940,89],"start":[940,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[940,81],"start":[940,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,81],"start":[940,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[940,75],"start":[940,74]}},"type":"Var","value":{"identifier":"a","sourcePos":[938,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[940,89],"start":[940,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[940,89],"start":[940,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[940,83],"start":[940,82]}},"type":"Var","value":{"identifier":"b","sourcePos":[938,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[941,24],"start":[941,23]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[941,27],"start":[941,26]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[941,46],"start":[941,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[941,46],"start":[941,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[941,40],"start":[941,39]}},"type":"Var","value":{"identifier":"a","sourcePos":[938,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[941,54],"start":[941,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[941,54],"start":[941,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[941,48],"start":[941,47]}},"type":"Var","value":{"identifier":"b","sourcePos":[938,22]}},"fieldName":"index","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[943,30],"start":[937,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[943,30],"start":[943,17]}},"type":"Var","value":{"identifier":"incomingLinks","sourcePos":[934,15]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[956,23],"start":[945,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[945,29],"start":[945,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[954,18],"start":[945,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[953,24],"start":[946,19]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[953,24],"start":[946,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[953,24],"start":[947,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[948,51],"start":[948,23]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[948,51],"start":[948,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[948,32],"start":[948,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[948,30],"start":[948,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[946,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[948,51],"start":[948,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[948,51],"start":[948,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[948,45],"start":[948,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[948,39],"start":[948,35]}},"type":"Var","value":{"identifier":"link","sourcePos":[946,24]}},"fieldName":"width","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[948,51],"start":[948,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[948,51],"start":[948,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"y"},{"annotation":{"meta":null,"sourceSpan":{"end":[949,48],"start":[949,23]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[949,48],"start":[949,33]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[970,18],"start":[848,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[949,37],"start":[949,33]}},"type":"Var","value":{"identifier":"link","sourcePos":[946,24]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[949,48],"start":[949,33]}},"copy":["width","index","sourceIndex","targetIndex","color","value","y0"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[848,1]}},"type":"ObjectUpdate","updates":[["y1",{"annotation":{"meta":null,"sourceSpan":{"end":[949,46],"start":[949,45]}},"type":"Var","value":{"identifier":"y","sourcePos":[948,23]}}]]},"type":"Let"},"identifier":"updated"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[953,24],"start":[951,23]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[951,46],"start":[951,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[951,33],"start":[951,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[951,31],"start":[951,28]}},"type":"Var","value":{"identifier":"acc","sourcePos":[946,20]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[951,46],"start":[951,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[951,46],"start":[951,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[951,40],"start":[951,36]}},"type":"Var","value":{"identifier":"link","sourcePos":[946,24]}},"fieldName":"width","type":"Accessor"},"type":"App"}],["links",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[952,42],"start":[952,32]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[952,52],"start":[952,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[952,52],"start":[952,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[952,46],"start":[952,43]}},"type":"Var","value":{"identifier":"acc","sourcePos":[946,20]}},"fieldName":"links","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[952,60],"start":[952,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[952,60],"start":[952,53]}},"type":"Var","value":{"identifier":"updated","sourcePos":[949,23]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[955,42],"start":[945,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[955,42],"start":[955,17]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["y",{"annotation":{"meta":null,"sourceSpan":{"end":[955,29],"start":[955,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[955,26],"start":[955,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[931,25]}},"fieldName":"y0","type":"Accessor"}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[955,40],"start":[955,38]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[956,23],"start":[945,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[956,23],"start":[956,17]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[937,15]}},"type":"App"},"identifier":"withY1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[964,18],"start":[959,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[963,38],"start":[960,19]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[963,38],"start":[961,21]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[961,30],"start":[961,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[961,60],"start":[961,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,59],"start":[961,32]}},"argument":"l","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[961,59],"start":[961,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,45],"start":[961,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[961,39],"start":[961,38]}},"type":"Var","value":{"identifier":"l","sourcePos":[961,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[961,59],"start":[961,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,59],"start":[961,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[961,53],"start":[961,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[960,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[961,73],"start":[961,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[961,73],"start":[961,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[961,67],"start":[961,61]}},"type":"Var","value":{"identifier":"withY1","sourcePos":[945,15]}},"fieldName":"links","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[963,38],"start":[961,21]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[962,39],"start":[962,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[962,39],"start":[962,28]}},"binderType":"VarBinder","identifier":"updatedLink"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[962,54],"start":[962,43]}},"type":"Var","value":{"identifier":"updatedLink","sourcePos":[962,28]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[963,30],"start":[963,23]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[963,38],"start":[963,34]}},"type":"Var","value":{"identifier":"link","sourcePos":[960,20]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[965,29],"start":[959,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[965,29],"start":[965,17]}},"type":"Var","value":{"identifier":"currentLinks","sourcePos":[931,12]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[967,20],"start":[930,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[967,20],"start":[967,9]}},"type":"Var","value":{"identifier":"linksWithY0","sourcePos":[889,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[968,14],"start":[930,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[968,14],"start":[968,9]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[886,3]}},"type":"App"},"identifier":"linksWithY1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[970,18],"start":[970,7]}},"type":"Var","value":{"identifier":"linksWithY1","sourcePos":[930,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"calculateLinkYPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[862,80],"start":[862,3]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[862,80],"start":[862,3]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[862,80],"start":[862,3]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[862,80],"start":[862,3]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[862,80],"start":[862,3]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[882,23],"start":[864,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[874,73],"start":[868,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[874,73],"start":[868,7]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[874,73],"start":[869,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[870,76],"start":[870,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[870,29],"start":[870,24]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[870,61],"start":[870,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[870,60],"start":[870,31]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[870,60],"start":[870,31]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[870,60],"start":[870,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[870,47],"start":[870,44]}},"type":"Var","value":{"identifier":"sum","sourcePos":[870,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[870,60],"start":[870,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[870,60],"start":[870,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[870,54],"start":[870,50]}},"type":"Var","value":{"identifier":"node","sourcePos":[870,36]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[870,65],"start":[870,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[870,65],"start":[870,62]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[870,76],"start":[870,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[870,76],"start":[870,66]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[868,7]}},"type":"App"},"identifier":"totalValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[871,50],"start":[871,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[871,30],"start":[871,22]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[871,50],"start":[871,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[871,38],"start":[871,32]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[871,49],"start":[871,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[871,49],"start":[871,39]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[868,7]}},"type":"App"},"type":"App"},"identifier":"numNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[872,67],"start":[872,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[872,67],"start":[872,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[872,37],"start":[872,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[872,32],"start":[872,30]}},"type":"Var","value":{"identifier":"y1","sourcePos":[863,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[872,37],"start":[872,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[872,37],"start":[872,35]}},"type":"Var","value":{"identifier":"y0","sourcePos":[863,3]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[872,67],"start":[872,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[872,67],"start":[872,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[872,56],"start":[872,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[872,50],"start":[872,42]}},"type":"Var","value":{"identifier":"numNodes","sourcePos":[871,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[872,56],"start":[872,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[872,56],"start":[872,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[872,67],"start":[872,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[872,67],"start":[872,60]}},"type":"Var","value":{"identifier":"padding","sourcePos":[863,3]}},"type":"App"},"type":"App"},"identifier":"availableHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[874,73],"start":[874,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[874,73],"start":[874,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[874,64],"start":[874,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[874,51],"start":[874,36]}},"type":"Var","value":{"identifier":"availableHeight","sourcePos":[872,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[874,64],"start":[874,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[874,64],"start":[874,54]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[870,11]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[874,73],"start":[874,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[874,73],"start":[874,70]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[874,30],"start":[874,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[874,24],"start":[874,14]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[870,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[874,30],"start":[874,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[874,30],"start":[874,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"scaleForLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[865,65],"start":[865,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[865,23],"start":[865,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[865,57],"start":[865,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[865,56],"start":[865,25]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[865,56],"start":[865,25]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[865,45],"start":[865,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[865,45],"start":[865,42]}},"type":"Var","value":{"identifier":"acc","sourcePos":[865,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[865,56],"start":[865,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[865,56],"start":[865,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[865,50],"start":[865,46]}},"type":"Var","value":{"identifier":"node","sourcePos":[865,30]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[865,59],"start":[865,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[865,59],"start":[865,58]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[865,65],"start":[865,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[865,65],"start":[865,60]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[863,3]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[866,106],"start":[866,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[866,81],"start":[866,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[866,80],"start":[866,21]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[866,40],"start":[866,34]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[866,74],"start":[866,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[866,73],"start":[866,42]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[866,73],"start":[866,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[866,61],"start":[866,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[866,55],"start":[866,51]}},"type":"Var","value":{"identifier":"node","sourcePos":[866,43]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[866,73],"start":[866,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[866,73],"start":[866,65]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[866,22]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[866,80],"start":[866,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[866,80],"start":[866,75]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[863,3]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[866,106],"start":[866,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[866,94],"start":[866,83]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[866,96],"start":[866,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[866,96],"start":[866,95]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[866,105],"start":[866,83]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[866,105],"start":[866,97]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[865,7]}},"type":"App"},"type":"App"},"identifier":"layers"},{"annotation":{"meta":null,"sourceSpan":{"end":[876,40],"start":[876,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[876,33],"start":[876,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[876,33],"start":[876,20]}},"type":"Var","value":{"identifier":"scaleForLayer","sourcePos":[868,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[876,40],"start":[876,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[876,40],"start":[876,34]}},"type":"Var","value":{"identifier":"layers","sourcePos":[866,7]}},"type":"App"},"identifier":"scales"},{"annotation":{"meta":null,"sourceSpan":{"end":[877,53],"start":[877,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[877,30],"start":[877,24]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[877,46],"start":[877,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[877,45],"start":[877,32]}},"argument":"s","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[877,45],"start":[877,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[877,39],"start":[877,38]}},"type":"Var","value":{"identifier":"s","sourcePos":[877,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[877,45],"start":[877,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[877,45],"start":[877,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[877,53],"start":[877,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[877,53],"start":[877,47]}},"type":"Var","value":{"identifier":"scales","sourcePos":[876,7]}},"type":"App"},"identifier":"nonEmptyScales"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[882,23],"start":[880,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[880,22],"start":[880,12]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[880,37],"start":[880,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[880,37],"start":[880,23]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[877,7]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[882,23],"start":[880,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[881,24],"start":[881,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[881,24],"start":[881,14]}},"binderType":"VarBinder","identifier":"firstScale"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[881,33],"start":[881,28]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[881,37],"start":[881,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[881,48],"start":[881,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[881,48],"start":[881,38]}},"type":"Var","value":{"identifier":"firstScale","sourcePos":[881,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[881,63],"start":[881,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[881,63],"start":[881,49]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[877,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[882,16],"start":[882,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[882,23],"start":[882,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[847,51],"start":[847,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateGlobalKy1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[849,15],"start":[849,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[849,15],"start":[849,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[849,15],"start":[849,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[850,28],"start":[850,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[850,28],"start":[850,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[850,28],"start":[850,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[850,21],"start":[850,16]}},"type":"Var","value":{"identifier":"model","sourcePos":[849,3]}},"fieldName":"config","type":"Accessor"},"identifier":"config"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[853,100],"start":[853,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[853,100],"start":[853,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[853,29],"start":[853,12]}},"type":"Var","value":{"identifier":"calculateGlobalKy1","sourcePos":[862,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[853,47],"start":[853,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[853,47],"start":[853,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[853,35],"start":[853,30]}},"type":"Var","value":{"identifier":"model","sourcePos":[849,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[853,64],"start":[853,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[853,64],"start":[853,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[853,64],"start":[853,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[853,54],"start":[853,48]}},"type":"Var","value":{"identifier":"config","sourcePos":[850,7]}},"fieldName":"extent","type":"Accessor"},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[853,81],"start":[853,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[853,81],"start":[853,65]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[853,81],"start":[853,65]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[853,71],"start":[853,65]}},"type":"Var","value":{"identifier":"config","sourcePos":[850,7]}},"fieldName":"extent","type":"Accessor"},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[853,100],"start":[853,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[853,100],"start":[853,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[853,88],"start":[853,82]}},"type":"Var","value":{"identifier":"config","sourcePos":[850,7]}},"fieldName":"nodePadding","type":"Accessor"},"type":"App"},"identifier":"ky"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[854,89],"start":[854,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[854,89],"start":[854,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[854,71],"start":[854,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[854,70],"start":[854,29]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[854,70],"start":[854,38]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[970,18],"start":[848,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[854,42],"start":[854,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[854,30]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[854,70],"start":[854,38]}},"copy":["value","color","index","sourceIndex","targetIndex","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[848,1]}},"type":"ObjectUpdate","updates":[["width",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[854,68],"start":[854,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[854,63],"start":[854,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[854,57],"start":[854,53]}},"type":"Var","value":{"identifier":"link","sourcePos":[854,30]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[854,68],"start":[854,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[854,68],"start":[854,66]}},"type":"Var","value":{"identifier":"ky","sourcePos":[853,7]}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[854,89],"start":[854,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[854,89],"start":[854,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[854,77],"start":[854,72]}},"type":"Var","value":{"identifier":"model","sourcePos":[849,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"identifier":"linksWithWidth"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[857,76],"start":[857,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[857,76],"start":[857,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[857,43],"start":[857,20]}},"type":"Var","value":{"identifier":"calculateLinkYPositions","sourcePos":[885,3]}},"annotation":{"meta":null,"sourceSpan":{"end":[857,61],"start":[857,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[857,61],"start":[857,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[857,49],"start":[857,44]}},"type":"Var","value":{"identifier":"model","sourcePos":[849,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[857,76],"start":[857,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[857,76],"start":[857,62]}},"type":"Var","value":{"identifier":"linksWithWidth","sourcePos":[854,7]}},"type":"App"},"identifier":"linksWithY"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[859,41],"start":[859,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[859,41],"start":[859,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[859,41],"start":[859,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyLinks",{"annotation":{"meta":null,"sourceSpan":{"end":[859,39],"start":[859,29]}},"type":"Var","value":{"identifier":"linksWithY","sourcePos":[857,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Let"},"identifier":"computeLinkBreadths"},{"annotation":{"meta":null,"sourceSpan":{"end":[263,78],"start":[263,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[263,78],"start":[263,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[263,78],"start":[263,1]}},"argument":"y0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[263,78],"start":[263,1]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[263,78],"start":[263,1]}},"argument":"padding","body":{"annotation":{"meta":null,"sourceSpan":{"end":[283,21],"start":[265,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[275,71],"start":[269,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[275,71],"start":[269,5]}},"argument":"layerNodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[275,71],"start":[270,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,74],"start":[271,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,27],"start":[271,22]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,59],"start":[271,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,58],"start":[271,29]}},"argument":"sum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,58],"start":[271,29]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,58],"start":[271,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,45],"start":[271,42]}},"type":"Var","value":{"identifier":"sum","sourcePos":[271,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,58],"start":[271,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,58],"start":[271,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,52],"start":[271,48]}},"type":"Var","value":{"identifier":"node","sourcePos":[271,34]}},"fieldName":"value","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[271,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[271,60]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,74],"start":[271,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,74],"start":[271,64]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[269,5]}},"type":"App"},"identifier":"totalValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[272,48],"start":[272,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[272,28],"start":[272,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[272,48],"start":[272,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[272,36],"start":[272,30]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[272,47],"start":[272,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,47],"start":[272,37]}},"type":"Var","value":{"identifier":"layerNodes","sourcePos":[269,5]}},"type":"App"},"type":"App"},"identifier":"numNodes"},{"annotation":{"meta":null,"sourceSpan":{"end":[273,65],"start":[273,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,65],"start":[273,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,35],"start":[273,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,30],"start":[273,28]}},"type":"Var","value":{"identifier":"y1","sourcePos":[264,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,35],"start":[273,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,35],"start":[273,33]}},"type":"Var","value":{"identifier":"y0","sourcePos":[264,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,65],"start":[273,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,65],"start":[273,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,54],"start":[273,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,48],"start":[273,40]}},"type":"Var","value":{"identifier":"numNodes","sourcePos":[272,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,54],"start":[273,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,54],"start":[273,51]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,65],"start":[273,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,65],"start":[273,58]}},"type":"Var","value":{"identifier":"padding","sourcePos":[264,1]}},"type":"App"},"type":"App"},"identifier":"availableHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[275,71],"start":[275,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[275,71],"start":[275,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,62],"start":[275,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,49],"start":[275,34]}},"type":"Var","value":{"identifier":"availableHeight","sourcePos":[273,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,62],"start":[275,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,62],"start":[275,52]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[271,9]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[275,71],"start":[275,9]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[275,71],"start":[275,68]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,22],"start":[275,12]}},"type":"Var","value":{"identifier":"totalValue","sourcePos":[271,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,28],"start":[275,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"scaleForLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[266,63],"start":[266,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[266,21],"start":[266,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,55],"start":[266,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,54],"start":[266,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[266,54],"start":[266,23]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,43],"start":[266,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,43],"start":[266,40]}},"type":"Var","value":{"identifier":"acc","sourcePos":[266,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,54],"start":[266,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,54],"start":[266,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[266,48],"start":[266,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[266,28]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,57],"start":[266,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,57],"start":[266,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,63],"start":[266,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,63],"start":[266,58]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[264,1]}},"type":"App"},"identifier":"maxLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[267,104],"start":[267,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[267,79],"start":[267,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,78],"start":[267,19]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[267,38],"start":[267,32]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[267,72],"start":[267,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,71],"start":[267,40]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[267,71],"start":[267,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,59],"start":[267,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[267,53],"start":[267,49]}},"type":"Var","value":{"identifier":"node","sourcePos":[267,41]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[267,71],"start":[267,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,71],"start":[267,63]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[267,20]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[267,78],"start":[267,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,78],"start":[267,73]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[264,1]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[267,104],"start":[267,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[267,92],"start":[267,81]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[267,94],"start":[267,81]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,94],"start":[267,93]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[267,103],"start":[267,81]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,103],"start":[267,95]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[266,5]}},"type":"App"},"type":"App"},"identifier":"layers"},{"annotation":{"meta":null,"sourceSpan":{"end":[277,38],"start":[277,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[277,31],"start":[277,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[277,31],"start":[277,18]}},"type":"Var","value":{"identifier":"scaleForLayer","sourcePos":[269,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[277,38],"start":[277,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[277,38],"start":[277,32]}},"type":"Var","value":{"identifier":"layers","sourcePos":[267,5]}},"type":"App"},"identifier":"scales"},{"annotation":{"meta":null,"sourceSpan":{"end":[278,51],"start":[278,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[278,28],"start":[278,22]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[278,44],"start":[278,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,43],"start":[278,30]}},"argument":"s","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[278,43],"start":[278,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,37],"start":[278,36]}},"type":"Var","value":{"identifier":"s","sourcePos":[278,31]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[278,43],"start":[278,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,43],"start":[278,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[278,51],"start":[278,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,51],"start":[278,45]}},"type":"Var","value":{"identifier":"scales","sourcePos":[277,5]}},"type":"App"},"identifier":"nonEmptyScales"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[283,21],"start":[281,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[263,78],"start":[263,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[281,20],"start":[281,10]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[281,35],"start":[281,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[281,35],"start":[281,21]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[278,5]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[283,21],"start":[281,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[282,22],"start":[282,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[282,22],"start":[282,12]}},"binderType":"VarBinder","identifier":"firstScale"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[282,31],"start":[282,26]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[282,35],"start":[282,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,46],"start":[282,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,46],"start":[282,36]}},"type":"Var","value":{"identifier":"firstScale","sourcePos":[282,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,61],"start":[282,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,61],"start":[282,47]}},"type":"Var","value":{"identifier":"nonEmptyScales","sourcePos":[278,5]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[283,14],"start":[283,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[283,21],"start":[283,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[263,78],"start":[263,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateGlobalKy"},{"annotation":{"meta":null,"sourceSpan":{"end":[977,44],"start":[977,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[979,15],"start":[979,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[979,15],"start":[979,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[979,15],"start":[979,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[980,28],"start":[980,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[980,28],"start":[980,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[980,28],"start":[980,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[980,21],"start":[980,16]}},"type":"Var","value":{"identifier":"model","sourcePos":[979,3]}},"fieldName":"config","type":"Accessor"},"identifier":"config"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1000,24],"start":[983,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[995,8],"start":[984,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[995,8],"start":[985,7]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[985,18],"start":[985,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#1f77b4"}},{"annotation":{"meta":null,"sourceSpan":{"end":[986,18],"start":[986,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#ff7f0e"}},{"annotation":{"meta":null,"sourceSpan":{"end":[987,18],"start":[987,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#2ca02c"}},{"annotation":{"meta":null,"sourceSpan":{"end":[988,18],"start":[988,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#d62728"}},{"annotation":{"meta":null,"sourceSpan":{"end":[989,18],"start":[989,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#9467bd"}},{"annotation":{"meta":null,"sourceSpan":{"end":[990,18],"start":[990,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#8c564b"}},{"annotation":{"meta":null,"sourceSpan":{"end":[991,18],"start":[991,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#e377c2"}},{"annotation":{"meta":null,"sourceSpan":{"end":[992,18],"start":[992,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#7f7f7f"}},{"annotation":{"meta":null,"sourceSpan":{"end":[993,18],"start":[993,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#bcbd22"}},{"annotation":{"meta":null,"sourceSpan":{"end":[994,18],"start":[994,9]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#17becf"}}]}},"identifier":"colors"},{"annotation":{"meta":null,"sourceSpan":{"end":[1000,24],"start":[996,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[996,34],"start":[996,22]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[999,8],"start":[996,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[998,80],"start":[997,9]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[998,80],"start":[997,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[998,80],"start":[998,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[978,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[998,15],"start":[998,11]}},"type":"Var","value":{"identifier":"node","sourcePos":[997,12]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[998,80],"start":[998,11]}},"copy":["depth","index","layer","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[978,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[998,35],"start":[998,26]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[998,42],"start":[998,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[998,42],"start":[998,36]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#999"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[998,78],"start":[998,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[998,53],"start":[998,51]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[998,77],"start":[998,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[998,50],"start":[998,44]}},"type":"Var","value":{"identifier":"colors","sourcePos":[984,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[998,77],"start":[998,44]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[998,76],"start":[998,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[998,56],"start":[998,55]}},"type":"Var","value":{"identifier":"i","sourcePos":[997,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[998,76],"start":[998,55]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[998,69],"start":[998,63]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[998,76],"start":[998,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[998,76],"start":[998,70]}},"type":"Var","value":{"identifier":"colors","sourcePos":[984,5]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1000,24],"start":[996,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1000,24],"start":[1000,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1000,12],"start":[1000,7]}},"type":"Var","value":{"identifier":"model","sourcePos":[979,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"identifier":"nodesWithColor"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,29],"start":[1003,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1004,85],"start":[1004,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1004,85],"start":[1004,5]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1004,85],"start":[1004,5]}},"argument":"mode","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1004,85],"start":[1004,5]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,29],"start":[1006,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[1007,20],"start":[1007,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SourceColor","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,69],"start":[1008,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1009,72],"start":[1009,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1009,30],"start":[1009,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1009,66],"start":[1009,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,65],"start":[1009,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1009,65],"start":[1009,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,45],"start":[1009,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,39],"start":[1009,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[1009,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1009,65],"start":[1009,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,65],"start":[1009,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,53],"start":[1009,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[1005,5]}},"fieldName":"sourceIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1009,72],"start":[1009,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1009,72],"start":[1009,67]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[1005,5]}},"type":"App"},"identifier":"sourceNode"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,69],"start":[1011,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[978,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,17],"start":[1011,13]}},"type":"Var","value":{"identifier":"link","sourcePos":[1005,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,69],"start":[1011,13]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[978,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1011,33],"start":[1011,28]}},"type":"Var","value":{"identifier":"maybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1011,40],"start":[1011,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,40],"start":[1011,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#999"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1011,56],"start":[1011,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,55],"start":[1011,42]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,55],"start":[1011,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,49],"start":[1011,48]}},"type":"Var","value":{"identifier":"n","sourcePos":[1011,43]}},"fieldName":"color","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1011,67],"start":[1011,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1011,67],"start":[1011,57]}},"type":"Var","value":{"identifier":"sourceNode","sourcePos":[1009,13]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[1012,20],"start":[1012,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TargetColor","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,69],"start":[1013,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1014,72],"start":[1014,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1014,30],"start":[1014,26]}},"type":"Var","value":{"identifier":"find","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1014,66],"start":[1014,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1014,65],"start":[1014,32]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1014,65],"start":[1014,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1014,45],"start":[1014,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1014,39],"start":[1014,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[1014,33]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1014,65],"start":[1014,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1014,65],"start":[1014,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1014,53],"start":[1014,49]}},"type":"Var","value":{"identifier":"link","sourcePos":[1005,5]}},"fieldName":"targetIndex","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1014,72],"start":[1014,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1014,72],"start":[1014,67]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[1005,5]}},"type":"App"},"identifier":"targetNode"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,69],"start":[1016,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[978,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,17],"start":[1016,13]}},"type":"Var","value":{"identifier":"link","sourcePos":[1005,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,69],"start":[1016,13]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[978,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[1016,33],"start":[1016,28]}},"type":"Var","value":{"identifier":"maybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1016,40],"start":[1016,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,40],"start":[1016,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"#999"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1016,56],"start":[1016,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,55],"start":[1016,42]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,55],"start":[1016,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,49],"start":[1016,48]}},"type":"Var","value":{"identifier":"n","sourcePos":[1016,43]}},"fieldName":"color","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1016,67],"start":[1016,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1016,67],"start":[1016,57]}},"type":"Var","value":{"identifier":"targetNode","sourcePos":[1014,13]}},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[1017,29],"start":[1017,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SourceTargetGradient","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1018,40],"start":[1018,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[1018,26],"start":[1018,16]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1018,26],"start":[1018,23]}},"binderType":"VarBinder","identifier":"idx"}],"constructorName":{"identifier":"LinkID","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkID","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,73],"start":[1019,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[978,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,18],"start":[1019,14]}},"type":"Var","value":{"identifier":"link","sourcePos":[1005,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,73],"start":[1019,14]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[978,1]}},"type":"ObjectUpdate","updates":[["color",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1019,71],"start":[1019,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,52],"start":[1019,29]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"url(#sankey-gradient-"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1019,71],"start":[1019,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append2","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1019,71],"start":[1019,29]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1019,64],"start":[1019,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,64],"start":[1019,61]}},"type":"Var","value":{"identifier":"idx","sourcePos":[1018,23]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1019,71],"start":[1019,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1019,71],"start":[1019,68]}},"type":"Literal","value":{"literalType":"StringLiteral","value":")"}},"type":"App"},"type":"App"}]]},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[1018,40],"start":[1018,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1018,34],"start":[1018,30]}},"type":"Var","value":{"identifier":"link","sourcePos":[1005,5]}},"fieldName":"index","type":"Accessor"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[1020,22],"start":[1020,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[1020,22],"start":[1020,21]}},"binderType":"VarBinder","identifier":"c"}],"constructorName":{"identifier":"StaticColor","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"LinkColorMode","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,29],"start":[1021,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[978,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,15],"start":[1021,11]}},"type":"Var","value":{"identifier":"link","sourcePos":[1005,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1021,29],"start":[1021,11]}},"copy":["sourceIndex","targetIndex","value","width","y0","y1","index"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[978,1]}},"type":"ObjectUpdate","updates":[["color",{"annotation":{"meta":null,"sourceSpan":{"end":[1021,27],"start":[1021,26]}},"type":"Var","value":{"identifier":"c","sourcePos":[1020,21]}}]]},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[1006,16],"start":[1006,12]}},"type":"Var","value":{"identifier":"mode","sourcePos":[1005,5]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"assignLinkColor"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,99],"start":[1024,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[1024,99],"start":[1024,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1024,81],"start":[1024,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,44],"start":[1024,29]}},"type":"Var","value":{"identifier":"assignLinkColor","sourcePos":[1004,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[1024,59],"start":[1024,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,59],"start":[1024,45]}},"type":"Var","value":{"identifier":"nodesWithColor","sourcePos":[996,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1024,80],"start":[1024,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,80],"start":[1024,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,66],"start":[1024,60]}},"type":"Var","value":{"identifier":"config","sourcePos":[980,7]}},"fieldName":"linkColorMode","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[1024,99],"start":[1024,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,99],"start":[1024,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[1024,87],"start":[1024,82]}},"type":"Var","value":{"identifier":"model","sourcePos":[979,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"identifier":"linksWithColor"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[1026,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[1026,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[1026,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[1026,43],"start":[1026,29]}},"type":"Var","value":{"identifier":"nodesWithColor","sourcePos":[996,5]}}],["sankeyLinks",{"annotation":{"meta":null,"sourceSpan":{"end":[1026,73],"start":[1026,59]}},"type":"Var","value":{"identifier":"linksWithColor","sourcePos":[1024,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"identifier":"assignColors"},{"annotation":{"meta":null,"sourceSpan":{"end":[355,58],"start":[355,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,58],"start":[355,1]}},"argument":"alignment","body":{"annotation":{"meta":null,"sourceSpan":{"end":[355,58],"start":[355,1]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[355,58],"start":[355,1]}},"argument":"numLayers","body":{"annotation":{"meta":null,"sourceSpan":{"end":[367,13],"start":[357,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[358,9],"start":[358,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Left","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[358,23],"start":[358,13]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[358,17],"start":[358,13]}},"type":"Var","value":{"identifier":"node","sourcePos":[356,1]}},"fieldName":"depth","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[359,10],"start":[359,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Right","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[359,19],"start":[359,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[359,19],"start":[359,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[359,53],"start":[359,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[359,52],"start":[359,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[359,52],"start":[359,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[359,30],"start":[359,21]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[356,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[359,52],"start":[359,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[359,34],"start":[359,33]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[359,52],"start":[359,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[359,52],"start":[359,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[359,41],"start":[359,37]}},"type":"Var","value":{"identifier":"node","sourcePos":[356,1]}},"fieldName":"nodeHeight","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[360,12],"start":[360,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Justify","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[363,22],"start":[361,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[363,22],"start":[361,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[362,25],"start":[362,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[362,21],"start":[362,12]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[356,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[362,25],"start":[362,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[362,25],"start":[362,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[363,22],"start":[361,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[363,22],"start":[363,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[363,16],"start":[363,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[356,1]}},"fieldName":"depth","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[361,21],"start":[361,10]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[361,38],"start":[361,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[361,38],"start":[361,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[361,26],"start":[361,22]}},"type":"Var","value":{"identifier":"node","sourcePos":[356,1]}},"fieldName":"sourceLinks","type":"Accessor"},"type":"App"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[364,11],"start":[364,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Center","moduleName":["DataViz","Layout","Sankey","Types"]},"typeName":{"identifier":"Alignment","moduleName":["DataViz","Layout","Sankey","Types"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[367,13],"start":[365,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[367,13],"start":[365,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[366,22],"start":[366,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[366,16],"start":[366,12]}},"type":"Var","value":{"identifier":"node","sourcePos":[356,1]}},"fieldName":"depth","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[367,13],"start":[365,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[367,13],"start":[367,12]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[365,44],"start":[365,10]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[365,26],"start":[365,15]}},"type":"Var","value":{"identifier":"isEmpty","moduleName":["Data","Set"]}},"annotation":{"meta":null,"sourceSpan":{"end":[365,43],"start":[365,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[365,43],"start":[365,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[365,31],"start":[365,27]}},"type":"Var","value":{"identifier":"node","sourcePos":[356,1]}},"fieldName":"targetLinks","type":"Accessor"},"type":"App"},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[357,17],"start":[357,8]}},"type":"Var","value":{"identifier":"alignment","sourcePos":[356,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"alignNodeToLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[325,94],"start":[325,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[325,94],"start":[325,1]}},"argument":"nodes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[325,94],"start":[325,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[325,94],"start":[325,1]}},"argument":"x0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[325,94],"start":[325,1]}},"argument":"x1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[352,15],"start":[327,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[328,63],"start":[328,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[328,21],"start":[328,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[328,55],"start":[328,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,54],"start":[328,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[328,54],"start":[328,23]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[328,43],"start":[328,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,43],"start":[328,40]}},"type":"Var","value":{"identifier":"acc","sourcePos":[328,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[328,54],"start":[328,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,54],"start":[328,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[328,48],"start":[328,44]}},"type":"Var","value":{"identifier":"node","sourcePos":[328,28]}},"fieldName":"depth","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[328,57],"start":[328,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,57],"start":[328,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[328,63],"start":[328,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[328,63],"start":[328,58]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[326,1]}},"type":"App"},"identifier":"maxDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[329,29],"start":[329,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,29],"start":[329,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,25],"start":[329,17]}},"type":"Var","value":{"identifier":"maxDepth","sourcePos":[328,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[329,29],"start":[329,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,29],"start":[329,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"numLayers"},{"annotation":{"meta":null,"sourceSpan":{"end":[340,12],"start":[333,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[339,8],"start":[333,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,35],"start":[334,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[338,35],"start":[335,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[336,69],"start":[336,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[336,37],"start":[336,21]}},"type":"Var","value":{"identifier":"alignNodeToLayer","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,54],"start":[336,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,54],"start":[336,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[336,44],"start":[336,38]}},"type":"Var","value":{"identifier":"config","sourcePos":[326,1]}},"fieldName":"alignment","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,59],"start":[336,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,59],"start":[336,55]}},"type":"Var","value":{"identifier":"node","sourcePos":[334,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,69],"start":[336,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,69],"start":[336,60]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[329,5]}},"type":"App"},"identifier":"layer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,35],"start":[338,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[352,15],"start":[326,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,17],"start":[338,13]}},"type":"Var","value":{"identifier":"node","sourcePos":[334,10]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[338,35],"start":[338,13]}},"copy":["color","depth","index","name","nodeHeight","sourceLinks","targetLinks","value","x0","x1","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[326,1]}},"type":"ObjectUpdate","updates":[["layer",{"annotation":{"meta":null,"sourceSpan":{"end":[338,33],"start":[338,28]}},"type":"Var","value":{"identifier":"layer","sourcePos":[336,13]}}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[340,12],"start":[333,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[340,12],"start":[340,7]}},"type":"Var","value":{"identifier":"nodes","sourcePos":[326,1]}},"type":"App"},"identifier":"nodesWithLayer"},{"annotation":{"meta":null,"sourceSpan":{"end":[330,75],"start":[330,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,75],"start":[330,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,37],"start":[330,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,37],"start":[330,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,13],"start":[330,11]}},"type":"Var","value":{"identifier":"x1","sourcePos":[326,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,37],"start":[330,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,18],"start":[330,16]}},"type":"Var","value":{"identifier":"x0","sourcePos":[326,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,37],"start":[330,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,37],"start":[330,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[330,27],"start":[330,21]}},"type":"Var","value":{"identifier":"config","sourcePos":[326,1]}},"fieldName":"nodeWidth","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,75],"start":[330,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,48],"start":[330,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,48],"start":[330,45]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,75],"start":[330,41]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[330,58],"start":[330,50]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,74],"start":[330,50]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[330,73],"start":[330,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,69],"start":[330,60]}},"type":"Var","value":{"identifier":"numLayers","sourcePos":[329,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[330,73],"start":[330,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[330,73],"start":[330,72]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"identifier":"kx"},{"annotation":{"meta":null,"sourceSpan":{"end":[350,21],"start":[343,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[349,8],"start":[343,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,63],"start":[344,9]}},"argument":"node","body":{"annotation":{"meta":null,"sourceSpan":{"end":[348,63],"start":[345,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[346,50],"start":[346,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[346,50],"start":[346,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[346,23],"start":[346,21]}},"type":"Var","value":{"identifier":"x0","sourcePos":[326,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[346,50],"start":[346,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[346,50],"start":[346,21]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[346,34],"start":[346,26]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[346,45],"start":[346,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[346,45],"start":[346,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[346,39],"start":[346,35]}},"type":"Var","value":{"identifier":"node","sourcePos":[344,10]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[346,50],"start":[346,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[346,50],"start":[346,48]}},"type":"Var","value":{"identifier":"kx","sourcePos":[330,5]}},"type":"App"},"type":"App"},"identifier":"x0Pos"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[348,63],"start":[348,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[352,15],"start":[326,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[348,17],"start":[348,13]}},"type":"Var","value":{"identifier":"node","sourcePos":[344,10]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[348,63],"start":[348,13]}},"copy":["layer","color","depth","index","name","nodeHeight","sourceLinks","targetLinks","value","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[326,1]}},"type":"ObjectUpdate","updates":[["x0",{"annotation":{"meta":null,"sourceSpan":{"end":[348,30],"start":[348,25]}},"type":"Var","value":{"identifier":"x0Pos","sourcePos":[346,13]}}],["x1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[348,61],"start":[348,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,42],"start":[348,37]}},"type":"Var","value":{"identifier":"x0Pos","sourcePos":[346,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[348,61],"start":[348,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[348,61],"start":[348,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[348,51],"start":[348,45]}},"type":"Var","value":{"identifier":"config","sourcePos":[326,1]}},"fieldName":"nodeWidth","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[350,21],"start":[343,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[350,21],"start":[350,7]}},"type":"Var","value":{"identifier":"nodesWithLayer","sourcePos":[333,5]}},"type":"App"},"identifier":"nodesWithX"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[352,15],"start":[352,5]}},"type":"Var","value":{"identifier":"nodesWithX","sourcePos":[343,5]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"computeNodeLayers"},{"annotation":{"meta":null,"sourceSpan":{"end":[287,51],"start":[287,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[289,15],"start":[289,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"get","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[289,15],"start":[289,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[289,15],"start":[289,3]}},"argument":"model","body":{"annotation":{"meta":null,"sourceSpan":{"end":[290,28],"start":[290,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[290,28],"start":[290,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[290,28],"start":[290,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[290,21],"start":[290,16]}},"type":"Var","value":{"identifier":"model","sourcePos":[289,3]}},"fieldName":"config","type":"Accessor"},"identifier":"config"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[291,29],"start":[291,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[291,29],"start":[291,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[291,29],"start":[291,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[291,22],"start":[291,16]}},"type":"Var","value":{"identifier":"config","sourcePos":[290,7]}},"fieldName":"extent","type":"Accessor"},"identifier":"extent"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[294,87],"start":[294,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[294,87],"start":[294,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[294,42],"start":[294,25]}},"type":"Var","value":{"identifier":"computeNodeLayers","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,60],"start":[294,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,60],"start":[294,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[294,48],"start":[294,43]}},"type":"Var","value":{"identifier":"model","sourcePos":[289,3]}},"fieldName":"sankeyNodes","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,67],"start":[294,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,67],"start":[294,61]}},"type":"Var","value":{"identifier":"config","sourcePos":[290,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,77],"start":[294,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,77],"start":[294,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[294,74],"start":[294,68]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"x0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,87],"start":[294,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,87],"start":[294,78]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[294,84],"start":[294,78]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"x1","type":"Accessor"},"type":"App"},"identifier":"nodesWithLayers"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[298,42],"start":[298,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[298,42],"start":[298,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[298,42],"start":[298,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[298,30],"start":[298,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[298,27],"start":[298,21]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[298,42],"start":[298,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[298,42],"start":[298,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[298,39],"start":[298,33]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"identifier":"totalHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[299,75],"start":[299,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[299,75],"start":[299,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[299,23],"start":[299,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,57],"start":[299,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,56],"start":[299,25]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[299,56],"start":[299,25]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,45],"start":[299,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,45],"start":[299,42]}},"type":"Var","value":{"identifier":"acc","sourcePos":[299,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,56],"start":[299,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,56],"start":[299,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[299,50],"start":[299,46]}},"type":"Var","value":{"identifier":"node","sourcePos":[299,30]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,59],"start":[299,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,59],"start":[299,58]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,75],"start":[299,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,75],"start":[299,60]}},"type":"Var","value":{"identifier":"nodesWithLayers","sourcePos":[294,7]}},"type":"App"},"identifier":"maxLayer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[300,116],"start":[300,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[300,116],"start":[300,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,91],"start":[300,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,90],"start":[300,21]}},"argument":"layerIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[300,40],"start":[300,34]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,74],"start":[300,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,73],"start":[300,42]}},"argument":"node","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,73],"start":[300,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,61],"start":[300,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[300,55],"start":[300,51]}},"type":"Var","value":{"identifier":"node","sourcePos":[300,43]}},"fieldName":"layer","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[300,73],"start":[300,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,73],"start":[300,65]}},"type":"Var","value":{"identifier":"layerIdx","sourcePos":[300,22]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[300,90],"start":[300,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,90],"start":[300,75]}},"type":"Var","value":{"identifier":"nodesWithLayers","sourcePos":[294,7]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[300,116],"start":[300,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[300,104],"start":[300,93]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[300,106],"start":[300,93]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,106],"start":[300,105]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[300,115],"start":[300,93]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[300,115],"start":[300,107]}},"type":"Var","value":{"identifier":"maxLayer","sourcePos":[299,7]}},"type":"App"},"type":"App"},"identifier":"layers"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[301,78],"start":[301,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[301,78],"start":[301,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[301,30],"start":[301,25]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[301,69],"start":[301,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,68],"start":[301,32]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[301,68],"start":[301,32]}},"argument":"layer","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[301,53],"start":[301,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,53],"start":[301,50]}},"type":"Var","value":{"identifier":"acc","sourcePos":[301,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[301,68],"start":[301,46]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[301,61],"start":[301,55]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[301,67],"start":[301,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,67],"start":[301,62]}},"type":"Var","value":{"identifier":"layer","sourcePos":[301,37]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[301,71],"start":[301,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,71],"start":[301,70]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[301,78],"start":[301,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[301,78],"start":[301,72]}},"type":"Var","value":{"identifier":"layers","sourcePos":[300,7]}},"type":"App"},"identifier":"maxNodesInLayer"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,30],"start":[302,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,30],"start":[303,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,30],"start":[304,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,30],"start":[304,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[304,57],"start":[304,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[304,57],"start":[304,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[304,45],"start":[304,39]}},"type":"Var","value":{"identifier":"config","sourcePos":[290,7]}},"fieldName":"nodePadding","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[304,106],"start":[304,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[304,105],"start":[304,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[304,70],"start":[304,59]}},"type":"Var","value":{"identifier":"totalHeight","sourcePos":[298,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[304,105],"start":[304,59]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[304,104],"start":[304,74]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[304,82],"start":[304,74]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[304,98],"start":[304,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[304,98],"start":[304,83]}},"type":"Var","value":{"identifier":"maxNodesInLayer","sourcePos":[301,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[304,104],"start":[304,74]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[304,104],"start":[304,101]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[305,30],"start":[304,7]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,30],"start":[305,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[305,18],"start":[305,12]}},"type":"Var","value":{"identifier":"config","sourcePos":[290,7]}},"fieldName":"nodePadding","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[304,29],"start":[304,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[304,25],"start":[304,10]}},"type":"Var","value":{"identifier":"maxNodesInLayer","sourcePos":[301,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[304,29],"start":[304,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[304,29],"start":[304,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}],"type":"Case"},"identifier":"adjustedPadding"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[308,119],"start":[308,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[308,119],"start":[308,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[308,42],"start":[308,20]}},"type":"Var","value":{"identifier":"initializeNodeBreadths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[308,58],"start":[308,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,58],"start":[308,43]}},"type":"Var","value":{"identifier":"nodesWithLayers","sourcePos":[294,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[308,76],"start":[308,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,76],"start":[308,59]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[308,64],"start":[308,59]}},"type":"Var","value":{"identifier":"model","sourcePos":[289,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[308,83],"start":[308,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,83],"start":[308,77]}},"type":"Var","value":{"identifier":"config","sourcePos":[290,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[308,99],"start":[308,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,99],"start":[308,84]}},"type":"Var","value":{"identifier":"adjustedPadding","sourcePos":[303,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[308,109],"start":[308,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,109],"start":[308,100]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[308,106],"start":[308,100]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[308,119],"start":[308,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[308,119],"start":[308,110]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[308,116],"start":[308,110]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"identifier":"nodesWithY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[312,76],"start":[312,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[312,76],"start":[312,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[312,29],"start":[312,12]}},"type":"Var","value":{"identifier":"calculateGlobalKy","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,40],"start":[312,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,40],"start":[312,30]}},"type":"Var","value":{"identifier":"nodesWithY","sourcePos":[308,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[312,50],"start":[312,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,50],"start":[312,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[312,47],"start":[312,41]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[312,60],"start":[312,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,60],"start":[312,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[312,57],"start":[312,51]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[312,76],"start":[312,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,76],"start":[312,61]}},"type":"Var","value":{"identifier":"adjustedPadding","sourcePos":[303,5]}},"type":"App"},"identifier":"ky"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,89],"start":[313,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[313,89],"start":[313,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[313,71],"start":[313,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,70],"start":[313,29]}},"argument":"link","body":{"annotation":{"meta":null,"sourceSpan":{"end":[313,70],"start":[313,38]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[322,73],"start":[288,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,42],"start":[313,38]}},"type":"Var","value":{"identifier":"link","sourcePos":[313,30]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,70],"start":[313,38]}},"copy":["value","color","index","sourceIndex","targetIndex","y0","y1"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[288,1]}},"type":"ObjectUpdate","updates":[["width",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[313,68],"start":[313,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,63],"start":[313,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,57],"start":[313,53]}},"type":"Var","value":{"identifier":"link","sourcePos":[313,30]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[313,68],"start":[313,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,68],"start":[313,66]}},"type":"Var","value":{"identifier":"ky","sourcePos":[312,7]}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[313,89],"start":[313,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,89],"start":[313,72]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,77],"start":[313,72]}},"type":"Var","value":{"identifier":"model","sourcePos":[289,3]}},"fieldName":"sankeyLinks","type":"Accessor"},"type":"App"},"identifier":"linksWithWidth"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[319,101],"start":[319,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[319,101],"start":[319,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[319,32],"start":[319,22]}},"type":"Var","value":{"identifier":"relaxation","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[319,43],"start":[319,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,43],"start":[319,33]}},"type":"Var","value":{"identifier":"nodesWithY","sourcePos":[308,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,58],"start":[319,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,58],"start":[319,44]}},"type":"Var","value":{"identifier":"linksWithWidth","sourcePos":[313,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,65],"start":[319,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,65],"start":[319,59]}},"type":"Var","value":{"identifier":"config","sourcePos":[290,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,81],"start":[319,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,81],"start":[319,66]}},"type":"Var","value":{"identifier":"adjustedPadding","sourcePos":[303,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,91],"start":[319,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,91],"start":[319,82]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[319,88],"start":[319,82]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,101],"start":[319,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,101],"start":[319,92]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[319,98],"start":[319,92]}},"type":"Var","value":{"identifier":"extent","sourcePos":[291,7]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"identifier":"relaxedNodes"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"modify_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[322,73],"start":[322,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[322,73],"start":[322,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[322,73],"start":[322,11]}},"copy":null,"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"ObjectUpdate","updates":[["sankeyNodes",{"annotation":{"meta":null,"sourceSpan":{"end":[322,41],"start":[322,29]}},"type":"Var","value":{"identifier":"relaxedNodes","sourcePos":[319,7]}}],["sankeyLinks",{"annotation":{"meta":null,"sourceSpan":{"end":[322,71],"start":[322,57]}},"type":"Var","value":{"identifier":"linksWithWidth","sourcePos":[313,7]}}]]},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"App"},"identifier":"computeNodeBreadths"},{"annotation":{"meta":null,"sourceSpan":{"end":[52,24],"start":[49,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[52,24],"start":[49,1]}},"argument":"linkInputs","body":{"annotation":{"meta":null,"sourceSpan":{"end":[52,24],"start":[49,1]}},"argument":"config","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[60,6],"start":[54,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[63,53],"start":[63,3]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,35],"start":[66,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,20],"start":[66,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,20],"start":[66,10]}},"type":"Var","value":{"identifier":"linkInputs","sourcePos":[53,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,35],"start":[66,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,35],"start":[66,21]}},"type":"Var","value":{"identifier":"processCSVLink","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,35],"start":[66,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,35],"start":[66,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,26],"start":[67,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,26],"start":[67,5]}},"type":"Var","value":{"identifier":"initialiseSankeyNodes","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[67,26],"start":[67,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,26],"start":[67,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,22],"start":[72,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,22],"start":[72,5]}},"type":"Var","value":{"identifier":"computeNodeValues","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[72,22],"start":[72,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,22],"start":[72,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"type":"Var","value":{"identifier":"computeNodeDepths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,22],"start":[75,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,23],"start":[78,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,23],"start":[78,5]}},"type":"Var","value":{"identifier":"computeNodeHeights","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,23],"start":[78,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,23],"start":[78,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[81,24],"start":[81,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,24],"start":[81,5]}},"type":"Var","value":{"identifier":"computeNodeBreadths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[81,24],"start":[81,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,24],"start":[81,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,24],"start":[84,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,24],"start":[84,5]}},"type":"Var","value":{"identifier":"computeLinkBreadths","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,24],"start":[84,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,24],"start":[84,5]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[87,17],"start":[87,5]}},"type":"Var","value":{"identifier":"assignColors","moduleName":["DataViz","Layout","Sankey","Compute"]}},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"computeSankeyLayout"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,6],"start":[54,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[56,80],"start":[56,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[56,27],"start":[56,18]}},"type":"Var","value":{"identifier":"execState","moduleName":["Control","Monad","State"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,47],"start":[56,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,47],"start":[56,28]}},"type":"Var","value":{"identifier":"computeSankeyLayout","sourcePos":[63,3]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,80],"start":[56,18]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[56,73],"start":[56,50]}},"type":"Var","value":{"identifier":"initialSankeyGraphModel","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,80],"start":[56,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,80],"start":[56,74]}},"type":"Var","value":{"identifier":"config","sourcePos":[53,1]}},"type":"App"},"type":"App"},"identifier":"finalModel"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,6],"start":[58,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nodes",{"annotation":{"meta":null,"sourceSpan":{"end":[58,36],"start":[58,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,24],"start":[58,14]}},"type":"Var","value":{"identifier":"finalModel","sourcePos":[56,5]}},"fieldName":"sankeyNodes","type":"Accessor"}],["links",{"annotation":{"meta":null,"sourceSpan":{"end":[59,36],"start":[59,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[59,24],"start":[59,14]}},"type":"Var","value":{"identifier":"finalModel","sourcePos":[56,5]}},"fieldName":"sankeyLinks","type":"Accessor"}]]}},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"computeLayoutWithConfig"},{"annotation":{"meta":null,"sourceSpan":{"end":[43,24],"start":[39,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[43,24],"start":[39,1]}},"argument":"linkInputs","body":{"annotation":{"meta":null,"sourceSpan":{"end":[43,24],"start":[39,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[43,24],"start":[39,1]}},"argument":"height","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[45,26],"start":[45,3]}},"type":"Var","value":{"identifier":"computeLayoutWithConfig","moduleName":["DataViz","Layout","Sankey","Compute"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,37],"start":[45,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,37],"start":[45,27]}},"type":"Var","value":{"identifier":"linkInputs","sourcePos":[44,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[45,72],"start":[45,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[45,59],"start":[45,40]}},"type":"Var","value":{"identifier":"defaultSankeyConfig","moduleName":["DataViz","Layout","Sankey","Types"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,65],"start":[45,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,65],"start":[45,60]}},"type":"Var","value":{"identifier":"width","sourcePos":[44,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[45,72],"start":[45,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,72],"start":[45,66]}},"type":"Var","value":{"identifier":"height","sourcePos":[44,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"computeLayout"}],"exports":["epsilon","computeLayout","computeLayoutWithConfig"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Control","Monad","State"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Control","Monad","State","Class"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Control","Monad","State","Trans"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Foldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Identity"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[23,23],"start":[23,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Number"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Ordering"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Set"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[19,30],"start":[19,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["DataViz","Layout","Sankey","Compute"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["DataViz","Layout","Sankey","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[14,15],"start":[14,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[1026,75],"start":[8,1]}},"moduleName":["Prim"]}],"moduleName":["DataViz","Layout","Sankey","Compute"],"modulePath":"../../visualisation libraries/purescript-hylograph-layout/src/DataViz/Layout/Sankey/Compute.purs","reExports":{},"sourceSpan":{"end":[1026,75],"start":[8,1]}}