# Worklog: 2026-02-04

## Session Focus
Planning for psd3-blog: a lightweight blogging platform for PSD3 library documentation with embedded Hylograph visualizations.

## Accomplished

### psd3-blog Planning Document
Created comprehensive plan at `apps/psd3-blog/PLAN.md` covering:

**Core Architecture Decisions:**
- Dynamic markdown loading (runtime fetch, no build step for content)
- Three embed types:
  1. `{{viz:ComponentName}}` - Full Halogen components from sandbox
  2. ` ```hats ` blocks - MetaHATS renders code + visualization inline
  3. Regular code blocks - Prism.js syntax highlighting
- Force layout index page (dogfooding Hylograph for navigation)
- Linear article flow (no grid complexity)

**Design Decisions:**
- MetaHATS to be built as reusable component during this work
- Mobile: no fallback for force layout, just make it work with proper touch targets
- Visual aesthetic: Jan Tschichold modernism
  - Clean sans-serif typography
  - Asymmetric layouts, generous white space
  - Restrained color palette (accent only for data)
  - No chrome, no clutter
  - Anti-goals: no hero images, social buttons, comments, newsletter popups

**Technical Design:**
- Halogen app with router (/ for force index, /post/:slug for articles)
- marked.js for runtime markdown parsing
- Prism.js with HATS syntax definition from Interactive HATS Explorer
- Node script for graph-builder (scans cross-references between posts)
- Sandbox workflow for viz development before incorporation

### Prior Art Research
Examined Simpson's Paradox implementation:
- Found `{{viz:ComponentName}}` pattern in markdown
- YAML frontmatter for layout grid
- Was auto-generated but now manually maintained
- Content modules in `site/website/src/Content/Simpsons/`

## Explored But Not Pursued

- **Static site generation**: Considered build-time markdownâ†’PureScript but chose dynamic loading for simpler workflow (edit and refresh, no intermediate files)

- **Grid layouts for articles**: Simpson's uses grid, but for blog posts linear flow is more natural and responsive

- **Mobile fallback to list**: Decided against - force layout IS the navigation, not optional enhancement

## Parking Lot

- Extract HATS Prism.js syntax definition from Interactive HATS Explorer
- Consider extracting MetaHATS component to library after blog is working
- RSS feed generation (mentioned in plan, not prioritized)

## Decisions Made

1. **Dynamic over static**: Runtime markdown loading chosen for workflow simplicity
2. **Three embed types**: Viz components, MetaHATS blocks, code blocks
3. **Force layout navigation**: Dogfood the library for blog UX
4. **Tschichold aesthetic**: Minimal, typographic, data-viz-focused design
5. **No mobile fallback**: Force layout must work on mobile

## Reports Generated

- `apps/psd3-blog/PLAN.md` - Full planning document

## Next Session Setup

Ready to begin implementation when desired. Suggested order:
1. Scaffold Halogen app with router
2. ArticleViewer with basic markdown rendering
3. Prism.js integration
4. MetaHATS component
5. Viz registry and `{{viz:}}` support
6. Graph builder and ForceIndex
